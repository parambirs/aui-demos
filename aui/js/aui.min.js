!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={"exports":{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({"1":[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{"value":!0});var d="data-skate-ignore";c.ATTR_IGNORE=d},{}],"2":[function(a,b,c){"use strict";b.exports={"get":function(a,b){return a.__SKATE_DATA?a.__SKATE_DATA[b]:void 0},"set":function(a,b,c){return a.__SKATE_DATA||(a.__SKATE_DATA={}),a.__SKATE_DATA[b]=c,a}}},{}],"3":[function(a,b,c){"use strict";function d(a){for(var b=a.length,c=0;b>c;c++){var d=a[c],e=d.addedNodes,f=d.removedNodes;e&&e.length&&!l(e[0].parentNode)&&i(e),f&&f.length&&j(f)}}function e(){var a=new k(d);return a.observe(document,{"childList":!0,"subtree":!0}),a}var f=function(a){return a&&a.__esModule?a["default"]:a},g=f(a("./globals")),h=a("./lifecycle"),i=h.initElements,j=h.removeElements,k=f(a("./mutation-observer")),l=a("./utils").getClosestIgnoredElement;b.exports={"register":function(a){return a&&(k.fixIe(),this.unregister()),g.observer||(g.observer=e()),this},"unregister":function(){return g.observer&&(g.observer.disconnect(),g.observer=void 0),this}}},{"./globals":4,"./lifecycle":5,"./mutation-observer":6,"./utils":9}],"4":[function(a,b,c){"use strict";window.__skate||(window.__skate={"observer":void 0,"registry":{}}),b.exports=window.__skate},{}],"5":[function(a,b,c){"use strict";function d(a,b,c){return r.get(a,b.id+":lifecycle:"+c)}function e(a,b,c,d){r.set(a,b.id+":lifecycle:"+c,!!d)}function f(a,b,c){return d(a,b,c)?!0:(e(a,b,c,!0),!1)}function g(a){var b=a.split(" ");return{"name":b.shift(),"delegate":b.join(" ")}}function h(a,b){function c(c,d,e,f){var g;b.attributes&&b.attributes[d]&&"function"==typeof b.attributes[d][c]?g=b.attributes[d][c]:b.attributes&&"function"==typeof b.attributes[d]?g=b.attributes[d]:"function"==typeof b.attributes&&(g=b.attributes),g&&g(a,{"type":c,"name":d,"newValue":e,"oldValue":f})}var d,e=a.attributes,f=[],g=e.length,h=new s(function(a){a.forEach(function(a){var b,d=a.attributeName,f=e[d];f&&null===a.oldValue?b="created":f&&null!==a.oldValue?b="updated":f||(b="removed"),c(b,d,f?f.value||f.nodeValue:void 0,a.oldValue)})});for(h.observe(a,{"attributes":!0,"attributeOldValue":!0}),d=0;g>d;d++)f.push(e[d]);for(d=0;g>d;d++){var i=f[d];c("created",i.nodeName,i.value||i.nodeValue)}}function i(a,b){function c(b,c){return function(d){if(!c)return b(a,d,a);for(var e=d.target;e&&e!==document&&e!==a.parentNode;){if(y.call(e,c))return b(a,d,e);e=e.parentNode}}}"object"==typeof b.events&&w(b.events,function(b,d){var e=g(d),f=!!e.delegate&&("blur"===e.name||"focus"===e.name);a.addEventListener(e.name,c(b,e.delegate),f)})}function j(a,b){f(a,b,"created")||(v(a,b.prototype,!0),b.template&&b.template(a),i(a,b),h(a,b),b.created&&b.created(a))}function k(a,b){f(a,b,"attached")||(a.removeAttribute(b.unresolvedAttribute),a.setAttribute(b.resolvedAttribute,""),b.attached&&b.attached(a))}function l(a,b){b.detached&&b.detached(a),e(a,b,"attached",!1)}function m(a,b){j(a,b),k(a,b)}function n(a){for(var b=a.length,c=0;b>c;c++){var d=a[c];if(1===d.nodeType&&!d.attributes[q]){for(var e=t.getForElement(d),f=e.length,g=0;f>g;g++)m(d,e[g]);var h=d.childNodes,i=h.length;i&&n(h)}}}function o(a){for(var b=a.length,c=0;b>c;c++){var d=a[c];if(1===d.nodeType){o(d.childNodes);for(var e=t.getForElement(d),f=e.length,g=0;f>g;g++)l(d,e[g])}}}var p=function(a){return a&&a.__esModule?a["default"]:a};Object.defineProperty(c,"__esModule",{"value":!0});var q=a("./constants").ATTR_IGNORE,r=p(a("./data")),s=p(a("./mutation-observer")),t=p(a("./registry")),u=a("./utils"),v=u.inherit,w=u.objEach,x=window.HTMLElement.prototype,y=x.matches||x.msMatchesSelector||x.webkitMatchesSelector||x.mozMatchesSelector||x.oMatchesSelector;c.triggerCreated=j,c.initElements=n,c.removeElements=o},{"./constants":1,"./data":2,"./mutation-observer":6,"./registry":7,"./utils":9}],"6":[function(a,b,c){"use strict";function d(a,b){return 1!==a.nodeType?!1:a.contains?a.contains(b):l.call(a,b)}function e(a,b){return{"addedNodes":null,"attributeName":null,"attributeNamespace":null,"nextSibling":null,"oldValue":null,"previousSibling":null,"removedNodes":null,"target":a,"type":b||"childList"}}function f(a,b){var c=a.childNodes;if(c)for(var d=c.length,e=0;d>e;e++){var g=c[e];b(g),f(g,b)}}function g(a){return m&&!n?new m(a):(this.callback=a,void(this.elements=[]))}var h=a("./utils"),i=h.debounce,j=h.objEach,k=window.HTMLElement.prototype,l=window.HTMLElement.prototype.contains,m=window.MutationObserver||window.WebkitMutationObserver||window.MozMutationObserver,n=!1,o=window.navigator.userAgent.indexOf("Trident")>-1;g.fixIe=function(){if(o&&!n){var a=Object.getOwnPropertyDescriptor(k,"innerHTML");Object.defineProperty(k,"innerHTML",{"get":function(){return a.get.call(this)},"set":function(b){f(this,function(a){var b=document.createEvent("MutationEvent");b.initMutationEvent("DOMNodeRemoved",!0,!1,null,null,null,null,null),a.dispatchEvent(b)}),a.set.call(this,b)}}),n=!0}},Object.defineProperty(g,"isFixingIe",{"get":function(){return n}}),g.prototype={"observe":function(a,b){function c(a){m.push(a),p()}function f(a){var b=a.target;if(b){var c=a.type,f=b.parentNode;if(h(f)){var g=n&&"DOMNodeRemoved"===c,i=j&&d(j,b);(g||!i)&&(k&&k.target===f||o.push(k=e(f)),"DOMNodeInserted"===c?(k.addedNodes||(k.addedNodes=[]),k.addedNodes.push(b)):(k.removedNodes||(k.removedNodes=[]),k.removedNodes.push(b)),j=b)}}}function g(c){return b.attributes&&(b.subtree||c===a)}function h(c){return b.childList&&(b.subtree||c===a)}var j,k,l=this,m=[],o=[],p=i(function(){for(var a=m.length,b=0;a>b;b++)f(m[b]);l.callback(o),m=[],o=[],j=void 0,k=void 0}),q={},r=[],s=i(function(){var a=r.length;l.callback(r),r.splice(0,a)}),t={"target":a,"options":b,"insertHandler":c,"removeHandler":c,"attributeHandler":function(a){var c=a.target;if(g(c)){var d=a.attrName,f=a.prevValue,h=a.newValue,i=e(c,"attributes");i.attributeName=d,b.attributeOldValue&&(i.oldValue=q[d]||f||null),r.push(i),b.attributeOldValue&&(q[d]=h),s()}}};return this.elements.push(t),b.childList&&(a.addEventListener("DOMNodeInserted",t.insertHandler),a.addEventListener("DOMNodeRemoved",t.removeHandler)),b.attributes&&a.addEventListener("DOMAttrModified",t.attributeHandler),this},"disconnect":function(){return j(this.elements,function(a){a.target.removeEventListener("DOMNodeInserted",a.insertHandler),a.target.removeEventListener("DOMNodeRemoved",a.removeHandler),a.target.removeEventListener("DOMAttrModified",a.attributeHandler)}),this.elements=[],this}},b.exports=g},{"./utils":9}],"7":[function(a,b,c){"use strict";function d(a){var b=a.classList;if(b)return b;var c=a.attributes;return c["class"]&&c["class"].nodeValue.split(/\s+/)||[]}function e(a,b){return h(g.registry,a)&&g.registry[a].type.indexOf(b)>-1}var f=function(a){return a&&a.__esModule?a["default"]:a},g=f(a("./globals")),h=a("./utils").hasOwn;b.exports={"clear":function(){return g.registry={},this},"getForElement":function(a){var b,c,f=a.attributes,h=f.length,i=[],j=f.is,k=j&&(j.value||j.nodeValue),l=a.tagName.toLowerCase(),m=k||l;e(m,skate.types.TAG)&&(b=g.registry[m],c=b["extends"],k?l===c&&i.push(b):c||i.push(b));for(var n=0;h>n;n++){var o=f[n].nodeName;e(o,skate.types.ATTR)&&(b=g.registry[o],c=b["extends"],c&&l!==c||i.push(b))}for(var p=d(a),q=p.length,r=0;q>r;r++){var s=p[r];e(s,skate.types.CLASS)&&(b=g.registry[s],c=b["extends"],c&&l!==c||i.push(b))}return i},"has":function(a){return h(g.registry,a)},"set":function(a,b){if(this.has(a))throw new Error('A definition of type "'+b.type+'" with the ID of "'+a+'" already exists.');return g.registry[a]=b,this},"remove":function(a){return this.has(a)&&delete g.registry[a],this}}},{"./globals":4,"./utils":9}],"8":[function(a,b,c){"use strict";function d(){return q?"complete"===document.readyState:"interactive"===document.readyState||"complete"===document.readyState}function e(a){function b(){var c,d=a["extends"],e=a.id;return d?(c=document.createElement(d),c.setAttribute("is",e)):c=document.createElement(e),a.prototype=b.prototype,j(c,a),c}return b.prototype=a.prototype,b}function f(a,b){if(b=o(b||{},f.defaults),b.id=a,l.has(b.id))throw new Error('A definition of type "'+b.type+'" with the ID of "'+a+'" already exists.');return l.set(b.id,b),r(),h.register(b.remove),b.type.indexOf(f.types.TAG)>-1?e(b):void 0}var g=function(a){return a&&a.__esModule?a["default"]:a},h=g(a("./document-observer")),i=a("./lifecycle"),j=i.triggerCreated,k=i.initElements,l=g(a("./registry")),m=a("./utils"),n=m.debounce,o=m.inherit,p=g(a("./version")),q=!!document.attachEvent,r=n(function(){var a=function(){k(document.getElementsByTagName("html"))};d()?a():q?window.addEventListener("load",a):document.addEventListener("DOMContentLoaded",a)});f.init=function(a){return a?("string"==typeof a&&(a=document.querySelectorAll(a)),k("undefined"==typeof a.length?[a]:a),a):void 0},f.types={"ANY":"act","ATTR":"a","CLASS":"c","NOATTR":"ct","NOCLASS":"at","NOTAG":"ac","TAG":"t"},f.version=p,f.defaults={"attributes":void 0,"events":void 0,"extends":"","id":"","prototype":{},"resolvedAttribute":"resolved","template":void 0,"type":f.types.ANY,"unresolvedAttribute":"unresolved"};var s=window.skate;f.noConflict=function(){return window.skate=s,this},window.skate=f,"function"==typeof define&&define("aui/internal/skate",[],function(){return f}),"object"==typeof c&&(c["default"]=f),b.exports=f},{"./document-observer":3,"./lifecycle":5,"./registry":7,"./utils":9,"./version":10}],"9":[function(a,b,c){"use strict";function d(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function e(a){var b=!1;return function(){b||(b=!0,setTimeout(function(){b=!1,a()},1))}}function f(a){for(var b=a;b&&b!==document&&!(b instanceof DocumentFragment);){if(b.hasAttribute(i))return b;b=b.parentNode}}function g(a,b,c){for(var d=Object.getOwnPropertyNames(b),e=d.length,f=0;e>f;f++){var g=d[f];if(c||void 0===a[g]){var h=Object.getOwnPropertyDescriptor(b,g),i=h.get||h.set||!h.writable||!h.enumerable||!h.configurable;i?Object.defineProperty(a,g,h):a[g]=b[g]}}return a}function h(a,b){for(var c in a)d(a,c)&&b(a[c],c)}c.hasOwn=d,c.debounce=e,c.getClosestIgnoredElement=f,c.inherit=g,c.objEach=h,Object.defineProperty(c,"__esModule",{"value":!0});var i=a("./constants").ATTR_IGNORE},{"./constants":1}],"10":[function(a,b,c){"use strict";b.exports="0.12.5"},{}]},{},[8]),function(){"use strict";function a(a,b){return a.__SKATE_TEMPLATE_HTML_DATA?a.__SKATE_TEMPLATE_HTML_DATA[b]:void 0}function b(a,b,c){return a.__SKATE_TEMPLATE_HTML_DATA||(a.__SKATE_TEMPLATE_HTML_DATA={}),a.__SKATE_TEMPLATE_HTML_DATA[b]=c,a}function c(a){var b={"caption":"table","dd":"dl","dt":"dl","li":"ul","tbody":"table","td":"tr","thead":"table","tr":"tbody"},c=(document.createDocumentFragment(),a.match(/\s*<([^\s>]+)/)),e=document.createElement(c&&b[c[1]]||"div");return e.innerHTML=a,d(e.childNodes)}function d(a){for(var b=document.createDocumentFragment();a&&a.length;)b.appendChild(a[0]);return b}function e(a,b){for(var c=[],d=a.nextSibling;d!==b;)c.push(d),d=d.nextSibling;return c}function f(a,b){if(b){for(var c=a.querySelectorAll(b),d=c.length,e=[],f=0;d>f;f++){var g=c[f];g.parentNode===a&&e.push(g)}return e}return[].slice.call(a.childNodes)||[]}function g(b){var d=a(b,"content"),g=d.length;return{"childNodes":{"get":function(){for(var a=[],b=0;g>b;b++){var c=d[b];c.isDefault||(a=a.concat(e(c.startNode,c.endNode)))}return a}},"firstChild":{"get":function(){var a=this.childNodes;return a.length&&a[0]||null}},"innerHTML":{"get":function(){for(var a="",b=this.childNodes,c=b.length,d=0;c>d;d++){var e=b[d];a+=e.outerHTML||e.textContent}return a},"set":function(a){for(var b=c(a),j=0;g>j;j++){for(var k=d[j],l=e(k.startNode,k.endNode),m=0;m<l.length;m++){var n=l[m];n.parentNode.removeChild(n)}for(var o=f(b,k.selector),p=0;p<o.length;p++)k.container.insertBefore(o[p],k.endNode);o.length?i(k):h(k)}}},"lastChild":{"get":function(){for(var a=g-1;a>-1;a--){var b=d[a];if(!b.isDefault){var c=this.childNodes,e=c.length;return c[e-1]}}return null}},"outerHTML":{"get":function(){var a=this.tagName.toLowerCase(),b="<"+a,c=this.attributes;if(c)for(var d=c.length,e=0;d>e;e++){var f=c[e];b+=" "+f.nodeName+'="'+f.nodeValue+'"'}return b+=">",b+=this.innerHTML,b+="</"+a+">"}},"textContent":{"get":function(){for(var a="",b=this.childNodes,c=this.childNodes.length,d=0;c>d;d++)a+=b[d].textContent;return a},"set":function(a){var b;this.innerHTML="";for(var c=0;g>c;c++){var e=d[c];if(!e.selector){b=e;break}}b&&(a?(i(b),b.container.insertBefore(document.createTextNode(a),b.endNode)):h(b))}},"appendChild":{"value":function(a){if(a instanceof n){var b=a.childNodes;return[].slice.call(b).forEach(function(a){this.appendChild(a)}.bind(this)),this}for(var c=0;g>c;c++){var e=d[c],f=e.selector;if(!f||a instanceof window.HTMLElement&&p.call(a,f)){i(e),e.endNode.parentNode.insertBefore(a,e.endNode);break}}return this}},"insertAdjacentHTML":{"value":function(a,d){return"afterbegin"===a?this.insertBefore(c(d),this.childNodes[0]):"beforeend"===a?this.appendChild(c(d)):b.insertAdjacentHTML(a,d),this}},"insertBefore":{"value":function(a,b){if(!b)return this.appendChild(a);if(a instanceof n){var c=a.childNodes;if(c)for(var f=c.length,h=0;f>h;h++)this.insertBefore(c[h],b);return this}var i=!1;a:for(var j=0;g>j;j++)for(var k=d[j],l=e(k.startNode,k.endNode),m=l.length,o=0;m>o;o++){var q=l[o];if(q===b&&(i=!0),i){var r=k.selector;if(!r||p.call(a,r)){q.parentNode.insertBefore(a,q);break a}}}if(!i)throw new Error("DOMException 8: The node before which the new node is to be inserted is not a child of this node.");return a}},"removeChild":{"value":function(a){for(var b=!1,c=0;g>c;c++){var e=d[c];if(e.container===a.parentNode){e.container.removeChild(a),b=!0;break}e.startNode.nextSibling===e.endNode&&h(e)}if(!b)throw new Error("DOMException 8: The node in which you are trying to remove is not a child of this node.");return a}},"replaceChild":{"value":function(a,b){for(var c=0;g>c;c++){var e=d[c];if(e.container===b.parentNode){e.container.replaceChild(a,b);break}}return this}}}}function h(a){for(var b=a.defaultNodes,c=b.length,d=0;c>d;d++)a.container.insertBefore(b[d],a.endNode);a.isDefault=!0}function i(a){for(var b=a.defaultNodes,c=b.length,d=0;c>d;d++){var e=b[d];e.parentNode.removeChild(e)}a.isDefault=!1}function j(a,b){return{"get":function(){var c=a[b];return"function"==typeof c?c.bind(a):c},"set":function(c){a[b]=c}}}function k(a,b){var c={};for(var d in a){var e=d in b;e?Object.defineProperty(c,d,b[d]):Object.defineProperty(c,d,j(a,d))}return c}function l(a){var c=a.getElementsByTagName("content"),d=c&&c.length;if(d){for(var e=[];c.length;){var f=c[0],g=f.parentNode,h=document.createComment(""),i=document.createComment("");e.push({"container":g,"contentNode":f,"defaultNodes":[].slice.call(f.childNodes),"endNode":i,"isDefault":!0,"selector":f.getAttribute("select"),"startNode":h}),g.replaceChild(i,f),g.insertBefore(h,i)}b(a,"content",e)}}function m(){var a=[].slice.call(arguments).join("");return function(b){var c=d(b.childNodes);b.innerHTML=a,l(b),c.childNodes.length&&m.wrap(b).appendChild(c)}}var n=window.DocumentFragment,o=window.HTMLElement.prototype,p=o.matches||o.msMatchesSelector||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector;m.wrap=function(b){return a(b,"content")?k(b,g(b)):b},window.skateTemplateHtml=m,"function"==typeof define&&define("aui/internal/skate-template-html",[],function(){return m}),"object"==typeof module&&(module.exports=m)}(),function(a){(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r={}.hasOwnProperty,s=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},t=[].slice;null==this.Tether&&(this.Tether={"modules":[]}),k=function(a){var b,c,d,e,f;if(c=getComputedStyle(a).position,"fixed"===c)return a;for(d=void 0,b=a;b=b.parentNode;){try{e=getComputedStyle(b)}catch(g){}if(null==e)return b;if(/(auto|scroll)/.test(e.overflow+e["overflow-y"]+e["overflow-x"])&&("absolute"!==c||"relative"===(f=e.position)||"absolute"===f||"fixed"===f))return b}return document.body},o=function(){var a;return a=0,function(){return a++}}(),q={},i=function(a){var b,d,f,g,h;if(f=a._tetherZeroElement,null==f&&(f=a.createElement("div"),f.setAttribute("data-tether-id",o()),e(f.style,{"top":0,"left":0,"position":"absolute"}),a.body.appendChild(f),a._tetherZeroElement=f),b=f.getAttribute("data-tether-id"),null==q[b]){q[b]={},h=f.getBoundingClientRect();for(d in h)g=h[d],q[b][d]=g;c(function(){return q[b]=void 0})}return q[b]},m=null,g=function(a){var b,c,d,e,f,g,h;a===document?(c=document,a=document.documentElement):c=a.ownerDocument,d=c.documentElement,b={},h=a.getBoundingClientRect();for(e in h)g=h[e],b[e]=g;return f=i(c),b.top-=f.top,b.left-=f.left,null==b.width&&(b.width=document.body.scrollWidth-b.left-b.right),null==b.height&&(b.height=document.body.scrollHeight-b.top-b.bottom),b.top=b.top-d.clientTop,b.left=b.left-d.clientLeft,b.right=c.body.clientWidth-b.width-b.left,b.bottom=c.body.clientHeight-b.height-b.top,b},h=function(a){return a.offsetParent||document.documentElement},j=function(){var a,b,c,d,f;return a=document.createElement("div"),a.style.width="100%",a.style.height="200px",b=document.createElement("div"),e(b.style,{"position":"absolute","top":0,"left":0,"pointerEvents":"none","visibility":"hidden","width":"200px","height":"150px","overflow":"hidden"}),b.appendChild(a),document.body.appendChild(b),d=a.offsetWidth,b.style.overflow="scroll",f=a.offsetWidth,d===f&&(f=b.clientWidth),document.body.removeChild(b),c=d-f,{"width":c,"height":c}},e=function(a){var b,c,d,e,f,g,h;for(null==a&&(a={}),b=[],Array.prototype.push.apply(b,arguments),h=b.slice(1),f=0,g=h.length;g>f;f++)if(d=h[f])for(c in d)r.call(d,c)&&(e=d[c],a[c]=e);return a},n=function(a,b){var c,d,e,f,g;if(null!=a.classList){for(f=b.split(" "),g=[],d=0,e=f.length;e>d;d++)c=f[d],c.trim()&&g.push(a.classList.remove(c));return g}return a.className=a.className.replace(new RegExp("(^| )"+b.split(" ").join("|")+"( |$)","gi")," ")},b=function(a,b){var c,d,e,f,g;if(null!=a.classList){for(f=b.split(" "),g=[],d=0,e=f.length;e>d;d++)c=f[d],c.trim()&&g.push(a.classList.add(c));return g}return n(a,b),a.className+=" "+b},l=function(a,b){return null!=a.classList?a.classList.contains(b):new RegExp("(^| )"+b+"( |$)","gi").test(a.className)},p=function(a,c,d){var e,f,g,h,i,j;for(f=0,h=d.length;h>f;f++)e=d[f],s.call(c,e)<0&&l(a,e)&&n(a,e);for(j=[],g=0,i=c.length;i>g;g++)e=c[g],l(a,e)?j.push(void 0):j.push(b(a,e));return j},d=[],c=function(a){return d.push(a)},f=function(){var a,b;for(b=[];a=d.pop();)b.push(a());return b},a=function(){function a(){}return a.prototype.on=function(a,b,c,d){var e;return null==d&&(d=!1),null==this.bindings&&(this.bindings={}),null==(e=this.bindings)[a]&&(e[a]=[]),this.bindings[a].push({"handler":b,"ctx":c,"once":d})},a.prototype.once=function(a,b,c){return this.on(a,b,c,!0)},a.prototype.off=function(a,b){var c,d,e;if(null!=(null!=(d=this.bindings)?d[a]:void 0)){if(null==b)return delete this.bindings[a];for(c=0,e=[];c<this.bindings[a].length;)this.bindings[a][c].handler===b?e.push(this.bindings[a].splice(c,1)):e.push(c++);return e}},a.prototype.trigger=function(){var a,b,c,d,e,f,g,h,i;if(c=arguments[0],a=2<=arguments.length?t.call(arguments,1):[],null!=(g=this.bindings)?g[c]:void 0){for(e=0,i=[];e<this.bindings[c].length;)h=this.bindings[c][e],d=h.handler,b=h.ctx,f=h.once,d.apply(null!=b?b:this,a),f?i.push(this.bindings[c].splice(e,1)):i.push(e++);return i}},a}(),this.Tether.Utils={"getScrollParent":k,"getBounds":g,"getOffsetParent":h,"extend":e,"addClass":b,"removeClass":n,"hasClass":l,"updateClasses":p,"defer":c,"flush":f,"uniqueId":o,"Evented":a,"getScrollBarSize":j}}).call(this),function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=[].slice,E=function(a,b){return function(){return a.apply(b,arguments)}};if(null==this.Tether)throw new Error("You must include the utils.js file before tether.js");d=this.Tether,C=d.Utils,p=C.getScrollParent,q=C.getSize,n=C.getOuterSize,l=C.getBounds,m=C.getOffsetParent,j=C.extend,e=C.addClass,w=C.removeClass,z=C.updateClasses,i=C.defer,k=C.flush,o=C.getScrollBarSize,A=function(a,b,c){return null==c&&(c=1),a+c>=b&&b>=a-c},y=function(){var a,b,c,d,e;for(a=document.createElement("div"),e=["transform","webkitTransform","OTransform","MozTransform","msTransform"],c=0,d=e.length;d>c;c++)if(b=e[c],void 0!==a.style[b])return b}(),x=[],v=function(){var a,b,c;for(b=0,c=x.length;c>b;b++)a=x[b],a.position(!1);return k()},r=function(){var a;return null!=(a="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?a:+new Date},function(){var a,b,c,d,e,f,g,h,i;for(b=null,c=null,d=null,e=function(){if(null!=c&&c>16)return c=Math.min(c-16,250),void(d=setTimeout(e,250));if(!(null!=b&&r()-b<10))return null!=d&&(clearTimeout(d),d=null),b=r(),v(),c=r()-b},h=["resize","scroll","touchmove"],i=[],f=0,g=h.length;g>f;f++)a=h[f],i.push(window.addEventListener(a,e));return i}(),a={"center":"center","left":"right","right":"left"},b={"middle":"middle","top":"bottom","bottom":"top"},c={"top":0,"left":0,"middle":"50%","center":"50%","bottom":"100%","right":"100%"},h=function(c,d){var e,f;return e=c.left,f=c.top,"auto"===e&&(e=a[d.left]),"auto"===f&&(f=b[d.top]),{"left":e,"top":f}},g=function(a){var b,d;return{"left":null!=(b=c[a.left])?b:a.left,"top":null!=(d=c[a.top])?d:a.top}},f=function(){var a,b,c,d,e,f,g;for(b=1<=arguments.length?D.call(arguments,0):[],c={"top":0,"left":0},e=0,f=b.length;f>e;e++)g=b[e],d=g.top,a=g.left,"string"==typeof d&&(d=parseFloat(d,10)),"string"==typeof a&&(a=parseFloat(a,10)),c.top+=d,c.left+=a;return c},s=function(a,b){return"string"==typeof a.left&&-1!==a.left.indexOf("%")&&(a.left=parseFloat(a.left,10)/100*b.width),"string"==typeof a.top&&-1!==a.top.indexOf("%")&&(a.top=parseFloat(a.top,10)/100*b.height),a},t=u=function(a){var b,c,d;return d=a.split(" "),c=d[0],b=d[1],{"top":c,"left":b}},B=function(){function a(a){this.position=E(this.position,this);var b,c,e,f,g;for(x.push(this),this.history=[],this.setOptions(a,!1),f=d.modules,c=0,e=f.length;e>c;c++)b=f[c],null!=(g=b.initialize)&&g.call(this);this.position()}return a.modules=[],a.prototype.getClass=function(a){var b,c;return(null!=(b=this.options.classes)?b[a]:void 0)?this.options.classes[a]:(null!=(c=this.options.classes)?c[a]:void 0)!==!1?this.options.classPrefix?""+this.options.classPrefix+"-"+a:a:""},a.prototype.setOptions=function(a,b){var c,d,f,g,h,i;for(this.options=a,null==b&&(b=!0),c={"offset":"0 0","targetOffset":"0 0","targetAttachment":"auto auto","classPrefix":"tether"},this.options=j(c,this.options),h=this.options,this.element=h.element,this.target=h.target,this.targetModifier=h.targetModifier,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),i=["element","target"],f=0,g=i.length;g>f;f++){if(d=i[f],null==this[d])throw new Error("Tether Error: Both element and target must be defined");null!=this[d].jquery?this[d]=this[d][0]:"string"==typeof this[d]&&(this[d]=document.querySelector(this[d]))}if(e(this.element,this.getClass("element")),e(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");return this.targetAttachment=t(this.options.targetAttachment),this.attachment=t(this.options.attachment),this.offset=u(this.options.offset),this.targetOffset=u(this.options.targetOffset),null!=this.scrollParent&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParent=this.target:this.scrollParent=p(this.target),this.options.enabled!==!1?this.enable(b):void 0},a.prototype.getTargetBounds=function(){var a,b,c,d,e,f,g,h,i;if(null==this.targetModifier)return l(this.target);switch(this.targetModifier){case"visible":return this.target===document.body?{"top":pageYOffset,"left":pageXOffset,"height":innerHeight,"width":innerWidth}:(a=l(this.target),e={"height":a.height,"width":a.width,"top":a.top,"left":a.left},e.height=Math.min(e.height,a.height-(pageYOffset-a.top)),e.height=Math.min(e.height,a.height-(a.top+a.height-(pageYOffset+innerHeight))),e.height=Math.min(innerHeight,e.height),e.height-=2,e.width=Math.min(e.width,a.width-(pageXOffset-a.left)),e.width=Math.min(e.width,a.width-(a.left+a.width-(pageXOffset+innerWidth))),e.width=Math.min(innerWidth,e.width),e.width-=2,e.top<pageYOffset&&(e.top=pageYOffset),e.left<pageXOffset&&(e.left=pageXOffset),e);case"scroll-handle":return i=this.target,i===document.body?(i=document.documentElement,a={"left":pageXOffset,"top":pageYOffset,"height":innerHeight,"width":innerWidth}):a=l(i),h=getComputedStyle(i),c=i.scrollWidth>i.clientWidth||"scroll"===[h.overflow,h.overflowX]||this.target!==document.body,f=0,c&&(f=15),d=a.height-parseFloat(h.borderTopWidth)-parseFloat(h.borderBottomWidth)-f,e={"width":15,"height":.975*d*(d/i.scrollHeight),"left":a.left+a.width-parseFloat(h.borderLeftWidth)-15},b=0,408>d&&this.target===document.body&&(b=-11e-5*Math.pow(d,2)-.00727*d+22.58),this.target!==document.body&&(e.height=Math.max(e.height,24)),g=this.target.scrollTop/(i.scrollHeight-d),e.top=g*(d-e.height-b)+a.top+parseFloat(h.borderTopWidth),this.target===document.body&&(e.height=Math.max(e.height,24)),e}},a.prototype.clearCache=function(){return this._cache={}},a.prototype.cache=function(a,b){return null==this._cache&&(this._cache={}),null==this._cache[a]&&(this._cache[a]=b.call(this)),this._cache[a]},a.prototype.enable=function(a){return null==a&&(a=!0),e(this.target,this.getClass("enabled")),e(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParent!==document&&this.scrollParent.addEventListener("scroll",this.position),a?this.position():void 0},a.prototype.disable=function(){return w(this.target,this.getClass("enabled")),w(this.element,this.getClass("enabled")),this.enabled=!1,null!=this.scrollParent?this.scrollParent.removeEventListener("scroll",this.position):void 0},a.prototype.destroy=function(){var a,b,c,d,e;for(this.disable(),e=[],a=c=0,d=x.length;d>c;a=++c){if(b=x[a],b===this){x.splice(a,1);break}e.push(void 0)}return e},a.prototype.updateAttachClasses=function(a,b){var c,d,e,f,g,h,j,k,l,m=this;for(null==a&&(a=this.attachment),null==b&&(b=this.targetAttachment),f=["left","top","bottom","right","middle","center"],(null!=(l=this._addAttachClasses)?l.length:void 0)&&this._addAttachClasses.splice(0,this._addAttachClasses.length),c=null!=this._addAttachClasses?this._addAttachClasses:this._addAttachClasses=[],a.top&&c.push(""+this.getClass("element-attached")+"-"+a.top),a.left&&c.push(""+this.getClass("element-attached")+"-"+a.left),b.top&&c.push(""+this.getClass("target-attached")+"-"+b.top),b.left&&c.push(""+this.getClass("target-attached")+"-"+b.left),d=[],g=0,j=f.length;j>g;g++)e=f[g],d.push(""+this.getClass("element-attached")+"-"+e);for(h=0,k=f.length;k>h;h++)e=f[h],d.push(""+this.getClass("target-attached")+"-"+e);return i(function(){return null!=m._addAttachClasses?(z(m.element,m._addAttachClasses,d),z(m.target,m._addAttachClasses,d),m._addAttachClasses=void 0):void 0})},a.prototype.position=function(a){var b,c,e,i,j,n,p,q,r,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T=this;if(null==a&&(a=!0),this.enabled){for(this.clearCache(),D=h(this.targetAttachment,this.attachment),this.updateAttachClasses(this.attachment,D),b=this.cache("element-bounds",function(){return l(T.element)}),I=b.width,e=b.height,0===I&&0===e&&null!=this.lastSize?(N=this.lastSize,I=N.width,e=N.height):this.lastSize={"width":I,"height":e},G=F=this.cache("target-bounds",function(){return T.getTargetBounds()}),r=s(g(this.attachment),{"width":I,"height":e}),E=s(g(D),G),j=s(this.offset,{"width":I,"height":e}),n=s(this.targetOffset,G),r=f(r,j),E=f(E,n),i=F.left+E.left-r.left,H=F.top+E.top-r.top,O=d.modules,J=0,L=O.length;L>J;J++)if(p=O[J],y=p.position.call(this,{"left":i,"top":H,"targetAttachment":D,"targetPos":F,"attachment":this.attachment,"elementPos":b,"offset":r,"targetOffset":E,"manualOffset":j,"manualTargetOffset":n,"scrollbarSize":B}),null!=y&&"object"==typeof y){if(y===!1)return!1;H=y.top,i=y.left}if(q={"page":{"top":H,"left":i},"viewport":{"top":H-pageYOffset,"bottom":pageYOffset-H-e+innerHeight,"left":i-pageXOffset,"right":pageXOffset-i-I+innerWidth}},document.body.scrollWidth>window.innerWidth&&(B=this.cache("scrollbar-size",o),q.viewport.bottom-=B.height),document.body.scrollHeight>window.innerHeight&&(B=this.cache("scrollbar-size",o),q.viewport.right-=B.width),(""!==(P=document.body.style.position)&&"static"!==P||""!==(Q=document.body.parentElement.style.position)&&"static"!==Q)&&(q.page.bottom=document.body.scrollHeight-H-e,q.page.right=document.body.scrollWidth-i-I),(null!=(R=this.options.optimizations)?R.moveElement:void 0)!==!1&&null==this.targetModifier){for(u=this.cache("target-offsetparent",function(){return m(T.target)}),x=this.cache("target-offsetparent-bounds",function(){return l(u)}),w=getComputedStyle(u),c=getComputedStyle(this.element),v=x,t={},S=["Top","Left","Bottom","Right"],K=0,M=S.length;M>K;K++)C=S[K],t[C.toLowerCase()]=parseFloat(w["border"+C+"Width"]);x.right=document.body.scrollWidth-x.left-v.width+t.right,x.bottom=document.body.scrollHeight-x.top-v.height+t.bottom,q.page.top>=x.top+t.top&&q.page.bottom>=x.bottom&&q.page.left>=x.left+t.left&&q.page.right>=x.right&&(A=u.scrollTop,z=u.scrollLeft,q.offset={"top":q.page.top-x.top+A-t.top,"left":q.page.left-x.left+z-t.left})}return this.move(q),this.history.unshift(q),this.history.length>3&&this.history.pop(),a&&k(),!0}},a.prototype.move=function(a){var b,c,d,e,f,g,h,k,l,n,o,p,q,r,s,t,u,v=this;if(null!=this.element.parentNode){k={};for(n in a){k[n]={};for(e in a[n]){for(d=!1,t=this.history,r=0,s=t.length;s>r;r++)if(h=t[r],!A(null!=(u=h[n])?u[e]:void 0,a[n][e])){d=!0;break}d||(k[n][e]=!0)}}b={"top":"","left":"","right":"","bottom":""},l=function(a,c){var d,e,f;return(null!=(f=v.options.optimizations)?f.gpu:void 0)===!1?(a.top?b.top=""+c.top+"px":b.bottom=""+c.bottom+"px",a.left?b.left=""+c.left+"px":b.right=""+c.right+"px"):(a.top?(b.top=0,e=c.top):(b.bottom=0,e=-c.bottom),a.left?(b.left=0,d=c.left):(b.right=0,d=-c.right),b[y]="translateX("+Math.round(d)+"px) translateY("+Math.round(e)+"px)","msTransform"!==y?b[y]+=" translateZ(0)":void 0)},f=!1,(k.page.top||k.page.bottom)&&(k.page.left||k.page.right)?(b.position="absolute",l(k.page,a.page)):(k.viewport.top||k.viewport.bottom)&&(k.viewport.left||k.viewport.right)?(b.position="fixed",l(k.viewport,a.viewport)):null!=k.offset&&k.offset.top&&k.offset.left?(b.position="absolute",g=this.cache("target-offsetparent",function(){return m(v.target)}),m(this.element)!==g&&i(function(){return v.element.parentNode.removeChild(v.element),g.appendChild(v.element)}),l(k.offset,a.offset),f=!0):(b.position="absolute",l({"top":!0,"left":!0},a.page)),f||"BODY"===this.element.parentNode.tagName||(this.element.parentNode.removeChild(this.element),document.body.appendChild(this.element)),q={},p=!1;for(e in b)o=b[e],c=this.element.style[e],""===c||""===o||"top"!==e&&"left"!==e&&"bottom"!==e&&"right"!==e||(c=parseFloat(c),o=parseFloat(o)),c!==o&&(p=!0,q[e]=b[e]);return p?i(function(){return j(v.element.style,q)}):void 0}},a}(),d.position=v,this.Tether=j(B,d)}.call(this),function(){var a,b,c,d,e,f,g,h,i,j,k=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};j=this.Tether.Utils,g=j.getOuterSize,f=j.getBounds,h=j.getSize,d=j.extend,i=j.updateClasses,c=j.defer,b={"left":"right","right":"left","top":"bottom","bottom":"top","middle":"middle"},a=["left","top","right","bottom"],e=function(b,c){var d,e,g,h,i,j,k;
if("scrollParent"===c?c=b.scrollParent:"window"===c&&(c=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),c===document&&(c=c.documentElement),null!=c.nodeType)for(e=h=f(c),i=getComputedStyle(c),c=[e.left,e.top,h.width+e.left,h.height+e.top],d=j=0,k=a.length;k>j;d=++j)g=a[d],g=g[0].toUpperCase()+g.substr(1),"Top"===g||"Left"===g?c[d]+=parseFloat(i["border"+g+"Width"]):c[d]-=parseFloat(i["border"+g+"Width"]);return c},this.Tether.modules.push({"position":function(b){var g,h,j,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba=this;if(H=b.top,s=b.left,C=b.targetAttachment,!this.options.constraints)return!0;for(z=function(b){var c,d,e,f;for(ba.removeClass(b),f=[],d=0,e=a.length;e>d;d++)c=a[d],f.push(ba.removeClass(""+b+"-"+c));return f},V=this.cache("element-bounds",function(){return f(ba.element)}),r=V.height,I=V.width,0===I&&0===r&&null!=this.lastSize&&(W=this.lastSize,I=W.width,r=W.height),E=this.cache("target-bounds",function(){return ba.getTargetBounds()}),D=E.height,F=E.width,B={},q={},h=[this.getClass("pinned"),this.getClass("out-of-bounds")],X=this.options.constraints,J=0,N=X.length;N>J;J++)p=X[J],p.outOfBoundsClass&&h.push(p.outOfBoundsClass),p.pinnedClass&&h.push(p.pinnedClass);for(K=0,O=h.length;O>K;K++)for(o=h[K],Y=["left","top","right","bottom"],L=0,P=Y.length;P>L;L++)A=Y[L],h.push(""+o+"-"+A);for(g=[],B=d({},C),q=d({},this.attachment),Z=this.options.constraints,M=0,Q=Z.length;Q>M;M++){if(p=Z[M],G=p.to,j=p.attachment,w=p.pin,null==j&&(j=""),k.call(j," ")>=0?($=j.split(" "),n=$[0],m=$[1]):m=n=j,l=e(this,G),("target"===n||"both"===n)&&(H<l[1]&&"top"===B.top&&(H+=D,B.top="bottom"),H+r>l[3]&&"bottom"===B.top&&(H-=D,B.top="top")),"together"===n&&(H<l[1]&&"top"===B.top&&("bottom"===q.top?(H+=D,B.top="bottom",H+=r,q.top="top"):"top"===q.top&&(H+=D,B.top="bottom",H-=r,q.top="bottom")),H+r>l[3]&&"bottom"===B.top&&("top"===q.top?(H-=D,B.top="top",H-=r,q.top="bottom"):"bottom"===q.top&&(H-=D,B.top="top",H+=r,q.top="top")),"middle"===B.top&&(H+r>l[3]&&"top"===q.top?(H-=r,q.top="bottom"):H<l[1]&&"bottom"===q.top&&(H+=r,q.top="top"))),("target"===m||"both"===m)&&(s<l[0]&&"left"===B.left&&(s+=F,B.left="right"),s+I>l[2]&&"right"===B.left&&(s-=F,B.left="left")),"together"===m&&(s<l[0]&&"left"===B.left?"right"===q.left?(s+=F,B.left="right",s+=I,q.left="left"):"left"===q.left&&(s+=F,B.left="right",s-=I,q.left="right"):s+I>l[2]&&"right"===B.left?"left"===q.left?(s-=F,B.left="left",s-=I,q.left="right"):"right"===q.left&&(s-=F,B.left="left",s+=I,q.left="left"):"center"===B.left&&(s+I>l[2]&&"left"===q.left?(s-=I,q.left="right"):s<l[0]&&"right"===q.left&&(s+=I,q.left="left"))),("element"===n||"both"===n)&&(H<l[1]&&"bottom"===q.top&&(H+=r,q.top="top"),H+r>l[3]&&"top"===q.top&&(H-=r,q.top="bottom")),("element"===m||"both"===m)&&(s<l[0]&&"right"===q.left&&(s+=I,q.left="left"),s+I>l[2]&&"left"===q.left&&(s-=I,q.left="right")),"string"==typeof w?w=function(){var a,b,c,d;for(c=w.split(","),d=[],b=0,a=c.length;a>b;b++)v=c[b],d.push(v.trim());return d}():w===!0&&(w=["top","left","right","bottom"]),w||(w=[]),x=[],t=[],H<l[1]&&(k.call(w,"top")>=0?(H=l[1],x.push("top")):t.push("top")),H+r>l[3]&&(k.call(w,"bottom")>=0?(H=l[3]-r,x.push("bottom")):t.push("bottom")),s<l[0]&&(k.call(w,"left")>=0?(s=l[0],x.push("left")):t.push("left")),s+I>l[2]&&(k.call(w,"right")>=0?(s=l[2]-I,x.push("right")):t.push("right")),x.length)for(y=null!=(_=this.options.pinnedClass)?_:this.getClass("pinned"),g.push(y),T=0,R=x.length;R>T;T++)A=x[T],g.push(""+y+"-"+A);if(t.length)for(u=null!=(aa=this.options.outOfBoundsClass)?aa:this.getClass("out-of-bounds"),g.push(u),U=0,S=t.length;S>U;U++)A=t[U],g.push(""+u+"-"+A);(k.call(x,"left")>=0||k.call(x,"right")>=0)&&(q.left=B.left=!1),(k.call(x,"top")>=0||k.call(x,"bottom")>=0)&&(q.top=B.top=!1),(B.top!==C.top||B.left!==C.left||q.top!==this.attachment.top||q.left!==this.attachment.left)&&this.updateAttachClasses(q,B)}return c(function(){return i(ba.target,g,h),i(ba.element,g,h)}),{"top":H,"left":s}}})}.call(this),function(){var a,b,c,d;d=this.Tether.Utils,b=d.getBounds,c=d.updateClasses,a=d.defer,this.Tether.modules.push({"position":function(d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=this;if(o=d.top,j=d.left,y=this.cache("element-bounds",function(){return b(D.element)}),i=y.height,p=y.width,n=this.getTargetBounds(),h=o+i,k=j+p,e=[],o<=n.bottom&&h>=n.top)for(z=["left","right"],q=0,u=z.length;u>q;q++)l=z[q],((A=n[l])===j||A===k)&&e.push(l);if(j<=n.right&&k>=n.left)for(B=["top","bottom"],r=0,v=B.length;v>r;r++)l=B[r],((C=n[l])===o||C===h)&&e.push(l);for(g=[],f=[],m=["left","top","right","bottom"],g.push(this.getClass("abutted")),s=0,w=m.length;w>s;s++)l=m[s],g.push(""+this.getClass("abutted")+"-"+l);for(e.length&&f.push(this.getClass("abutted")),t=0,x=e.length;x>t;t++)l=e[t],f.push(""+this.getClass("abutted")+"-"+l);return a(function(){return c(D.target,f,g),c(D.element,f,g)}),!0}})}.call(this),function(){this.Tether.modules.push({"position":function(a){var b,c,d,e,f,g,h;return g=a.top,b=a.left,this.options.shift?(c=function(a){return"function"==typeof a?a.call(this,{"top":g,"left":b}):a},d=c(this.options.shift),"string"==typeof d?(d=d.split(" "),d[1]||(d[1]=d[0]),f=d[0],e=d[1],f=parseFloat(f,10),e=parseFloat(e,10)):(h=[d.top,d.left],f=h[0],e=h[1]),g+=f,b+=e,{"top":g,"left":b}):void 0}})}.call(this),a.Tether=this.Tether,"function"==typeof define?define("aui/internal/tether",[],function(){return a.Tether}):"object"==typeof exports&&(module.exports=a.Tether)}(this),jQuery.os={};var jQueryOSplatform=navigator.platform.toLowerCase();jQuery.os.windows=-1!=jQueryOSplatform.indexOf("win"),jQuery.os.mac=-1!=jQueryOSplatform.indexOf("mac"),jQuery.os.linux=-1!=jQueryOSplatform.indexOf("linux"),jQuery.fn.moveTo=function(a){var b,c={"transition":!1,"scrollOffset":35},d=jQuery.extend(c,a),e=this,f=e.offset().top;if((jQuery(window).scrollTop()+jQuery(window).height()-this.outerHeight()<f||jQuery(window).scrollTop()+d.scrollOffset>f)&&jQuery(window).height()>d.scrollOffset){if(b=jQuery(window).scrollTop()+d.scrollOffset>f?f-(jQuery(window).height()-this.outerHeight())+d.scrollOffset:f-d.scrollOffset,!jQuery.fn.moveTo.animating&&d.transition)return jQuery(document).trigger("moveToStarted",this),jQuery.fn.moveTo.animating=!0,jQuery("html,body").animate({"scrollTop":b},1e3,function(){jQuery(document).trigger("moveToFinished",e),delete jQuery.fn.moveTo.animating}),this;var g=jQuery("html, body");return g.is(":animated")&&(g.stop(),delete jQuery.fn.moveTo.animating),jQuery(document).trigger("moveToStarted"),jQuery(window).scrollTop(b),setTimeout(function(){jQuery(document).trigger("moveToFinished",e)},100),this}return jQuery(document).trigger("moveToFinished",this),this},function(){"use strict";function a(a,b){b=b||{"bubbles":!1,"cancelable":!1,"detail":void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}if(window.CustomEvent)try{new a}catch(b){return}a.prototype=window.Event.prototype,window.CustomEvent=a}(),window.AJS=window.AJS||{},function(){"use strict";function a(a){return function(){"undefined"!=typeof console&&console[a]&&Function.prototype.apply.call(console[a],console,arguments)}}"undefined"==typeof window.console?window.console={"messages":[],"log":function(a){this.messages.push(a)},"show":function(){alert(this.messages.join("\n")),this.messages=[]}}:window.console.show=function(){},AJS.log=a("log"),AJS.warn=a("warn"),AJS.error=a("error")}(),function(a){"use strict";window.AJS=window.AJS||{},window.AJS.deprecate=a(jQuery||Zepto),"function"==typeof define&&define("aui/internal/deprecation",[],function(){return window.AJS.deprecate})}(function(a){"use strict";function b(a){return a+="",a?a.charAt(0).toUpperCase()+a.substring(1):""}function c(a,c){if("function"==typeof a)return a;var d=!1;return c=c||{},function(e){var f=n.__getDeprecatedLocation(e?e:1)||"";if(!d||-1===p.indexOf(f)){p.push(f),d=!0;var g=c.deprecationType+" "||"",h="DEPRECATED "+g+"- "+b(a)+" has been deprecated"+(c.sinceVersion?" since "+c.sinceVersion:"")+" and will be removed in "+(c.removeInVersion||"a future release")+".";c.alternativeName&&(h+=" Use "+c.alternativeName+" instead. "),c.extraInfo&&(h+=" "+c.extraInfo),f=""===f?" \n No stack trace of the deprecated usage is available in your current browser.":" \n "+f,c.extraObject?(h+="\n",n.__logger(h,c.extraObject,f)):n.__logger(h,f)}}}function d(a,b,d){d=d||{},d.deprecationType=d.deprecationType||"JS";var e=c(b||a.name||"this function",d);return function(){return e(),a.apply(this,arguments)}}function e(b,c,e){e=e||{},e.deprecationType=e.deprecationType||"JS";var f=d(b,c,e);return f.prototype=b.prototype,a.extend(f,b),f}function f(a,b,d){if(q){var e=a[b];d=d||{},d.deprecationType=d.deprecationType||"JS";var f=d.displayName||b,g=c(f,d);Object.defineProperty(a,b,{"get":function(){return g(),e},"set":function(a){return e=a,g(),a}})}}function g(a,b,c){if("function"==typeof a[b]){c=c||{},c.deprecationType=c.deprecationType||"JS";var e=c.displayName||b;a[b]=d(a[b],e,c)}else f(a,b,c)}function h(b,c,d){d=d||{};for(var e in b)o.call(b,e)&&(d.deprecationType=d.deprecationType||"JS",d.displayName=c+e,d.alternativeName=d.alternativeNamePrefix&&d.alternativeNamePrefix+e,g(b,e,a.extend({},d)))}function i(a,b){return(a.matches||a.msMatchesSelector||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector).call(a,b)}function j(a){return function(b,c){var d={"selector":b,"options":a||{}};s.push(d);for(var e=document.querySelectorAll(b),f=0;f<e.length;f++)m(d,e[f])}}function k(a,b){return window.MutationObserver?("string"==typeof a&&(a=[a]),void a.forEach(j(b))):void n.__logger("CSS could not be deprecated as Mutation Observer was not found.")}function l(a){return function(b,c){i(a,b.selector)&&m(b,a)}}function m(b,d){var e=b.options.displayName;e=e?" ("+e+")":"";var f=a.extend({"deprecationType":"CSS","extraObject":d},b.options);c("'"+b.selector+"' pattern"+e,f)()}var n={},o=Object.prototype.hasOwnProperty,p=[];n.__logger=function(){return AJS.warn.apply(void 0,arguments)},n.__getDeprecatedLocation=function(a){var b=new Error,c=b.stack||b.stacktrace,d=c&&c.replace(/^Error\n/,"")||"";return d?(d=d.split("\n"),d[a+2]):d};var q=!1;try{Object.defineProperty&&(Object.defineProperty({},"blam",{"get":function(){},"set":function(){}}),q=!0)}catch(r){}if(window.MutationObserver){var s=[],t=new MutationObserver(function(a){a.forEach(function(a){for(var b=a.addedNodes,c=0;c<b.length;c++){var d=b[c];1===d.nodeType&&s.forEach(l(d))}})}),u={"childList":!0,"subtree":!0};t.observe(document,u)}return n.fn=d,n.construct=e,n.css=k,n.prop=g,n.obj=h,n.propertyDeprecationSupported=q,n.getMessageLogger=c,n}),function(){"use strict";if(!window.jQuery&&!window.Zepto)throw new Error("either jQuery or Zepto is required for AJS to function.");window.AJS=function(){function a(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;","'":"&#39;","`":"&#96;"};return"string"==typeof b[a]?b[a]:"&quot;"}var b,c,d=[],e=0,f=/[&"'<>`]/g,g={"version":"5.8.15","params":{},"$":window.jQuery||window.Zepto,"preventDefault":function(a){a.preventDefault()},"stopEvent":function(a){return a.stopPropagation(),!1},"include":function(a){if(!this.contains(d,a)){d.push(a);var b=document.createElement("script");b.src=a,this.$("body").append(b)}},"toggleClassName":function(a,b){(a=this.$(a))&&a.toggleClass(b)},"setVisible":function(a,b){if(a=this.$(a)){var c=this.$;c(a).each(function(){var a=c(this).hasClass("hidden");a&&b?c(this).removeClass("hidden"):a||b||c(this).addClass("hidden")})}},"setCurrent":function(a,b){(a=this.$(a))&&(b?a.addClass("current"):a.removeClass("current"))},"isVisible":function(a){return!this.$(a).hasClass("hidden")},"isClipped":function(a){return a=AJS.$(a),a.prop("scrollWidth")>a.prop("clientWidth")},"populateParameters":function(a){a||(a=this.params);var b=this;this.$(".parameters input").each(function(){var c=this.value,d=this.title||this.id;b.$(this).hasClass("list")?a[d]?a[d].push(c):a[d]=[c]:a[d]=c.match(/^(tru|fals)e$/i)?"true"===c.toLowerCase():c})},"toInit":function(a){var b=this;return this.$(function(){try{a.apply(this,arguments)}catch(c){b.log("Failed to run init function: "+c+"\n"+a.toString())}}),this},"indexOf":function(a,b,c){var d=a.length;c?0>c&&(c=Math.max(0,d+c)):c=0;for(var e=c;d>e;e++)if(a[e]===b)return e;return-1},"contains":function(a,b){return this.indexOf(a,b)>-1},"firebug":function(){var a=this.$(document.createElement("script"));a.attr("src","https://getfirebug.com/releases/lite/1.2/firebug-lite-compressed.js"),this.$("head").append(a),function(){window.firebug?firebug.init():setTimeout(AJS.firebug,0)}()},"clone":function(a){return AJS.$(a).clone().removeAttr("id")},"alphanum":function(a,b){a=(a+"").toLowerCase(),b=(b+"").toLowerCase();for(var c=/(\d+|\D+)/g,d=a.match(c),e=b.match(c),f=Math.max(d.length,e.length),g=0;f>g;g++){if(g===d.length)return-1;if(g===e.length)return 1;var h=parseInt(d[g],10)+"",i=parseInt(e[g],10)+"";if(h===d[g]&&i===e[g]&&h!==i)return(h-i)/Math.abs(h-i);if((h!==d[g]||i!==e[g])&&d[g]!==e[g])return d[g]<e[g]?-1:1}return 0},"onTextResize":function(a){if("function"==typeof a)if(AJS.onTextResize["on-text-resize"])AJS.onTextResize["on-text-resize"].push(function(b){a(b)});else{var b=AJS("div");b.css({"width":"1em","height":"1em","position":"absolute","top":"-9999em","left":"-9999em"}),this.$("body").append(b),b.size=b.width(),setInterval(function(){if(b.size!==b.width()){b.size=b.width();for(var a=0,c=AJS.onTextResize["on-text-resize"].length;c>a;a++)AJS.onTextResize["on-text-resize"][a](b.size)}},0),AJS.onTextResize.em=b,AJS.onTextResize["on-text-resize"]=[function(b){a(b)}]}},"unbindTextResize":function(a){for(var b=0,c=AJS.onTextResize["on-text-resize"].length;c>b;b++)if(AJS.onTextResize["on-text-resize"][b]===a)return AJS.onTextResize["on-text-resize"].splice(b,1)},"escape":function(a){return escape(a).replace(/%u\w{4}/gi,function(a){return unescape(a)})},"escapeHtml":function(b){return b.replace(f,a)},"filterBySearch":function(a,b,c){if(!b)return[];var d=(this.$,c&&c.keywordsField||"keywords"),e=c&&c.ignoreForCamelCase?"i":"",f=c&&c.matchBoundary?"\\b":"",g=c&&c.splitRegex||/\s+/,h=b.split(g),i=[];h.forEach(function(a){var b=[new RegExp(f+a,"i")];if(/^([A-Z][a-z]*) {2,}$/.test(this)){var c=this.replace(/([A-Z][a-z]*)/g,"\\b$1[^,]*");b.push(new RegExp(c,e))}i.push(b)});var j=[];return a.forEach(function(a){for(var b=0;b<i.length;b++){for(var c=!1,e=0;e<i[b].length;e++)if(i[b][e].test(a[d])){c=!0;break}if(!c)return}j.push(a)}),j},"drawLogo":function(a){var b=a.scaleFactor||1,c=a.fill||"#fff",d=a.stroke||"#000",e=400*b,f=40*b,g=a.strokeWidth||1,h=a.containerID||".aui-logo";AJS.$(".aui-logo").length||AJS.$("body").append('<div id="aui-logo" class="aui-logo"><div>');var i=Raphael(h,e+50*b,f+100*b),j=i.path("M 0,0 c 3.5433333,-4.7243333 7.0866667,-9.4486667 10.63,-14.173 -14.173,0 -28.346,0 -42.519,0 C -35.432667,-9.4486667 -38.976333,-4.7243333 -42.52,0 -28.346667,0 -14.173333,0 0,0 z m 277.031,28.346 c -14.17367,0 -28.34733,0 -42.521,0 C 245.14,14.173 255.77,0 266.4,-14.173 c -14.17267,0 -28.34533,0 -42.518,0 C 213.25167,0 202.62133,14.173 191.991,28.346 c -14.17333,0 -28.34667,0 -42.52,0 14.17333,-18.8976667 28.34667,-37.7953333 42.52,-56.693 -7.08667,-9.448667 -14.17333,-18.897333 -21.26,-28.346 -14.173,0 -28.346,0 -42.519,0 7.08667,9.448667 14.17333,18.897333 21.26,28.346 -14.17333,18.8976667 -28.34667,37.7953333 -42.52,56.693 -14.173333,0 -28.346667,0 -42.52,0 10.63,-14.173 21.26,-28.346 31.89,-42.519 -14.390333,0 -28.780667,0 -43.171,0 C 42.520733,1.330715e-4 31.889933,14.174867 21.26,28.347 c -42.520624,6.24e-4 -85.039187,-8.13e-4 -127.559,-0.001 11.220667,-14.961 22.441333,-29.922 33.662,-44.883 -6.496,-8.661 -12.992,-17.322 -19.488,-25.983 5.905333,0 11.810667,0 17.716,0 -10.63,-14.173333 -21.26,-28.346667 -31.89,-42.52 14.173333,0 28.346667,0 42.52,0 10.63,14.173333 21.26,28.346667 31.89,42.52 14.173333,0 28.3466667,0 42.52,0 -10.63,-14.173333 -21.26,-28.346667 -31.89,-42.52 14.1733333,0 28.3466667,0 42.52,0 10.63,14.173333 21.26,28.346667 31.89,42.52 14.390333,0 28.780667,0 43.171,0 -10.63,-14.173333 -21.26,-28.346667 -31.89,-42.52 42.51967,0 85.03933,0 127.559,0 10.63033,14.173333 21.26067,28.346667 31.891,42.52 14.17267,0 28.34533,0 42.518,0 -10.63,-14.173333 -21.26,-28.346667 -31.89,-42.52 14.17367,0 28.34733,0 42.521,0 14.17333,18.897667 28.34667,37.795333 42.52,56.693 -14.17333,18.8976667 -28.34667,37.7953333 -42.52,56.693 z");j.scale(b,-b,0,0),j.translate(120*b,f),j.attr("fill",c),j.attr("stroke",d),j.attr("stroke-width",g)},"debounce":function(a,b){var c,d;return function(){var e=arguments,f=this,g=function(){d=a.apply(f,e),f=e=null};return clearTimeout(c),c=setTimeout(g,b),d}},"debounceImmediate":function(a,b){var c,d=null;return function(){var e=this,f=arguments,g=function(){d=e=f=null};return null===d&&(c=a.apply(e,f)),clearTimeout(d),d=setTimeout(g,b),c}},"id":function(a){if(b=e++ +"",c=a?a+b:"aui-uid-"+b,document.getElementById(c)){if(c=c+"-"+(new Date).getTime(),document.getElementById(c))throw new Error("ERROR: timestamped fallback ID "+c+" exists. AJS.id stopped.");return c}return c},"_addID":function(a,b){var c=AJS.$(a),d=b||!1;c.each(function(){var a=AJS.$(this);a.attr("id")||a.attr("id",AJS.id(d))})},"enable":function(a,b){var c=AJS.$(a);return"undefined"==typeof b&&(b=!0),c.each(function(){this.disabled=!b})}};if("undefined"!=typeof AJS)for(var h in AJS)g[h]=AJS[h];var i=function(){var a=null;return arguments.length&&"string"==typeof arguments[0]&&(a=AJS.$(document.createElement(arguments[0])),2===arguments.length&&a.html(arguments[1])),a};for(var j in g)i[j]=g[j];return i}(),AJS.$(function(){var a=AJS.$("body");a.data("auiVersion")||a.attr("data-aui-version",AJS.version),AJS.populateParameters()}),AJS.$.ajaxSettings.traditional=!0,AJS.deprecate.prop(AJS,"firebug"),AJS.deprecate.prop(AJS,"stopEvent",{"alternativeName":"AJS.preventDefault()"}),AJS.deprecate.prop(AJS,"drawLogo"),AJS.deprecate.prop(AJS,"toggleClassName")}(),AJS.format=function(a){var b=/'(?!')/g,c=/^\d+$/,d=/^(\d+),number$/,e=/^(\d+)\,choice\,(.+)/,f=/^(\d+)([#<])(.+)/,g=function(a,b){var g,h="";if(g=a.match(c))h=b.length>++a?b[a]:"";else if(g=a.match(d))h=b.length>++g[1]?b[g[1]]:"";else if(g=a.match(e)){var i=b.length>++g[1]?b[g[1]]:null;if(null!==i){for(var j=g[2].split("|"),k=null,l=0;l<j.length;l++){var m=j[l].match(f),n=parseInt(m[1],10);if(n>i){if(k){h=k;break}h=m[3];break}if(i==n&&"#"==m[2]){h=m[3];break}l==j.length-1&&(h=m[3]),k=m[3]}var o=[h].concat(Array.prototype.slice.call(b,1));h=AJS.format.apply(AJS,o)}}return h},h=function(a){for(var b=!1,c=-1,d=0,e=0;e<a.length;e++){var f=a.charAt(e);if("'"==f&&(b=!b),!b)if("{"===f)0===d&&(c=e),d++;else if("}"===f&&d>0&&(d--,0===d)){var g=[];return g.push(a.substring(0,e+1)),g.push(a.substring(0,c)),g.push(a.substring(c+1,e)),g}}return null},i=function(a){for(var c=arguments,d="",e=h(a);e;)a=a.substring(e[0].length),d+=e[1].replace(b,""),d+=g(e[2],c),e=h(a);return d+=a.replace(b,"")};return i.apply(AJS,arguments)},AJS.I18n={"getText":function(a){var b=Array.prototype.slice.call(arguments,1);return AJS.I18n.keys&&Object.prototype.hasOwnProperty.call(AJS.I18n.keys,a)?AJS.format.apply(null,[AJS.I18n.keys[a]].concat(b)):a}},function(a){"use strict";AJS._internal=AJS._internal||{},AJS._internal.widget=a(AJS.$)}(function(a){"use strict";return function(b,c){var d="_aui-widget-"+b;return function(b,e){var f,g;a.isPlainObject(b)?g=b:(f=b,g=e);var h,i=f&&a(f);return i&&i.data(d)?h=i.data(d):(h=new c(i,g||{}),i=h.$el,i.data(d,h)),h}}}),function(a){"use strict";AJS.Alignment=a(window.Tether),"function"==typeof define&&define("aui/internal/alignment",["aui/internal/tether"],function(){return AJS.Alignment})}(function(a){"use strict";function b(a,b,c){var d=n+b,e=o+c;a.className+=" "+d+" "+e}function c(a,b){return a.getAttribute(b)||a.getAttribute("data-aui-"+b)}function d(a,b){return a.hasAttribute(b)||a.hasAttribute("data-aui-"+b)}function e(a){var b=(c(a,j)||p).split(" ");return{"side":b[0],"snap":b[1]}}function f(a){var b=c(a,l)||window;return"string"==typeof b&&(b=document.querySelector(b)),b}function g(a,b){var c,d,e="left";return b&&b!==window&&b!==document||(b=document.documentElement),b&&b.nodeType&&1===b.nodeType&&(c=b.getBoundingClientRect(),d=a.getBoundingClientRect(),d.left>c.right/2&&(e="right")),e}function h(a,b){return q[a+" "+b]||q[p]}function i(c,i){var j=f(c),l=e(c);l.snap&&"auto"!==l.snap||(l.snap=g(i,j));var n=h(l.side,l.snap),o=d(c,k),p=new a({"enabled":!1,"element":c,"target":i,"attachment":n.el,"targetAttachment":n.target,"classPrefix":m,"constraints":[{"to":j===window?"window":j,"attachment":o===!0?"none":"together"}]});b(c,l.side,l.snap),this._auiTether=p}var j="alignment",k="alignment-static",l="alignment-container",m="aui-alignment",n="aui-alignment-side-",o="aui-alignment-snap-",p="right middle",q={"top left":{"el":"bottom left","target":"top left"},"top center":{"el":"bottom center","target":"top center"},"top right":{"el":"bottom right","target":"top right"},"right top":{"el":"top left","target":"top right"},"right middle":{"el":"middle left","target":"middle right"},"right bottom":{"el":"bottom left","target":"bottom right"},"bottom left":{"el":"top left","target":"bottom left"},"bottom center":{"el":"top center","target":"bottom center"},"bottom right":{"el":"top right","target":"bottom right"},"left top":{"el":"top right","target":"top left"},"left middle":{"el":"middle right","target":"middle left"},"left bottom":{"el":"bottom right","target":"bottom left"},"submenu left":{"el":"top left","target":"top right"},"submenu right":{"el":"top right","target":"top left"}};return i.prototype={"destroy":function(){return this._auiTether.destroy(),this},"disable":function(){return this._auiTether.disable(),this},"enable":function(){return this._auiTether.enable(),this}},i}),window.AJS=window.AJS||{},function(a){"use strict";a._internal=a._internal||{},a._internal.animation={},a._internal.animation.recomputeStyle=function(a){a=a.length?a[0]:a,window.getComputedStyle(a,null).getPropertyValue("left")}}(AJS),function(a){"use strict";AJS._internal=AJS._internal||{},AJS._internal.browser=a(AJS.$)}(function(a){"use strict";var b={},c=null,d=/Mac OS X/.test(navigator.userAgent);return b.supportsCalc=function(){if(null===c){var b=a('<div style="height: 10px; height: -webkit-calc(20px + 0); height: calc(20px);"></div>');c=20===b.appendTo(document.documentElement).height(),b.remove()}return c},b.supportsRequestAnimationFrame=function(){return!!window.requestAnimationFrame},b.supportsVoiceOver=function(){return d},b}),AJS.I18n.keys={},AJS.I18n.keys["aui.words.add"]="Add",AJS.I18n.keys["aui.words.update"]="Update",AJS.I18n.keys["aui.words.delete"]="Delete",AJS.I18n.keys["aui.words.remove"]="Remove",AJS.I18n.keys["aui.words.cancel"]="Cancel",AJS.I18n.keys["aui.words.loading"]="Loading",AJS.I18n.keys["aui.words.close"]="Close",AJS.I18n.keys["aui.enter.value"]="Enter value",AJS.I18n.keys["aui.words.more"]="More",AJS.I18n.keys["aui.words.moreitem"]="More\u2026",AJS.I18n.keys["aui.keyboard.shortcut.type.x"]="Type ''{0}''",AJS.I18n.keys["aui.keyboard.shortcut.then.x"]="then ''{0}''",AJS.I18n.keys["aui.keyboard.shortcut.or.x"]="OR ''{0}''",AJS.I18n.keys["aui.sidebar.expand.tooltip"]="Expand sidebar ( [ )",AJS.I18n.keys["aui.sidebar.collapse.tooltip"]="Collapse sidebar ( [ )",AJS.I18n.keys["aui.validation.message.maxlength"]="Must be fewer than {0} characters",AJS.I18n.keys["aui.validation.message.minlength"]="Must be greater than {0} characters",AJS.I18n.keys["aui.validation.message.matchingfield"]="{0} and {1} do not match.",AJS.I18n.keys["aui.validation.message.matchingfield-novalue"]="These fields do not match.",AJS.I18n.keys["aui.validation.message.doesnotcontain"]="Do not include the phrase {0} in this field",AJS.I18n.keys["aui.validation.message.pattern"]="This field does not match the required format",AJS.I18n.keys["aui.validation.message.required"]="This is a required field",AJS.I18n.keys["aui.validation.message.validnumber"]="Please enter a valid number",AJS.I18n.keys["aui.validation.message.min"]="Enter a value greater than {0}",AJS.I18n.keys["aui.validation.message.max"]="Enter a value less than {0}",AJS.I18n.keys["aui.validation.message.dateformat"]="Enter a valid date",AJS.I18n.keys["aui.validation.message.minchecked"]="Tick at least {0,choice,0#0 checkboxes|1#1 checkbox|1<{0,number} checkboxes}.",AJS.I18n.keys["aui.validation.message.maxchecked"]="Tick at most {0,choice,0#0 checkboxes|1#1 checkbox|1<{0,number} checkboxes}.",AJS.I18n.keys["aui.checkboxmultiselect.clear.selected"]="Clear selected items",AJS.I18n.keys["aui.select.no.suggestions"]="No suggestions",AJS.I18n.keys["aui.select.new.suggestions"]="New suggestions added. Please use the up and down arrows to select.",function(a){"use strict";AJS._internal=AJS._internal||{},AJS._internal.isInput=a()}(function(){"use strict";return function(a){return"value"in a||a.isContentEditable}}),function(a){var b;AJS.dim=function(d,e){b||(b=a(document.body)),d===!0&&c();var f=!!AJS.dim.$dim&&"false"===AJS.dim.$dim.attr("aria-hidden");return AJS.dim.$dim&&(AJS.dim.$dim.remove(),AJS.dim.$dim=null),AJS.dim.$dim=AJS("div").addClass("aui-blanket"),AJS.dim.$dim.attr("tabindex","0"),AJS.dim.$dim.appendTo(document.body),f||(AJS._internal.animation.recomputeStyle(AJS.dim.$dim),AJS.dim.cachedOverflow=b.css("overflow"),b.css("overflow","hidden")),AJS.dim.$dim.attr("aria-hidden","false"),e&&AJS.dim.$dim.css({"zIndex":e}),AJS.dim.$dim},AJS.undim=function(){AJS.dim.$dim&&(AJS.dim.$dim.attr("aria-hidden","true"),b&&b.css("overflow",AJS.dim.cachedOverflow))};var c=AJS.deprecate.getMessageLogger("useShim",{"extraInfo":"useShim has no alternative as it is now calculated by dim()."})}(AJS.$),function(a){"use strict";AJS.layer=a(AJS.$,AJS._internal.widget),"function"==typeof define&&define("layer",[],function(){return AJS.layer})}(function(a,b){"use strict";function c(a,b){var c=window.getComputedStyle(a).transitionProperty;return c?c.indexOf(b)>-1:!1}function d(a,b,d,e){function f(c){b===c.propertyName&&(d.call(a),e&&a.removeEventListener("transitionend",f))}c(a,b)?a.addEventListener("transitionend",f):d.call(a)}function e(a,b,c){d(a,b,c,!0)}function f(a){a.attr("aria-hidden","true")}function g(a){a.attr("aria-hidden","false")}function h(b,c,d){var e=a.Event(j+c),f=a.Event(k+c),g=new CustomEvent(l+d,{"bubbles":!0,"cancelable":!0});return b.trigger(e),b.trigger(f,[b]),b[0].dispatchEvent(g),!e.isDefaultPrevented()&&!f.isDefaultPrevented()&&!g.defaultPrevented}function i(b){this.$el=a(b||'<div class="aui-layer" aria-hidden="true"></div>'),this.$el.addClass("aui-layer")}var j="_aui-internal-layer-",k="_aui-internal-layer-global-",l="aui-layer-",m=a(document);i.prototype={"below":function(){return AJS.LayerManager.global.item(AJS.LayerManager.global.indexOf(this.$el)-1)},"above":function(){return AJS.LayerManager.global.item(AJS.LayerManager.global.indexOf(this.$el)+1)},"changeSize":function(a,b){return this.$el.css("width",a),this.$el.css("height","content"===b?"":b),this},"on":function(a,b){return this.$el.on(j+a,b),this},"off":function(a,b){return this.$el.off(j+a,b),this},"show":function(){return this.isVisible()?(g(this.$el),this):h(this.$el,"beforeShow","show")?("none"===this.$el.css("display")&&this.$el.css("display",""),AJS.LayerManager.global.push(this.$el),this):this},"hide":function(){return this.isVisible()?h(this.$el,"beforeHide","hide")?(e(this.$el.get(0),"opacity",function(){this.style.display="none"}),AJS.LayerManager.global.popUntil(this.$el),this):this:(f(this.$el),this)},"isVisible":function(){return"false"===this.$el.attr("aria-hidden")},"remove":function(){this.hide(),this.$el.remove(),this.$el=null},"isBlanketed":function(){return"true"===this.$el.attr("data-aui-blanketed")},"isPersistent":function(){var a=this.$el.attr("modal")||this.$el.attr("data-aui-modal"),b=this.$el.attr("persistent")||this.$el.attr("data-aui-persistent");return"true"===a||"true"===b},"_hideLayer":function(a){(this.isPersistent()||this.isBlanketed())&&AJS.FocusManager.global.exit(this.$el),a&&h(this.$el,"beforeHide","hide"),this.$el.attr("aria-hidden","true"),this.$el.css("z-index",this.$el.data("_aui-layer-cached-z-index")||""),this.$el.data("_aui-layer-cached-z-index",""),this.$el.trigger(j+"hide"),this.$el.trigger(k+"hide",[this.$el])},"_showLayer":function(a){this.$el.parent().is("body")||this.$el.appendTo(document.body),this.$el.data("_aui-layer-cached-z-index",this.$el.css("z-index")),this.$el.css("z-index",a),this.$el.attr("aria-hidden","false"),(this.isPersistent()||this.isBlanketed())&&AJS.FocusManager.global.enter(this.$el),this.$el.trigger(j+"show"),this.$el.trigger(k+"show",[this.$el])}};var n=b("layer",i);return n.on=function(a,b,c){return m.on(k+a,b,c),this},n.off=function(a,b,c){return m.off(k+a,b,c),this},n}),AJS.FocusManager=function(a){function b(){this._focusTrapStack=[],a(document).on("focusout",{"focusTrapStack":this._focusTrapStack},f)}function c(a,b){b.push(a)}function d(a){a.pop()}function e(a){return a.is(".aui-dialog2")}function f(a){var b=a.data.focusTrapStack;if(a.relatedTarget&&0!==b.length){var c=b[b.length-1],d=a.target,e=a.relatedTarget,f=c.find(":aui-tabbable"),g=AJS.$(f.first()),h=AJS.$(f.last()),i=0===c.has(e).length,j=i&&e;j&&(g.is(d)?h.focus():h.is(d)&&g.focus())}}!function(){function b(b){return"visible"===a.css(b,"visibility")}function c(c,d){var e=c.nodeName.toLowerCase();if("aui-select"===e)return!0;if("area"===e){var f=c.parentNode,g=f.name,h=a("img[usemap=#"+g+"]").get();return c.href&&g&&"map"===f.nodeName.toLowerCase()?h&&b(h):!1}var i=/input|select|textarea|button|object/.test(e),j="a"===e,k=c.href||d;return(i?!c.disabled:j?k:d)&&b(c)}function d(b){var d=a.attr(b,"tabindex"),e=isNaN(d),f=e||d>=0;return f&&c(b,!e)}a.extend(a.expr[":"],{"aui-focusable":function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},"aui-tabbable":d})}();var g="_aui-focus-restore";return b.defaultFocusSelector=":aui-tabbable",b.prototype.enter=function(d){if(d.data(g,a(document.activeElement)),"false"!==d.attr("data-aui-focus")){var f=d.attr("data-aui-focus-selector")||b.defaultFocusSelector,h=d.is(f)?d:d.find(f);h.first().focus()}e(d)&&c(d,this._focusTrapStack)},b.prototype.exit=function(b){e(b)&&d(this._focusTrapStack);var c=document.activeElement;(b[0]===c||b.has(c).length)&&a(c).blur();var f=b.data(g);f&&f.length&&(b.removeData(g),f.focus())},b.global=new b,b}(AJS.$),function(a){"use strict";function b(a,b){for(var c=a.length;c--;)if(b(a[c]))return c;return-1}function c(a,c){return b(a,function(a){return a[0]===c[0]})}function d(a){return b(a,function(a){return AJS.layer(a).isBlanketed()})}function e(a){var b;if(a.length){var c=a[a.length-1],d=parseInt(c.css("z-index"),10);b=(isNaN(d)?0:d)+100}else b=0;return Math.max(3e3,b)}function f(a,b){var c=d(a);b!==c&&(c>-1?AJS.dim(!1,a[c].css("z-index")-20):AJS.undim())}function g(a,b,c){if(!(0>b))for(var d=a.length-1;d>=b;d--){var e=a[d],f=AJS.layer(e);(c||!f.isPersistent())&&(f._hideLayer(!0),a.splice(d,1))}}function h(a){var b=j(a);return b.length>0?b.closest(".aui-layer"):void 0}function i(a){return j(a).length>0}function j(b){return a('[aria-controls="'+b.attr("id")+'"]')}function k(){this._stack=[]}k.prototype={"push":function(b){var d=b instanceof a?b:a(b);if(c(this._stack,d)>=0)throw new Error("The given element is already an active layer.");this.popLayersBeside(d);var f=AJS.layer(d),g=e(this._stack);return f._showLayer(g),f.isBlanketed()&&AJS.dim(!1,g-20),this._stack.push(d),this},"popLayersBeside":function(b){var c=b instanceof a?b:a(b);if(!i(c)){var e=d(this._stack);return void g(this._stack,++e,!1)}var f=h(c);if(f){var j=this.indexOf(f);g(this._stack,++j,!1)}else g(this._stack,0,!1)},"indexOf":function(b){return c(this._stack,a(b))},"item":function(a){return this._stack[a]},"hideAll":function(){return this._stack.reverse().forEach(function(a){var b=AJS.layer(a);b.isBlanketed()||b.isPersistent()||b.hide();
}),this},"getNextLowerNonPersistentOrBlanketedLayer":function(b){var d=b instanceof a?b:a(b),e=c(this._stack,d);if(0>e)return null;var f;for(e--;e>=0;){f=this._stack[e];var g=AJS.layer(f);if(!g.isPersistent()||g.isBlanketed())return f;e--}return null},"getNextHigherNonPeristentAndNonBlanketedLayer":function(b){var d=b instanceof a?b:a(b),e=c(this._stack,d);if(0>e)return null;var f;for(e++;e<this._stack.length;){f=this._stack[e];var g=AJS.layer(f);if(!g.isPersistent()&&!g.isBlanketed())return f;e++}return null},"popUntil":function(b){var e=b instanceof a?b:a(b),h=c(this._stack,e);if(-1===h)return null;var i=d(this._stack);return g(this._stack,h+1,AJS.layer(e).isBlanketed()),AJS.layer(e)._hideLayer(),this._stack.splice(h,1),f(this._stack,i),e},"getTopLayer":function(){if(!this._stack.length)return null;var a=this._stack[this._stack.length-1];return a},"popTopIfNonPersistent":function(){var a=this.getTopLayer(),b=AJS.layer(a);return!a||b.isPersistent()?null:this.popUntil(a)},"popUntilTopBlanketed":function(){var a=d(this._stack);if(0>a)return null;var b=this._stack[a],e=AJS.layer(b);if(e.isPersistent()){var h=this.getNextHigherNonPeristentAndNonBlanketedLayer(b);if(h){var i=c(this._stack,h);return g(this._stack,i,!0),h}return null}return g(this._stack,a,!0),f(this._stack,a),b},"popUntilTopPersistent":function(){var a=AJS.LayerManager.global.getTopLayer();if(a){var b,e=d(this._stack),h=AJS.layer(a);if(h.isPersistent()){if(h.isBlanketed())return;if(a=AJS.LayerManager.global.getNextLowerNonPersistentOrBlanketedLayer(a),h=AJS.layer(a),!a||h.isPersistent())return;b=c(this._stack,a),g(this._stack,b,!0),f(this._stack,e)}else b=c(this._stack,a),g(this._stack,b,!0),f(this._stack,e)}}},AJS.LayerManager=k}(AJS.$),function(){"use strict";AJS.keyCode={"ALT":18,"BACKSPACE":8,"CAPS_LOCK":20,"COMMA":188,"COMMAND":91,"COMMAND_LEFT":91,"COMMAND_RIGHT":93,"LEFT_SQUARE_BRACKET":91,"CONTROL":17,"DELETE":46,"DOWN":40,"END":35,"ENTER":13,"ESCAPE":27,"HOME":36,"INSERT":45,"LEFT":37,"MENU":93,"NUMPAD_ADD":107,"NUMPAD_DECIMAL":110,"NUMPAD_DIVIDE":111,"NUMPAD_ENTER":108,"NUMPAD_MULTIPLY":106,"NUMPAD_SUBTRACT":109,"PAGE_DOWN":34,"PAGE_UP":33,"PERIOD":190,"RIGHT":39,"SHIFT":16,"SPACE":32,"TAB":9,"UP":38,"WINDOWS":91}}(),function(a){"use strict";function b(){f.on("keydown",function(a){a.keyCode===AJS.keyCode.ESCAPE&&(AJS.LayerManager.global.popUntilTopPersistent(),a.preventDefault())})}function c(){f.on("click",".aui-blanket",function(a){AJS.LayerManager.global.popUntilTopBlanketed()&&a.preventDefault()})}function d(){f.on("click",function(b){var c=a(b.target);if(!c.closest(".aui-blanket").length){var d=c.closest("[aria-controls]"),f=c.closest(".aui-layer");if(!f.length&&!e(d))return void AJS.LayerManager.global.hideAll();if(!e(d)&&f.length){var g=AJS.LayerManager.global.getNextHigherNonPeristentAndNonBlanketedLayer(f);g&&AJS.layer(g).hide()}}})}function e(a){if(!a.length)return!1;var b=document.getElementById(a.attr("aria-controls"));return AJS.LayerManager.global.indexOf(b)>-1}var f=a(document);b(),c(),d(),AJS.LayerManager.global=new AJS.LayerManager}(AJS.$),function(a){"use strict";AJS.dialog2=a(AJS.$,AJS.layer,AJS._internal.widget)}(function(a,b,c){"use strict";function d(b){a.each(f,function(a,c){var d="data-"+a;b[0].hasAttribute(d)||b.attr(d,c)})}function e(b){b?this.$el=a(b):this.$el=a(aui.dialog.dialog2({})),d(this.$el)}var f={"aui-focus":"false","aui-blanketed":"true"};e.prototype.on=function(a,c){return b(this.$el).on(a,c),this},e.prototype.off=function(a,c){return b(this.$el).off(a,c),this},e.prototype.show=function(){return b(this.$el).show(),this},e.prototype.hide=function(){return b(this.$el).hide(),this},e.prototype.remove=function(){return b(this.$el).remove(),this},e.prototype.isVisible=function(){return b(this.$el).isVisible()};var g=c("dialog2",e);return g.on=function(a,c){return b.on(a,".aui-dialog2",c),this},g.off=function(a,c){return b.off(a,".aui-dialog2",c),this},a(document).on("click",".aui-dialog2-header-close",function(b){b.preventDefault(),g(a(this).closest(".aui-dialog2")).hide()}),g.on("show",function(a,b){var c,d=[".aui-dialog2-content",".aui-dialog2-footer",".aui-dialog2-header"];d.some(function(a){return c=b.find(a+" :aui-tabbable"),c.length}),c&&c.first().focus()}),g.on("hide",function(a,c){var d=b(c);c.data("aui-remove-on-hide")&&d.remove()}),g}),function(){function a(a,b){b=b||"";var c=new RegExp(f(a)+"=([^|]+)"),d=b.match(c);return d&&d[1]}function b(a,b,c){var d=new RegExp("(\\s|\\|)*\\b"+f(a)+"=[^|]*[|]*");if(c=c||"",c=c.replace(d,"|"),""!==b){var e=a+"="+b;c.length+e.length<4020&&(c+="|"+e)}return c.replace(i,"|")}function c(a){return a.replace(h,"")}function d(a){var b=new RegExp("\\b"+f(a)+"=((?:[^\\\\;]+|\\\\.)*)(?:;|$)"),d=document.cookie.match(b);return d&&c(d[1])}function e(a,b,c){var d,e="",f='"'+b.replace(j,'\\"')+'"';c&&(d=new Date,d.setTime(+d+24*c*60*60*1e3),e="; expires="+d.toGMTString()),document.cookie=a+"="+f+e+";path=/"}function f(a){return a.replace(k,"\\$&")}var g="AJS.conglomerate.cookie",h=/(\\|^"|"$)/g,i=/\|\|+/g,j=/"/g,k=/[.*+?|^$()[\]{\\]/g;AJS.Cookie={"save":function(a,c,f){var h=d(g);h=b(a,c,h),e(g,h,f||365)},"read":function(b,c){var e=d(g),f=a(b,e);return null!=f?f:c},"erase":function(a){this.save(a,"")}},AJS.deprecate.prop(AJS.Cookie,"save",{"alternativeName":"AJS.cookie"})}(),AJS.bind=function(a,b,c){try{return"function"==typeof c?AJS.$(window).bind(a,b,c):AJS.$(window).bind(a,b)}catch(d){AJS.log("error while binding: "+d.message)}},AJS.unbind=function(a,b){try{return AJS.$(window).unbind(a,b)}catch(c){AJS.log("error while unbinding: "+c.message)}},AJS.trigger=function(a,b){try{return AJS.$(window).trigger(a,b)}catch(c){AJS.log("error while triggering: "+c.message)}},AJS.popup=function(a){var b={"width":800,"height":600,"closeOnOutsideClick":!1,"keypressListener":function(a){27===a.keyCode&&c.is(":visible")&&i.hide()}};"object"!=typeof a&&(a={"width":arguments[0],"height":arguments[1],"id":arguments[2]},a=AJS.$.extend({},a,arguments[3])),a=AJS.$.extend({},b,a);var c=AJS("div").addClass("aui-popup");a.id&&c.attr("id",a.id);var d=3e3;AJS.$(".aui-dialog").each(function(){var a=AJS.$(this);d=a.css("z-index")>d?a.css("z-index"):d});var e=function j(b,e){return a.width=b=b||a.width,a.height=e=e||a.height,c.css({"marginTop":-Math.round(e/2)+"px","marginLeft":-Math.round(b/2)+"px","width":b,"height":e,"z-index":parseInt(d,10)+2}),j}(a.width,a.height);AJS.$("body").append(c),c.hide(),AJS.enable(c);var f=AJS.$(".aui-blanket"),g=function(a,b){var c=AJS.$(a,b);return c.length?(c.focus(),!0):!1},h=function(b){if(0===AJS.$(".dialog-page-body",b).find(":focus").length){if(a.focusSelector)return g(a.focusSelector,b);var c=":input:visible:enabled:first";g(c,AJS.$(".dialog-page-body",b))||g(c,AJS.$(".dialog-button-panel",b))||g(c,AJS.$(".dialog-page-menu",b))}},i={"changeSize":function(b,c){(b&&b!=a.width||c&&c!=a.height)&&e(b,c),this.show()},"show":function(){var b=function(){AJS.$(document).off("keydown",a.keypressListener).on("keydown",a.keypressListener),AJS.dim(),f=AJS.$(".aui-blanket"),0!=f.size()&&a.closeOnOutsideClick&&f.click(function(){c.is(":visible")&&i.hide()}),c.show(),AJS.popup.current=this,h(c),AJS.$(document).trigger("showLayer",["popup",this])};b.call(this),this.show=b},"hide":function(){AJS.$(document).unbind("keydown",a.keypressListener),f.unbind(),this.element.hide(),0==AJS.$(".aui-dialog:visible").size()&&AJS.undim();var b=document.activeElement;this.element.has(b).length&&b.blur(),AJS.$(document).trigger("hideLayer",["popup",this]),AJS.popup.current=null,this.enable()},"element":c,"remove":function(){c.remove(),this.element=null},"disable":function(){this.disabled||(this.popupBlanket=AJS.$("<div class='dialog-blanket'> </div>").css({"height":c.height(),"width":c.width()}),c.append(this.popupBlanket),this.disabled=!0)},"enable":function(){this.disabled&&(this.disabled=!1,this.popupBlanket.remove(),this.popupBlanket=null)}};return i},function(){function a(a,b,c,d){a.buttonpanel||a.addButtonPanel(),this.page=a,this.onclick=c,this._onclick=function(b){return c.call(this,a.dialog,a,b)===!0},this.item=AJS("button",b).addClass("button-panel-button"),d&&this.item.addClass(d),"function"==typeof c&&this.item.click(this._onclick),a.buttonpanel.append(this.item),this.id=a.button.length,a.button[this.id]=this}function b(a,b,c,d,e){a.buttonpanel||a.addButtonPanel(),e||(e="#"),this.page=a,this.onclick=c,this._onclick=function(b){return c.call(this,a.dialog,a,b)===!0},this.item=AJS("a",b).attr("href",e).addClass("button-panel-link"),d&&this.item.addClass(d),"function"==typeof c&&this.item.click(this._onclick),a.buttonpanel.append(this.item),this.id=a.button.length,a.button[this.id]=this}function c(a,b){var c="left"==a?-1:1;return function(a){var d=this.page[b];if(this.id!=(1==c?d.length-1:0)){c*=a||1,d[this.id+c].item[0>c?"before":"after"](this.item),d.splice(this.id,1),d.splice(this.id+c,0,this);for(var e=0,f=d.length;f>e;e++)"panel"==b&&this.page.curtab==d[e].id&&(this.page.curtab=e),d[e].id=e}return this}}function d(a){return function(){this.page[a].splice(this.id,1);for(var b=0,c=this.page[a].length;c>b;b++)this.page[a][b].id=b;this.item.remove()}}a.prototype.moveUp=a.prototype.moveLeft=c("left","button"),a.prototype.moveDown=a.prototype.moveRight=c("right","button"),a.prototype.remove=d("button"),a.prototype.html=function(a){return this.item.html(a)},a.prototype.onclick=function(a){return"undefined"==typeof a?this.onclick:(this.item.unbind("click",this._onclick),this._onclick=function(b){return a.call(this,page.dialog,page,b)===!0},"function"==typeof a&&this.item.click(this._onclick),void 0)};var e=20,f=function(a,b,c,d,f){c instanceof AJS.$||(c=AJS.$(c)),this.dialog=a.dialog,this.page=a,this.id=a.panel.length,this.button=AJS("button").html(b).addClass("item-button"),f&&(this.button[0].id=f),this.item=AJS("li").append(this.button).addClass("page-menu-item"),this.body=AJS("div").append(c).addClass("dialog-panel-body").css("height",a.dialog.height+"px"),this.padding=e,d&&this.body.addClass(d);var g=a.panel.length,h=this;a.menu.append(this.item),a.body.append(this.body),a.panel[g]=this;var i=function(){var b;a.curtab+1&&(b=a.panel[a.curtab],b.body.hide(),b.item.removeClass("selected"),"function"==typeof b.onblur&&b.onblur()),a.curtab=h.id,h.body.show(),h.item.addClass("selected"),"function"==typeof h.onselect&&h.onselect(),"function"==typeof a.ontabchange&&a.ontabchange(h,b)};this.button.click?this.button.click(i):(AJS.log("atlassian-dialog:Panel:constructor - this.button.click false"),this.button.onclick=i),i(),0==g?a.menu.css("display","none"):a.menu.show()};f.prototype.select=function(){this.button.click()},f.prototype.moveUp=f.prototype.moveLeft=c("left","panel"),f.prototype.moveDown=f.prototype.moveRight=c("right","panel"),f.prototype.remove=d("panel"),f.prototype.html=function(a){return a?(this.body.html(a),this):this.body.html()},f.prototype.setPadding=function(a){return isNaN(+a)||(this.body.css("padding",+a),this.padding=+a,this.page.recalcSize()),this};var g=56,h=51,i=50,j=function(a,b){this.dialog=a,this.id=a.page.length,this.element=AJS("div").addClass("dialog-components"),this.body=AJS("div").addClass("dialog-page-body"),this.menu=AJS("ul").addClass("dialog-page-menu").css("height",a.height+"px"),this.body.append(this.menu),this.curtab,this.panel=[],this.button=[],b&&this.body.addClass(b),a.popup.element.append(this.element.append(this.menu).append(this.body)),a.page[a.page.length]=this};j.prototype.recalcSize=function(){for(var a=this.header?g:0,b=this.buttonpanel?h:0,c=this.panel.length;c--;){var d=this.dialog.height-a-b;this.panel[c].body.css("height",d),this.menu.css("height",d)}},j.prototype.addButtonPanel=function(){this.buttonpanel=AJS("div").addClass("dialog-button-panel"),this.element.append(this.buttonpanel)},j.prototype.addPanel=function(a,b,c,d){return new f(this,a,b,c,d),this.recalcSize(),this},j.prototype.addHeader=function(a,b){return this.header&&this.header.remove(),this.header=AJS("h2").text(a||"").addClass("dialog-title"),b&&this.header.addClass(b),this.element.prepend(this.header),this.recalcSize(),this},j.prototype.addButton=function(b,c,d){return new a(this,b,c,d),this.recalcSize(),this},j.prototype.addLink=function(a,c,d,e){return new b(this,a,c,d,e),this.recalcSize(),this},j.prototype.gotoPanel=function(a){this.panel[a.id||a].select()},j.prototype.getCurrentPanel=function(){return this.panel[this.curtab]},j.prototype.hide=function(){this.element.hide()},j.prototype.show=function(){this.element.show()},j.prototype.remove=function(){this.element.remove()},AJS.Dialog=function(a,b,c){var d={};+a||(d=Object(a),a=d.width,b=d.height,c=d.id),this.height=b||480,this.width=a||640,this.id=c,d=AJS.$.extend({},d,{"width":this.width,"height":this.height,"id":this.id}),this.popup=AJS.popup(d),this.popup.element.addClass("aui-dialog"),this.page=[],this.curpage=0,new j(this)},AJS.Dialog.prototype.addHeader=function(a,b){return this.page[this.curpage].addHeader(a,b),this},AJS.Dialog.prototype.addButton=function(a,b,c){return this.page[this.curpage].addButton(a,b,c),this},AJS.Dialog.prototype.addLink=function(a,b,c,d){return this.page[this.curpage].addLink(a,b,c,d),this},AJS.Dialog.prototype.addSubmit=function(a,b){return this.page[this.curpage].addButton(a,b,"button-panel-submit-button"),this},AJS.Dialog.prototype.addCancel=function(a,b){return this.page[this.curpage].addLink(a,b,"button-panel-cancel-link"),this},AJS.Dialog.prototype.addButtonPanel=function(){return this.page[this.curpage].addButtonPanel(),this},AJS.Dialog.prototype.addPanel=function(a,b,c,d){return this.page[this.curpage].addPanel(a,b,c,d),this},AJS.Dialog.prototype.addPage=function(a){return new j(this,a),this.page[this.curpage].hide(),this.curpage=this.page.length-1,this},AJS.Dialog.prototype.nextPage=function(){return this.page[this.curpage++].hide(),this.curpage>=this.page.length&&(this.curpage=0),this.page[this.curpage].show(),this},AJS.Dialog.prototype.prevPage=function(){return this.page[this.curpage--].hide(),this.curpage<0&&(this.curpage=this.page.length-1),this.page[this.curpage].show(),this},AJS.Dialog.prototype.gotoPage=function(a){return this.page[this.curpage].hide(),this.curpage=a,this.curpage<0?this.curpage=this.page.length-1:this.curpage>=this.page.length&&(this.curpage=0),this.page[this.curpage].show(),this},AJS.Dialog.prototype.getPanel=function(a,b){var c=null==b?this.curpage:a;return null==b&&(b=a),this.page[c].panel[b]},AJS.Dialog.prototype.getPage=function(a){return this.page[a]},AJS.Dialog.prototype.getCurrentPanel=function(){return this.page[this.curpage].getCurrentPanel()},AJS.Dialog.prototype.gotoPanel=function(a,b){if(null!=b){var c=a.id||a;this.gotoPage(c)}this.page[this.curpage].gotoPanel("undefined"==typeof b?a:b)},AJS.Dialog.prototype.show=function(){return this.popup.show(),AJS.trigger("show.dialog",{"dialog":this}),this},AJS.Dialog.prototype.hide=function(){return this.popup.hide(),AJS.trigger("hide.dialog",{"dialog":this}),this},AJS.Dialog.prototype.remove=function(){this.popup.hide(),this.popup.remove(),AJS.trigger("remove.dialog",{"dialog":this})},AJS.Dialog.prototype.disable=function(){return this.popup.disable(),this},AJS.Dialog.prototype.enable=function(){return this.popup.enable(),this},AJS.Dialog.prototype.get=function(a){var b=[],c=this,d='#([^"][^ ]*|"[^"]*")',e=":(\\d+)",f="page|panel|button|header",g="(?:("+f+")(?:"+d+"|"+e+")?|"+d+")",h=new RegExp("(?:^|,)\\s*"+g+"(?:\\s+"+g+")?\\s*(?=,|$)","ig");(a+"").replace(h,function(a,d,e,f,g,h,i,j,k){d=d&&d.toLowerCase();var l=[];if("page"==d&&c.page[f]?(l.push(c.page[f]),d=h,d=d&&d.toLowerCase(),e=i,f=j,g=k):l=c.page,e=e&&(e+"").replace(/"/g,""),i=i&&(i+"").replace(/"/g,""),g=g&&(g+"").replace(/"/g,""),k=k&&(k+"").replace(/"/g,""),d||g)for(var m=l.length;m--;){if(g||"panel"==d&&(e||!e&&null==f))for(var n=l[m].panel.length;n--;)(l[m].panel[n].button.html()==g||l[m].panel[n].button.html()==e||"panel"==d&&!e&&null==f)&&b.push(l[m].panel[n]);if(g||"button"==d&&(e||!e&&null==f))for(var n=l[m].button.length;n--;)(l[m].button[n].item.html()==g||l[m].button[n].item.html()==e||"button"==d&&!e&&null==f)&&b.push(l[m].button[n]);l[m][d]&&l[m][d][f]&&b.push(l[m][d][f]),"header"==d&&l[m].header&&b.push(l[m].header)}else b=b.concat(l)});for(var i={"length":b.length},j=b.length;j--;){i[j]=b[j];for(var k in b[j])k in i||!function(a){i[a]=function(){for(var b=this.length;b--;)"function"==typeof this[b][a]&&this[b][a].apply(this[b],arguments)}}(k)}return i},AJS.Dialog.prototype.updateHeight=function(){for(var a=0,b=AJS.$(window).height()-g-h-2*i,c=0;this.getPanel(c);c++)this.getPanel(c).body.css({"height":"auto","display":"block"}).outerHeight()>a&&(a=Math.min(b,this.getPanel(c).body.outerHeight())),c!==this.page[this.curpage].curtab&&this.getPanel(c).body.css({"display":"none"});for(c=0;this.getPanel(c);c++)this.getPanel(c).body.css({"height":a||this.height});this.page[0].menu.height(a),this.height=a+g+h+1,this.popup.changeSize(void 0,this.height)},AJS.Dialog.prototype.isMaximised=function(){return this.popup.element.outerHeight()>=AJS.$(window).height()-2*i},AJS.Dialog.prototype.getCurPanel=function(){return this.getPanel(this.page[this.curpage].curtab)},AJS.Dialog.prototype.getCurPanelButton=function(){return this.getCurPanel().button},AJS.Dialog=AJS.deprecate.construct(AJS.Dialog,"Dialog constructor",{"alternativeName":"Dialog2"}),AJS.popup=AJS.deprecate.construct(AJS.popup,"Dialog popup constructor",{"alternatveName":"Dialog2"})}(),function(a,b,c,d,e){"use strict";function f(b){return a(b).is('.checked, .aui-dropdown2-checked, [aria-checked="true"]')}function g(b){return a('[aria-controls="'+b.id+'"]')[0]}function h(a,b){var c=g(a);c&&b(c)}function i(b,c){var d=a(b);c?(d.attr("aria-expanded","true"),d.addClass("active aui-dropdown2-active")):(d.attr("aria-expanded","false"),d.removeClass("active aui-dropdown2-active"))}function j(b){function c(a){if(a.preventDefault(),b.isEnabled()){var c=document.getElementById(f);return c.toggle(),c.isSubmenu=b.hasSubmenu(),c}}function d(a){if(a.preventDefault(),b.isEnabled()&&b.hasSubmenu()){var c=document.getElementById(f);return c.show(),c.isSubmenu=b.hasSubmenu(),c}}function e(a){var d=a.keyCode===AJS.keyCode.ENTER||a.keyCode===AJS.keyCode.SPACE,e=a.keyCode===AJS.keyCode.RIGHT&&b.hasSubmenu(),f=(a.keyCode===AJS.keyCode.UP||a.keyCode===AJS.keyCode.DOWN)&&!b.hasSubmenu();if(d||e||f){var g=c(a);g&&g.focusItem(0)}}var f=b.getAttribute("aria-controls");f||(f=b.getAttribute("aria-owns"),f?(b.removeAttribute("aria-owns"),b.setAttribute("aria-controls",f)):AJS.error('Dropdown triggers need either a "aria-owns" or "aria-controls" attribute')),b.setAttribute("aria-haspopup",!0),b.setAttribute("aria-expanded",!1),b.setAttribute("href","#"),a(b).on("aui-button-invoke",c).on("click",c).on("keydown",e).on("mouseenter",d)}function k(){a(document).on("mousedown",".aui-dropdown2-trigger",function(){var a=this.hasAttribute("resolved");if(!a){c.init(this);var b=AJS.deprecate.getMessageLogger("Dropdown2 lazy initialisation",{"removeInVersion":"6.0.0","alternativeName":"initialisation on DOM insertion","sinceVersion":"5.8.0","extraInfo":"Dropdown2 triggers should have all necessary attributes on DOM insertion","deprecationType":"JS"});b()}})}function l(b,c){return a(b).find(["> ul > li","> .aui-dropdown2-section > ul > li",'> div[role] > .aui-dropdown2-section > div[role="group"] > ul[role] > li[role]'].join(",")).filter(c).children('a, button, [role="checkbox"], [role="menuitemcheckbox"], [role="radio"], [role="menuitemradio"]')}function m(a){return l(a,function(){return!0})}function n(a){return l(a,function(){return-1===this.className.indexOf("hidden")})}function o(b){var c=a(b);c.attr("tabindex","-1"),(c.hasClass("aui-dropdown2-disabled")||c.parent().hasClass("aui-dropdown2-hidden"))&&c.attr("aria-disabled",!0)}function p(a){m(a).each(function(){o(this)})}function q(b){var c=a(b),d=c.find(".hidden").addClass("aui-dropdown2-hidden"),e=c.find(".disabled").addClass("aui-dropdown2-disabled"),f=c.find(".interactive").addClass("aui-dropdown2-interactive");return function(){d.removeClass("aui-dropdown2-hidden"),e.removeClass("aui-dropdown2-disabled"),f.removeClass("aui-dropdown2-interactive")}}function r(a,c){var d=c&&c.hasSubmenu&&c.hasSubmenu(),e="submenu auto"===a.getAttribute("data-aui-alignment");!d&&e&&t(a);var f=a.hasAttribute("data-aui-alignment");d&&!e?(s(a),a.setAttribute("data-aui-alignment","submenu auto"),a.setAttribute("data-aui-alignment-static",!0)):f||(a.setAttribute("data-aui-alignment","bottom auto"),a.setAttribute("data-aui-alignment-static",!0)),a._auiAlignment&&a._auiAlignment.destroy(),a._auiAlignment=new b(a,c),a._auiAlignment.enable()}function s(b){var c=a(b);b.hasAttribute("data-aui-alignment")&&c.data("previous-data-aui-alignment",b.getAttribute("data-aui-alignment")),c.data("had-data-aui-alignment-static",b.hasAttribute("data-aui-alignment-static"))}function t(b){var c=a(b),d=c.data("previous-data-aui-alignment");d?b.setAttribute("data-aui-alignment",d):b.removeAttribute("data-aui-alignment"),c.removeData("previous-data-aui-alignment"),c.data("had-data-aui-alignment-static")||b.removeAttribute("data-aui-alignment-static"),c.removeData("had-data-aui-alignment-static")}function u(a,b){var c=b.getAttribute("data-dropdown2-hide-location");return document.getElementById(c)||a.parentNode}function v(b){AJS.layer(b),b.addEventListener("aui-layer-show",function(){a(b).trigger("aui-dropdown2-show"),b._syncClasses=q(b),p(this),h(b,function(a){i(a,!0),b._returnTo=u(b,a)})}),b.addEventListener("aui-layer-hide",function(){a(b).trigger("aui-dropdown2-hide"),b._syncClasses&&(b._syncClasses(),delete b._syncClasses),b._auiAlignment&&(b._auiAlignment.disable(),b._auiAlignment.destroy()),b._returnTo&&(b.parentNode&&b.parentNode!==b._returnTo&&b.parentNode.removeChild(b),b._returnTo.appendChild(b)),n(b).removeClass("active aui-dropdown2-active"),h(b,function(a){x()?(a.focus(),i(a,a.hasSubmenu&&a.hasSubmenu())):i(a,!1)}),delete b.isSubmenu})}function w(){B=!0}function x(){var a=B===!0;return B=!1,a}function y(b){var c=a(b);c.on("keydown",function(a){a.keyCode===AJS.keyCode.DOWN?(b.focusNext(),a.preventDefault()):a.keyCode===AJS.keyCode.UP?(b.focusPrevious(),a.preventDefault()):a.keyCode===AJS.keyCode.LEFT?b.isSubmenu&&(w(),b.hide(),a.preventDefault()):a.keyCode===AJS.keyCode.ESCAPE?w():a.keyCode===AJS.keyCode.TAB&&(w(),b.hide())}),c.on("click",'a, button, [role="menuitem"], [role="menuitemcheckbox"], [role="checkbox"], [role="menuitemradio"], [role="radio"]',function(c){var d=a(c.target);if("true"===d.attr("aria-disabled")&&c.preventDefault(),!c.isDefaultPrevented()&&!d.is(".aui-dropdown2-interactive")){var e=b;do{var f=AJS.layer(e);e=AJS.layer(e).below(),f.$el.is(".aui-dropdown2")&&f.hide()}while(e)}}),c.on("mouseenter",'a, button, [role="menuitem"], [role="menuitemcheckbox"], [role="checkbox"], [role="menuitemradio"], [role="radio"]',function(a){var c=a.target,d=c.hasSubmenu&&c.hasSubmenu();if(!a.isDefaultPrevented()&&!d){var e=AJS.layer(b).above();e&&AJS.layer(e).hide()}})}function z(b){var c=a(b);c.addClass("aui-dropdown2"),e.supportsVoiceOver()&&c.find('> div[role="application"]').attr("role","presentation"),b.hasAttribute("data-container")&&(c.attr("data-aui-alignment-container",c.attr("data-container")),c.removeAttr("data-container")),v(b),y(b),b.hide()}var A={"disable":function(){this.setAttribute("aria-disabled","true")},"enable":function(){this.setAttribute("aria-disabled","false")},"isEnabled":function(){return"true"!==this.getAttribute("aria-disabled")},"hasSubmenu":function(){var a=(this.className||"").split(/\s+/);return-1!==a.indexOf("aui-dropdown2-sub-trigger")}};c("aui-dropdown2-trigger",{"type":c.types.CLASS,"created":j,"prototype":A}),k(),c("aui-dropdown2-sub-trigger",{"type":c.types.CLASS,"created":function(a){a.className+=" aui-dropdown2-trigger",c.init(a)}}),a(document).on("mouseenter",".aui-dropdown2-trigger-group a, .aui-dropdown2-trigger-group button",function(b){var c,d=a(b.target);d.is(".aui-dropdown2-active")||d.closest(".aui-dropdown2").size()||(c=d.closest(".aui-dropdown2-trigger-group").find(".aui-dropdown2-active").size(),c&&d.is(".aui-dropdown2-trigger")&&(d.trigger("aui-button-invoke"),b.preventDefault()))});var B=!1,C={"toggle":function(){this.isVisible()?this.hide():this.show()},"show":function(){AJS.layer(this).show();var a=this;return h(a,function(b){r(a,b)}),this},"hide":function(){return AJS.layer(this).hide(),this},"focusNext":function(){var a,b=n(this),c=document.activeElement;b.last()[0]!==c&&(a=b.toArray().indexOf(c),this.focusItem(b.get(a+1)))},"focusPrevious":function(){var a,b=n(this),c=document.activeElement;b.first()[0]!==c&&(a=b.toArray().indexOf(c),this.focusItem(b.get(a-1)))},"focusItem":function(b){var c,d=n(this);"number"==typeof b&&(b=d.get(b)),c=a(b),c.focus(),d.removeClass("active aui-dropdown2-active"),c.addClass("active aui-dropdown2-active")},"isVisible":function(){return AJS.layer(this).isVisible()}};c("aui-dropdown",{"attributes":{"label":function(a,b){a.children[0].textContent=b.newValue}},"created":function(a){var b=a.children[1],c=a.children[0];b.id=a.id+"-dropdown",c.id=a.id+"-trigger",c.setAttribute("aria-controls",b.id),Object.keys(C).forEach(function(c){a[c]=a[c].bind(b)}),a.hide()},"prototype":C,"template":window.skateTemplateHtml('<a class="aui-dropdown2-trigger" href="#"></a>','<div aria-hidden="true" class="aui-dropdown2 aui-style-default" role="menu">','<div role="application">','<div role="presentation" class="aui-dropdown2-section">','<div role="group">','<content select="ul"></content>',"</div>","</div>","</div>","</div>"),"type":c.types.TAG}),c("aui-dropdown2",{"type":c.types.CLASS,"created":z,"prototype":C}),c("data-aui-dropdown2",{"type":c.types.ATTR,"created":z,"prototype":C}),c("aui-dropdown2-checkbox",{"type":c.types.CLASS,"created":function(b){var c=f(b);b.setAttribute("aria-checked",c),b.setAttribute("tabindex","0"),e.supportsVoiceOver()&&b.setAttribute("role","checkbox"),a(b).on("click keydown",function(a){("click"===a.type||a.keyCode===AJS.keyCode.ENTER||a.keyCode===AJS.keyCode.SPACE)&&(b.isInteractive()&&a.preventDefault(),b.isEnabled()&&(b.isChecked()?b.uncheck():b.check()))})},"prototype":{"isEnabled":function(){return!(null!==this.getAttribute("aria-disabled")&&"true"===this.getAttribute("aria-disabled"))},"isChecked":function(){return null!==this.getAttribute("aria-checked")&&"true"===this.getAttribute("aria-checked")},"isInteractive":function(){return a(this).hasClass("aui-dropdown2-interactive")},"uncheck":function(){this.setAttribute("aria-checked","false"),a(this).removeClass("checked aui-dropdown2-checked"),a(this).trigger("aui-dropdown2-item-uncheck")},"check":function(){this.setAttribute("aria-checked","true"),a(this).addClass("checked aui-dropdown2-checked"),a(this).trigger("aui-dropdown2-item-check")}}}),c("aui-dropdown2-radio",{"type":c.types.CLASS,"created":function(b){var c=f(b);b.setAttribute("aria-checked",c),b.setAttribute("tabindex","0"),e.supportsVoiceOver()&&b.setAttribute("role","radio"),a(b).on("click keydown",function(c){if("click"===c.type||c.keyCode===AJS.keyCode.ENTER||c.keyCode===AJS.keyCode.SPACE){b.isInteractive()&&c.preventDefault();var d=a(this);this.isEnabled()&&this.isChecked()===!1&&(d.closest("ul").find(".aui-dropdown2-checked").not(this).each(function(){this.uncheck()}),b.check())}})},"prototype":{"isEnabled":function(){return!(null!==this.getAttribute("aria-disabled")&&"true"===this.getAttribute("aria-disabled"))},"isChecked":function(){return null!==this.getAttribute("aria-checked")&&"true"===this.getAttribute("aria-checked")},"isInteractive":function(){return a(this).hasClass("aui-dropdown2-interactive")},"uncheck":function(){this.setAttribute("aria-checked","false"),a(this).removeClass("checked aui-dropdown2-checked"),a(this).trigger("aui-dropdown2-item-uncheck")},"check":function(){this.setAttribute("aria-checked","true"),a(this).addClass("checked aui-dropdown2-checked"),a(this).trigger("aui-dropdown2-item-check")}}})}(AJS.$,AJS.Alignment,window.skate,window.skateTemplateHtml,AJS._internal.browser),AJS.inlineHelp=function(){AJS.$(".icon-inline-help").click(function(){var a=AJS.$(this).siblings(".field-help");a.hasClass("hidden")?a.removeClass("hidden"):a.addClass("hidden")})},function(a){function b(b){var c=a(b),d=a.extend({"left":0,"top":0},c.offset());return{"left":d.left,"top":d.top,"width":c.outerWidth(),"height":c.outerHeight()}}function c(a,b,c,d){var e=AJS.$.isFunction(d.offsetX)?d.offsetX(a,b,c,d):d.offsetX,f=AJS.$.isFunction(d.offsetY)?d.offsetY(a,b,c,d):d.offsetY,g=AJS.$.isFunction(d.arrowOffsetX)?d.arrowOffsetX(a,b,c,d):d.arrowOffsetX,h=AJS.$.isFunction(d.arrowOffsetY)?d.arrowOffsetY(a,b,c,d):d.arrowOffsetY,i="body"!==d.container.toLowerCase(),j=AJS.$(d.container),k=i?AJS.$(d.container).parent():AJS.$(window),l=i?j.offset():{"left":0,"top":0},m=i?k.offset():{"left":0,"top":0},n=b.target,o=n.offset(),p=n[0].getBBox&&n[0].getBBox();return{"screenPadding":10,"arrowMargin":5,"window":{"top":m.top,"left":m.left,"scrollTop":k.scrollTop(),"scrollLeft":k.scrollLeft(),"width":k.width(),"height":k.height()},"scrollContainer":{"width":j.width(),"height":j.height()},"trigger":{"top":o.top-l.top,"left":o.left-l.left,"width":p?p.width:n.outerWidth(),"height":p?p.height:n.outerHeight()},"dialog":{"width":a.width(),"height":a.height(),"offset":{"top":f,"left":e}},"arrow":{"height":a.find(".arrow").outerHeight(),"offset":{"top":h,"left":g}}}}function d(a,b,d,e){var f=c(a,b,d,e),g=f.screenPadding,h=f.window,i=f.trigger,j=f.dialog,k=f.arrow,l=f.scrollContainer,m={"top":i.top-h.scrollTop,"left":i.left-h.scrollLeft},n=Math.floor(i.height/2),o=Math.floor(j.height/2),p=Math.floor(k.height/2),q=m.left-j.offset.left-g,r=l.width-m.left-i.width-j.offset.left-g,s=q>=j.width,t=r>=j.width,u=!t&&s?"e":"w",v=m.top+n-p,w=h.height-v-k.height;g=Math.min(g,v-f.arrowMargin),g=Math.min(g,w-f.arrowMargin);var x,y,z=m.top+n,A=Math.max(z-g,0),B=Math.max(h.height-z-g,0),C=o-j.offset.top>A,D=o+j.offset.top>B;return C?(x={"top":h.scrollTop+g,"left":"w"===u?i.left+i.width+j.offset.left:i.left-j.width-j.offset.left},y={"top":i.top+n-(x.top+p)}):D?(x={"top":h.scrollTop+h.height-j.height-g,"left":"w"===u?i.left+i.width+j.offset.left:i.left-j.width-j.offset.left},y={"top":i.top+n-(x.top+p)}):(x={"top":i.top+n-o+j.offset.top,"left":"w"===u?i.left+i.width+j.offset.left:i.left-j.width-j.offset.left},y={"top":o-p+k.offset.top}),{"gravity":u,"popupCss":x,"arrowCss":y}}function e(a,c,d,e){var f=AJS.$.isFunction(e.offsetX)?e.offsetX(a,c,d,e):e.offsetX,g=AJS.$.isFunction(e.offsetY)?e.offsetY(a,c,d,e):e.offsetY,h=AJS.$.isFunction(e.arrowOffsetX)?e.arrowOffsetX(a,c,d,e):e.arrowOffsetX,i=(AJS.$.isFunction(e.arrowOffsetY)?e.arrowOffsetY(a,c,d,e):e.arrowOffsetY,b(window)),j=b(c.target),k=b(a),l=b(a.find(".aui-inline-dialog-arrow")),m=j.left+j.width/2,n=(window.pageYOffset||document.documentElement.scrollTop)+i.height,o=10;k.top=j.top+j.height+~~g,k.left=j.left+~~f;var p=i.width-(k.left+k.width+o);l.left=m-k.left+~~h,l.top=-(l.height/2);var q=j.top>k.height,r=k.top+k.height<n,s=!r&&q||q&&"s"===e.gravity;if(s&&(k.top=j.top-k.height-l.height/2,l.top=k.height),e.isRelativeToMouse)0>p?(k.right=o,k.left="auto",l.left=d.x-(i.width-k.width)):(k.left=d.x-20,l.left=d.x-k.left);else if(0>p){k.right=o,k.left="auto";var t=i.width-k.right,u=t-k.width;l.right="auto",l.left=m-u-l.width/2}else k.width<=j.width/2&&(l.left=k.width/2,k.left=m-k.width/2);return{"gravity":s?"s":"n","displayAbove":s,"popupCss":{"left":k.left,"top":k.top,"right":k.right},"arrowCss":{"left":l.left,"top":l.top,"right":l.right}}}AJS.InlineDialog=function(b,c,d,e){if(e=e||[],e.hasOwnProperty("getArrowAttributes")&&h(),e.hasOwnProperty("getArrowPath")&&(i(),e.hasOwnProperty("gravity")&&j()),e.hasOwnProperty("onTop")&&(g(),e.onTop&&void 0===e.gravity&&(e.gravity="s")),"undefined"==typeof c&&(c=String(Math.random()).replace(".",""),a("#inline-dialog-"+c+", #arrow-"+c+", #inline-dialog-shim-"+c).length))throw"GENERATED_IDENTIFIER_NOT_UNIQUE";var k=a.extend(!1,AJS.InlineDialog.opts,e);
"w"===k.gravity&&(k.offsetX=void 0===e.offsetX?10:e.offsetX,k.offsetY=void 0===e.offsetY?0:e.offsetY);var l,m,n,o,p,q=function(){return window.Raphael&&!!window.Raphael.version&&e&&(e.getArrowPath||e.getArrowAttributes)},r=!1,s=!1,t=!1,u=a('<div id="inline-dialog-'+c+'" class="aui-inline-dialog"><div class="aui-inline-dialog-contents contents"></div><div id="arrow-'+c+'" class="aui-inline-dialog-arrow arrow"></div></div>'),v=a("#arrow-"+c,u),w=u.find(".contents");q()||u.find(".aui-inline-dialog-arrow").addClass("aui-css-arrow"),k.displayShadow||w.addClass("aui-inline-dialog-no-shadow"),k.autoWidth?w.addClass("aui-inline-dialog-auto-width"):w.width(k.width),w.on({"mouseenter":function(){clearTimeout(m),u.unbind("mouseenter")},"mouseleave":function(){z()}});var x=function(){return l||(l={"popup":u,"hide":function(){z(0)},"id":c,"show":function(){y()},"persistent":k.persistent?!0:!1,"reset":function(){function b(b,d){if(b.css(d.popupCss),q()){"s"===d.gravity&&(d.arrowCss.top-=a.browser.msie?10:9),b.arrowCanvas||(b.arrowCanvas=Raphael("arrow-"+c,16,16));var e=k.getArrowPath,f=a.isFunction(e)?e(d):e;b.arrowCanvas.path(f).attr(k.getArrowAttributes())}else v.removeClass("aui-bottom-arrow aui-left-arrow aui-right-arrow"),"s"!==d.gravity||v.hasClass("aui-bottom-arrow")?"n"===d.gravity||("w"===d.gravity?v.addClass("aui-left-arrow"):"e"===d.gravity&&v.addClass("aui-right-arrow")):v.addClass("aui-bottom-arrow");v.css(d.arrowCss)}var d=AJS.$(window).height(),e=Math.round(.75*d);u.children(".aui-inline-dialog-contents").css("max-height",e);var g=k.calculatePositions(u,p,o,k);if(g.hasOwnProperty("displayAbove")&&(f(),g.gravity=g.displayAbove?"s":"n"),b(u,g),u.fadeIn(k.fadeTime,function(){}),a.browser.msie&&~~a.browser.version<10){var h=a("#inline-dialog-shim-"+c);h.length||a(u).prepend(a('<iframe class = "inline-dialog-shim" id="inline-dialog-shim-'+c+'" frameBorder="0" src="javascript:false;"></iframe>')),h.css({"width":w.outerWidth(),"height":w.outerHeight()})}}}),l},y=function(){u.is(":visible")||(n=setTimeout(function(){t&&s&&(k.addActiveClass&&a(b).addClass("active"),r=!0,k.persistent||G(),AJS.InlineDialog.current=x(),a(document).trigger("showLayer",["inlineDialog",x()]),x().reset())},k.showDelay))},z=function(c){"undefined"==typeof c&&k.persistent||"undefined"==typeof u.get(0)._datePickerPopup&&(s=!1,r&&k.preHideCallback.call(u[0].popup)&&(c=null==c?k.hideDelay:c,clearTimeout(m),clearTimeout(n),null!=c&&(m=setTimeout(function(){H(),k.addActiveClass&&a(b).removeClass("active"),u.fadeOut(k.fadeTime,function(){k.hideCallback.call(u[0].popup)}),u.arrowCanvas&&(u.arrowCanvas.remove(),u.arrowCanvas=null),r=!1,s=!1,a(document).trigger("hideLayer",["inlineDialog",x()]),AJS.InlineDialog.current=null,k.cacheContent||(t=!1,B=!1)},c))))},A=function(b,e){var f=a(e);k.upfrontCallback.call({"popup":u,"hide":function(){z(0)},"id":c,"show":function(){y()}}),u.each(function(){"undefined"!=typeof this.popup&&this.popup.hide()}),k.closeOthers&&a(".aui-inline-dialog").each(function(){!this.popup.persistent&&this.popup.hide()}),p={"target":f},o=b?{"x":b.pageX,"y":b.pageY}:{"x":f.offset().left,"y":f.offset().top},r||clearTimeout(n),s=!0;var g=function(){B=!1,t=!0,k.initCallback.call({"popup":u,"hide":function(){z(0)},"id":c,"show":function(){y()}}),y()};return B||(B=!0,a.isFunction(d)?d(w,e,g):a.get(d,function(a,b,d){w.html(k.responseHandler(a,b,d)),t=!0,k.initCallback.call({"popup":u,"hide":function(){z(0)},"id":c,"show":function(){y()}}),y()})),clearTimeout(m),r||y(),!1};u[0].popup=x();var B=!1,C=!1,D=function(){C||(a(k.container).append(u),C=!0)},E=a(b);k.onHover?k.useLiveEvents?E.selector?a(document).on("mouseenter",E.selector,function(a){D(),A(a,this)}).on("mouseleave",E.selector,function(){z()}):AJS.log("Warning: inline dialog trigger elements must have a jQuery selector when the useLiveEvents option is enabled."):E.on({"mouseenter":function(a){D(),A(a,this)},"mouseleave":function(){z()}}):k.noBind||(k.useLiveEvents?E.selector?a(document).on("click",E.selector,function(a){return D(),F()?u.hide():A(a,this),!1}).on("mouseleave",E.selector,function(){z()}):AJS.log("Warning: inline dialog trigger elements must have a jQuery selector when the useLiveEvents option is enabled."):E.on("click",function(a){return D(),F()?u.hide():A(a,this),!1}).on("mouseleave",function(){z()}));var F=function(){return r&&k.closeOnTriggerClick},G=function(){K(),N()},H=function(){L(),O()},I=!1,J=c+".inline-dialog-check",K=function(){I||(a("body").bind("click."+J,function(b){var d=a(b.target);0===d.closest("#inline-dialog-"+c+" .contents").length&&z(0)}),I=!0)},L=function(){I&&a("body").unbind("click."+J),I=!1},M=function(a){27===a.keyCode&&z(0)},N=function(){a(document).on("keydown",M)},O=function(){a(document).off("keydown",M)};return u.show=function(a,c){a&&a.stopPropagation(),D(),!k.noBind||b&&b.length?A(a,b):A(a,void 0===c?a.target:c)},u.hide=function(){z(0)},u.refresh=function(){r&&x().reset()},u.getOptions=function(){return k},u},AJS.InlineDialog.opts={"onTop":!1,"responseHandler":function(a,b,c){return a},"closeOthers":!0,"isRelativeToMouse":!1,"addActiveClass":!0,"onHover":!1,"useLiveEvents":!1,"noBind":!1,"fadeTime":100,"persistent":!1,"hideDelay":1e4,"showDelay":0,"width":300,"offsetX":0,"offsetY":10,"arrowOffsetX":0,"arrowOffsetY":0,"container":"body","cacheContent":!0,"displayShadow":!0,"autoWidth":!1,"gravity":"n","closeOnTriggerClick":!1,"preHideCallback":function(){return!0},"hideCallback":function(){},"initCallback":function(){},"upfrontCallback":function(){},"calculatePositions":function(a,b,c,f){f=f||{};var g="w"===f.gravity?d:e;return g(a,b,c,f)},"getArrowPath":function(a){return"s"===a.gravity?"M0,8L8,16,16,8":"M0,8L8,0,16,8"},"getArrowAttributes":function(){return{"fill":"#fff","stroke":"#ccc"}}},AJS.InlineDialog=AJS.deprecate.construct(AJS.InlineDialog,"Inline dialog constructor",{"alternativeName":"inline dialog 2"});var f=AJS.deprecate.getMessageLogger("displayAbove","[remove version]",{"alternativeName":"gravity","extraInfo":"See https://ecosystem.atlassian.net/browse/AUI-2197."}),g=AJS.deprecate.getMessageLogger("onTop","[remove version]",{"alternativeName":"gravity","extraInfo":"See https://ecosystem.atlassian.net/browse/AUI-2197."}),h=AJS.deprecate.getMessageLogger("getArrowAttributes","[remove version]",{"extraInfo":"See https://ecosystem.atlassian.net/browse/AUI-1362."}),i=AJS.deprecate.getMessageLogger("getArrowPath","[remove version]",{"extraInfo":"See https://ecosystem.atlassian.net/browse/AUI-1362."}),j=AJS.deprecate.getMessageLogger("getArrowPath does not support gravity","[remove version]",{"extraInfo":"See https://ecosystem.atlassian.net/browse/AUI-2197."})}(AJS.$),AJS.template=function(a){"use strict";var b=/\{([^\}]+)\}/g,c=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,d=function(a,b,d,e){var f=d;return b.replace(c,function(a,b,c,d,g){b=b||d,f&&(b+":html"in f?(f=f[b+":html"],e=!0):b in f&&(f=f[b]),g&&"function"==typeof f&&(f=f()))}),(null==f||f==d)&&(f=a),f=String(f),e||(f=h.escape(f)),f},e=function(a){return this.template=this.template.replace(b,function(b,c){return d(b,c,a,!0)}),this},f=function(a){return this.template=this.template.replace(b,function(b,c){return d(b,c,a)}),this},g=function(){return this.template},h=function(a){function b(){return b.template}return b.template=String(a),b.toString=b.valueOf=g,b.fill=f,b.fillHtml=e,b},i={},j=[],k=function(b){return a("script").filter(function(){return this.getAttribute("title")===b})};return h.load=function(a){return a=String(a),i.hasOwnProperty(a)||(j.length>=1e3&&delete i[j.shift()],j.push(a),i[a]=k(a)[0].text),this(i[a])},h.escape=AJS.escapeHtml,h}(AJS.$),function(a,b){"use strict";function c(b){a.messages[b]=function(a,c){c||(c=a,a="#aui-message-bar"),c.closeable=c.closeable!==!1,c.shadowed=c.shadowed!==!1;var f=h(this.template,c,b);return g(f,c.insert,a),c.closeable&&d(f),c.fadeout&&e(f,c.delay,c.duration),f}}function d(a){b(a||"div.aui-message.closeable").each(function(){var a=b(this),c=a.find(".aui-icon.icon-close"),d=c.length>0?c.first():b('<span class="aui-icon icon-close" role="button" tabindex="0"></span>');a.addClass("closeable"),a.append(d),f(a)})}function e(a,c,d){c="undefined"!=typeof c?c:j,d="undefined"!=typeof d?d:i,b(a||"div.aui-message.fadeout").each(function(){function a(){g.stop(!0,!1).delay(c).fadeOut(d,function(){g.closeMessage()})}function e(){g.stop(!0,!1).fadeTo(k,1)}function f(){return!h&&!i}var g=b(this),h=!1,i=!1;g.focusin(function(){h=!0,e()}).focusout(function(){h=!1,f()&&a()}).hover(function(){i=!0,e()},function(){i=!1,f()&&a()}),a()})}function f(a){a.on("click",".aui-icon.icon-close",function(a){b(a.target).closest(".aui-message").closeMessage()}).on("keydown",".aui-icon.icon-close",function(a){(a.which===AJS.keyCode.ENTER||a.which===AJS.keyCode.SPACE)&&(b(a.target).closest(".aui-message").closeMessage(),a.preventDefault())})}function g(a,b,c){"prepend"===b?a.prependTo(c):a.appendTo(c)}function h(a,c,d){var e=b(AJS.template(a).fill({"type":d,"closeable":c.closeable?"closeable":"","shadowed":c.shadowed?"shadowed":"","fadeout":c.fadeout?"fadeout":"","title":c.title||"","body:html":c.body||""}).toString());return c.id&&(/[#\'\"\.\s]/g.test(c.id)?AJS.log("AJS.Messages error: ID rejected, must not include spaces, hashes, dots or quotes."):e.attr("id",c.id)),e}var i=500,j=5e3,k=100,l='<div class="aui-message aui-message-{type} {type} {closeable} {shadowed} {fadeout}"><p class="title"><strong>{title}</strong></p>{body}<!-- .aui-message --></div>';a.messages={"setup":function(){c("generic"),c("error"),c("warning"),c("info"),c("success"),c("hint"),d(),e()},"makeCloseable":d,"makeFadeout":e,"template":l,"createMessage":c},b.fn.closeMessage=function(){var a=b(this);a.hasClass("aui-message")&&a.hasClass("closeable")&&(a.stop(!0),a.trigger("messageClose",[this]).remove(),b(document).trigger("aui-message-close",[this]))},b(function(){a.messages.setup()}),AJS.deprecate.prop(a.messages,"makeCloseable",{"extraInfo":'Use the "closeable" option in the constructor instead. Docs: https://docs.atlassian.com/aui/latest/docs/messages.html'}),AJS.deprecate.prop(a.messages,"createMessage",{"extraInfo":"Use the provided convenience methods instead e.g. AJS.messages.generic(). Docs: https://docs.atlassian.com/aui/latest/docs/messages.html"}),AJS.deprecate.prop(a.messages,"makeFadeout",{"extraInfo":'Use the "fadeout" option in the constructor instead. Docs: https://docs.atlassian.com/aui/latest/docs/messages.html'})}(AJS,AJS.$),function(a){"use strict";function b(){var b=a(this);AJS._addID(b),b.attr("role","tab");var c=b.attr("href");a(c).attr("aria-labelledby",b.attr("id")),b.parent().hasClass("active-tab")?b.attr("aria-selected","true"):b.attr("aria-selected","false")}function c(b,c){var d=a(b),e=d.find(".tabs-menu").first(),f=e.find("li:not(.aui-tabs-responsive-trigger-item)"),g=e.find(".aui-tabs-responsive-trigger").parent(),h=g.find("a"),j=h.attr("aria-controls"),k=a(document).find("#"+j).attr("aria-checked",!1),l=k.length>0,m=n.totalTabsWidth(f,k),o=m>d.outerWidth();if(!l&&o&&(g=n.createResponsiveDropdownTrigger(e,c),k=n.createResponsiveDropdown(d,c)),h.attr("aria-controls","aui-tabs-responsive-dropdown-"+c),h.attr("id","aui-tabs-responsive-trigger-"+c),h.attr("href","aui-tabs-responsive-trigger-"+c),k.attr("id","aui-tabs-responsive-dropdown-"+c),o){var p=n.moveVisibleTabs(f.toArray(),d,g),q=n.totalVisibleTabWidth(p),r=d.outerWidth()-q-g.outerWidth(!0),s=r>0;if(s){var t=k.find("li");n.moveInvisibleTabs(t.toArray(),r,g)}k.on("click","a",i)}l&&!o&&(k.find("li").each(function(){n.moveTabOutOfDropdown(a(this),g)}),n.removeResponsiveDropdown(k,g))}function d(b){if(!b.hasClass("aui-tabs-responsive-trigger")){var c=a(b.attr("href").match(k)[0]);c.addClass("active-pane").attr("aria-hidden","false").siblings(".tabs-pane").removeClass("active-pane").attr("aria-hidden","true");var d=b.parents(".aui-tabs").find(".aui-tabs-responsive-trigger-item a"),e=d.attr("aria-controls"),f=a(document).find("#"+e);if(f.find("li a").attr("aria-checked",!1).removeClass("checked aui-dropdown2-checked"),f.find("li").removeClass("active-tab"),b.parent("li.menu-item").addClass("active-tab").siblings(".menu-item").removeClass("active-tab"),b.hasClass("aui-tabs-responsive-item")){var g=c.parent(".aui-tabs").find("li.menu-item:not(.aui-tabs-responsive-trigger-item)");g.removeClass("active-tab"),g.find("a").removeClass("checked").removeAttr("aria-checked")}b.hasClass("aui-tabs-responsive-item")&&c.parent(".aui-tabs").find("li.menu-item.aui-tabs-responsive-trigger-item").addClass("active-tab"),b.closest(".tabs-menu").find("a").attr("aria-selected","false"),b.attr("aria-selected","true"),b.trigger("tabSelect",{"tab":b,"pane":c})}}function e(a){return void 0!==a.attr("data-aui-persist")&&"false"!==a.attr("data-aui-persist")}function f(a){var b=a.attr("id"),c=a.attr("data-aui-persist");return l+(b?b:"")+(c&&"true"!==c?"-"+c:"")}function g(a){for(var b=0,c=a.length;c>b;b++){var g=a.eq(b);if(e(g)&&window.localStorage){var h=g.attr("id");if(h){var i=window.localStorage.getItem(f(g));if(i){var j=g.find("#"+i);j.length&&d(j)}}else AJS.warn("A tab group must specify an id attribute if it specifies data-aui-persist")}}}function h(a){var b=a.closest(".aui-tabs"),c=b.attr("id");if(c){var d=a.attr("id");d&&window.localStorage.setItem(f(b),d)}else AJS.warn("A tab group must specify an id attribute if it specifies data-aui-persist")}function i(b){AJS.tabs.change(a(this),b),b&&b.preventDefault()}function j(a){a.forEach(function(a,b){c(a,b)})}var k=/#.*/,l="_internal-aui-tabs-",m='.aui-tabs.horizontal-tabs[data-aui-responsive]:not([data-aui-responsive="false"])',n={"totalTabsWidth":function(a,b){var c=this.totalVisibleTabWidth(a),d=0;return b.find("li").each(function(a,b){d+=parseInt(b.getAttribute("data-aui-tab-width"))}),c+d},"totalVisibleTabWidth":function(b){var c=0;return b.each(function(b,d){c+=a(d).outerWidth()}),c},"removeResponsiveDropdown":function(a,b){a.remove(),b.remove()},"createResponsiveDropdownTrigger":function(a,b){var c='<li class="menu-item aui-tabs-responsive-trigger-item"><a class="aui-dropdown2-trigger aui-tabs-responsive-trigger aui-dropdown2-trigger-arrowless" id="aui-tabs-responsive-trigger-'+b+'" aria-haspopup="true" aria-controls="aui-tabs-responsive-dropdown-'+b+'" href="aui-tabs-responsive-dropdown-'+b+'">...</a></li>';a.append(c);var d=a.find(".aui-tabs-responsive-trigger-item");return d},"createResponsiveDropdown":function(a,b){var c='<div class="aui-dropdown2 aui-style-default aui-tabs-responsive-dropdown" id="aui-tabs-responsive-dropdown-'+b+'"><ul></ul></div>';a.append(c);var d=a.find("#aui-tabs-responsive-dropdown-"+b);return d},"findNewVisibleTabs":function(b,c,d){function e(a,b,c){return c>=a+b}for(var f=0,g=0;e(f,d,c)&&g<b.length;g++){var h=a(b[g]),i=h.outerWidth(!0);f+=i}return b.slice(0,g-1)},"moveVisibleTabs":function(b,c,d){for(var e=d.find("a").attr("aria-controls"),f=a("#"+e),g=this.findNewVisibleTabs(b,c.outerWidth(),d.parent().outerWidth(!0)),h=g.length-1,i=b.length-1;i>=h;i--){var j=a(b[i]);this.moveTabToResponsiveDropdown(j,f,d)}return a(g)},"moveTabToResponsiveDropdown":function(a,b,c){var d=a.find("a");a.attr("data-aui-tab-width",a.outerWidth(!0)),d.addClass("aui-dropdown2-radio aui-tabs-responsive-item"),a.hasClass("active-tab")&&(d.addClass("aui-dropdown2-checked"),c.addClass("active-tab")),b.find("ul").prepend(a)},"moveInvisibleTabs":function(b,c,d){function e(a){return a>0}for(var f=0;e(c)&&f<b.length;f++){var g=a(b[f]),h=parseInt(g.attr("data-aui-tab-width"),10),i=c>h;i&&this.moveTabOutOfDropdown(g,d),c-=h}},"moveTabOutOfDropdown":function(a,b){var c=a.find("a").hasClass("aui-dropdown2-checked");c&&(a.addClass("active-tab"),b.removeClass("active-tab")),a.children("a").removeClass("aui-dropdown2-radio aui-tabs-responsive-item aui-dropdown2-checked"),b.before(a)}};AJS.tabs={"setup":function(){var c=a(".aui-tabs:not(.aui-tabs-disabled)"),d=a(m).toArray();j(d);var e=AJS.debounce(j,200);a(window).resize(function(){e(d)}),c.attr("role","application"),c.find(".tabs-pane").each(function(){var b=a(this);b.attr("role","tabpanel"),b.hasClass("active-pane")?b.attr("aria-hidden","false"):b.attr("aria-hidden","true")});for(var f=0,h=c.length;h>f;f++){var k=c.eq(f);if(!k.data("aui-tab-events-bound")){var l=k.children("ul.tabs-menu");l.attr("role","tablist"),l.children("li").attr("role","presentation"),l.find("> .menu-item a").each(b),l.delegate("a","click",i),k.data("aui-tab-events-bound",!0)}}g(c),a(".aui-tabs.vertical-tabs").find("a").each(function(){var b=a(this);b.attr("title")||AJS.isClipped(b)&&b.attr("title",b.text())})},"change":function(a,b){d(a);var c=a.closest(".aui-tabs");e(c)&&window.localStorage&&h(a)}},a(AJS.tabs.setup)}(AJS.$),function(){var _after=1,_afterThrow=2,_afterFinally=3,_before=4,_around=5,_intro=6,_regexEnabled=!0,_arguments="arguments",_undef="undefined",getType=function(){for(var a=Object.prototype.toString,b={},c={"1":"element","3":"textnode","9":"document","11":"fragment"},d="Arguments Array Boolean Date Document Element Error Fragment Function NodeList Null Number Object RegExp String TextNode Undefined Window".split(" "),e=d.length;e--;){var f=d[e],g=window[f];if(g)try{b[a.call(new g)]=f.toLowerCase()}catch(h){}}return function(d){return null==d&&(void 0===d?_undef:"null")||d.nodeType&&c[d.nodeType]||"number"==typeof d.length&&(d.callee&&_arguments||d.alert&&"window"||d.item&&"nodelist")||b[a.call(d)]}}(),isFunc=function(a){return"function"==getType(a)},weaveOne=function(source,method,advice){var old=source[method];if(advice.type!=_intro&&!isFunc(old)){var oldObject=old;old=function(){for(var code=arguments.length>0?_arguments+"[0]":"",i=1;i<arguments.length;i++)code+=","+_arguments+"["+i+"]";return eval("oldObject("+code+");")}}var aspect;return advice.type==_after||advice.type==_afterThrow||advice.type==_afterFinally?aspect=function(){var a,b=null;try{a=old.apply(this,arguments)}catch(c){b=c}if(advice.type==_after){if(null!=b)throw b;a=advice.value.apply(this,[a,method])}else advice.type==_afterThrow&&null!=b?a=advice.value.apply(this,[b,method]):advice.type==_afterFinally&&(a=advice.value.apply(this,[a,b,method]));return a}:advice.type==_before?aspect=function(){return advice.value.apply(this,[arguments,method]),old.apply(this,arguments)}:advice.type==_intro?aspect=function(){return advice.value.apply(this,arguments)}:advice.type==_around&&(aspect=function(){var a={"object":this,"args":Array.prototype.slice.call(arguments)};return advice.value.apply(a.object,[{"arguments":a.args,"method":method,"proceed":function(){return old.apply(a.object,a.args)}}])}),aspect.unweave=function(){source[method]=old,pointcut=source=aspect=old=null},source[method]=aspect,aspect},search=function(a,b,c){var d=[];for(var e in a){var f=null;try{f=a[e]}catch(g){}null!=f&&e.match(b.method)&&isFunc(f)&&(d[d.length]={"source":a,"method":e,"advice":c})}return d},weave=function(a,b){var c=typeof a.target.prototype!=_undef?a.target.prototype:a.target,d=[];if(b.type!=_intro&&typeof c[a.method]==_undef){var e=search(a.target,a,b);0==e.length&&(e=search(c,a,b));for(var f in e)d[d.length]=weaveOne(e[f].source,e[f].method,e[f].advice)}else d[0]=weaveOne(c,a.method,b);return _regexEnabled?d:d[0]};jQuery.aop={"after":function(a,b){return weave(a,{"type":_after,"value":b})},"afterThrow":function(a,b){return weave(a,{"type":_afterThrow,"value":b})},"afterFinally":function(a,b){return weave(a,{"type":_afterFinally,"value":b})},"before":function(a,b){return weave(a,{"type":_before,"value":b})},"around":function(a,b){return weave(a,{"type":_around,"value":b})},"introduction":function(a,b){return weave(a,{"type":_intro,"value":b})},"setup":function(a){_regexEnabled=a.regexMatch}}}(),AJS.dropDown=function(a,b){var c=null,d=[],e=!1,f=AJS.$(document),g={"item":"li:has(a)","activeClass":"active","alignment":"right","displayHandler":function(a){return a.name},"escapeHandler":function(){return this.hide("escape"),!1},"hideHandler":function(){},"moveHandler":function(a,b){},"useDisabled":!1};if(AJS.$.extend(g,b),g.alignment={"left":"left","right":"right"}[g.alignment.toLowerCase()]||"left",a&&a.jquery)c=a;else if("string"==typeof a)c=AJS.$(a);else{if(!a||a.constructor!=Array)throw new Error("AJS.dropDown function was called with illegal parameter. Should be AJS.$ object, AJS.$ selector or array.");c=AJS("div").addClass("aui-dropdown").toggleClass("hidden",!!g.isHiddenByDefault);for(var h=0,i=a.length;i>h;h++){for(var j=AJS("ol"),k=0,l=a[h].length;l>k;k++){var m=AJS("li"),n=a[h][k];n.href?(m.append(AJS("a").html("<span>"+g.displayHandler(n)+"</span>").attr({"href":n.href}).addClass(n.className)),AJS.$.data(AJS.$("a > span",m)[0],"properties",n)):m.html(n.html).addClass(n.className),n.icon&&m.prepend(AJS("img").attr("src",n.icon)),n.insideSpanIcon&&m.children("a").prepend(AJS("span").attr("class","icon")),n.iconFontClass&&m.children("a").prepend(AJS("span").addClass("aui-icon aui-icon-small aui-iconfont-"+n.iconFontClass)),AJS.$.data(m[0],"properties",n),j.append(m)}h==i-1&&j.addClass("last"),c.append(j)}AJS.$("body").append(c)}var o=function(){q(1)},p=function(){q(-1)},q=function(a){var b=!e,c=AJS.dropDown.current.$[0],d=AJS.dropDown.current.links,f=c.focused;if(e=!0,0!==d.length){if(c.focused="number"==typeof f?f:-1,!AJS.dropDown.current)return AJS.log("move - not current, aborting"),!0;c.focused+=a,c.focused<0?c.focused=d.length-1:c.focused>=d.length&&(c.focused=0),g.moveHandler(AJS.$(d[c.focused]),0>a?"up":"down"),b&&d.length?(AJS.$(d[c.focused]).addClass(g.activeClass),e=!1):d.length||(e=!1)}},r=function(a){if(!AJS.dropDown.current)return!0;var b=a.which,c=AJS.dropDown.current.$[0],d=AJS.dropDown.current.links;switch(AJS.dropDown.current.cleanActive(),b){case 40:o();break;case 38:p();break;case 27:return g.escapeHandler.call(AJS.dropDown.current,a);case 13:return c.focused>=0?g.selectionHandler?g.selectionHandler.call(AJS.dropDown.current,a,AJS.$(d[c.focused])):"a"!=AJS.$(d[c.focused]).attr("nodeName")?AJS.$("a",d[c.focused]).trigger("focus"):AJS.$(d[c.focused]).trigger("focus"):!0;default:return d.length&&AJS.$(d[c.focused]).addClass(g.activeClass),!0}return a.stopPropagation(),a.preventDefault(),!1},s=function(a){a&&a.which&&3==a.which||a&&a.button&&2==a.button||AJS.dropDown.current&&AJS.dropDown.current.hide("click")},t=function(a){return function(){AJS.dropDown.current&&(AJS.dropDown.current.cleanFocus(),this.originalClass=this.className,AJS.$(this).addClass(g.activeClass),AJS.dropDown.current.$[0].focused=a)}},u=function(a){return a.button||a.metaKey||a.ctrlKey||a.shiftKey?!0:void(AJS.dropDown.current&&g.selectionHandler&&g.selectionHandler.call(AJS.dropDown.current,a,AJS.$(this)))},v=function(a){var b=!1;return a.data("events")&&AJS.$.each(a.data("events"),function(a,c){AJS.$.each(c,function(a,c){return u===c?(b=!0,!1):void 0})}),b};return c.each(function(){var a=this,b=AJS.$(this),c={},e={"reset":function(){c=AJS.$.extend(c,{"$":b,"links":AJS.$(g.item||"li:has(a)",a),"cleanActive":function(){a.focused+1&&c.links.length&&AJS.$(c.links[a.focused]).removeClass(g.activeClass)},"cleanFocus":function(){c.cleanActive(),a.focused=-1},"moveDown":o,"moveUp":p,"moveFocus":r,"getFocusIndex":function(){return"number"==typeof a.focused?a.focused:-1}}),c.links.each(function(a){var b=AJS.$(this);v(b)||(b.hover(t(a),c.cleanFocus),b.click(u))})},"appear":function(a){a?(b.removeClass("hidden"),b.addClass("aui-dropdown-"+g.alignment)):b.addClass("hidden")},"fade":function(a){a?b.fadeIn("fast"):b.fadeOut("fast")},"scroll":function(a){a?b.slideDown("fast"):b.slideUp("fast")}};c.reset=e.reset,c.reset(),c.addControlProcess=function(a,b){AJS.$.aop.around({"target":this,"method":a},b)},c.addCallback=function(a,b){return AJS.$.aop.after({"target":this,"method":a},b)},c.show=function(b){g.useDisabled&&this.$.closest(".aui-dd-parent").hasClass("disabled")||(this.alignment=g.alignment,s(),AJS.dropDown.current=this,this.method=b||this.method||"appear",this.timer=setTimeout(function(){f.click(s)},0),f.keydown(r),g.firstSelected&&this.links[0]&&t(0).call(this.links[0]),AJS.$(a.offsetParent).css({"zIndex":2e3}),e[this.method](!0),AJS.$(document).trigger("showLayer",["dropdown",AJS.dropDown.current]))},c.hide=function(a){return this.method=this.method||"appear",AJS.$(b.get(0).offsetParent).css({"zIndex":""}),this.cleanFocus(),e[this.method](!1),f.unbind("click",s).unbind("keydown",r),AJS.$(document).trigger("hideLayer",["dropdown",AJS.dropDown.current]),AJS.dropDown.current=null,a},c.addCallback("reset",function(){g.firstSelected&&this.links[0]&&t(0).call(this.links[0])}),AJS.dropDown.iframes||(AJS.dropDown.iframes=[]),AJS.dropDown.createShims=function h(){return AJS.$("iframe").each(function(a){var b=this;b.shim||(b.shim=AJS.$("<div />").addClass("shim hidden").appendTo("body"),AJS.dropDown.iframes.push(b))}),h}(),c.addCallback("show",function(){AJS.$(AJS.dropDown.iframes).each(function(){var a=AJS.$(this);if(a.is(":visible")){var b=a.offset();b.height=a.height(),b.width=a.width(),this.shim.css({"left":b.left+"px","top":b.top+"px","height":b.height+"px","width":b.width+"px"}).removeClass("hidden")}})}),c.addCallback("hide",function(){AJS.$(AJS.dropDown.iframes).each(function(){this.shim.addClass("hidden")}),g.hideHandler()}),d.push(c)}),d},AJS.dropDown.getAdditionalPropertyValue=function(a,b){var c=a[0];c&&"string"==typeof c.tagName&&"li"==c.tagName.toLowerCase()||AJS.log("AJS.dropDown.getAdditionalPropertyValue : item passed in should be an LI element wrapped by jQuery");var d=AJS.$.data(c,"properties");return d?d[b]:null},AJS.dropDown.removeAllAdditionalProperties=function(a){},AJS.dropDown.Standard=function(a){var b,c=[],d={"selector":".aui-dd-parent","dropDown":".aui-dropdown","trigger":".aui-dd-trigger"};AJS.$.extend(d,a);var e=function(a,b,c,e){AJS.$.extend(e,{"trigger":a}),b.addClass("dd-allocated"),c.addClass("hidden"),0==d.isHiddenByDefault&&e.show(),e.addCallback("show",function(){b.addClass("active")}),e.addCallback("hide",function(){b.removeClass("active")})},f=function(a,b,c,d){d!=AJS.dropDown.current&&(c.css({"top":b.outerHeight()}),d.show(),a.stopImmediatePropagation()),a.preventDefault()};if(d.useLiveEvents){var g=[],h=[];AJS.$(d.trigger).live("click",function(a){var b,c,i,j,k=AJS.$(this);if((j=AJS.$.inArray(this,g))>=0){var l=h[j];b=l.parent,c=l.dropdown,i=l.ddcontrol}else{if(b=k.closest(d.selector),c=b.find(d.dropDown),0===c.length)return;if(i=AJS.dropDown(c,d)[0],!i)return;g.push(this),l={"parent":b,"dropdown":c,"ddcontrol":i},e(k,b,c,i),h.push(l)}f(a,k,c,i)})}else b=this instanceof AJS.$?this:AJS.$(d.selector),b=b.not(".dd-allocated").filter(":has("+d.dropDown+")").filter(":has("+d.trigger+")"),b.each(function(){var a=AJS.$(this),b=AJS.$(d.dropDown,this),g=AJS.$(d.trigger,this),h=AJS.dropDown(b,d)[0];AJS.$.extend(h,{"trigger":g}),e(g,a,b,h),g.click(function(a){f(a,g,b,h)}),c.push(h)});return c},AJS.dropDown.Ajax=function(a){var b,c={"cache":!0};return AJS.$.extend(c,a||{}),b=AJS.dropDown.Standard.call(this,c),AJS.$(b).each(function(){var a=this;AJS.$.extend(a,{"getAjaxOptions":function(b){var d=function(b){c.formatResults&&(b=c.formatResults(b)),c.cache&&a.cache.set(a.getAjaxOptions(),b),a.refreshSuccess(b)};return c.ajaxOptions?AJS.$.isFunction(c.ajaxOptions)?AJS.$.extend(c.ajaxOptions.call(a),{"success":d}):AJS.$.extend(c.ajaxOptions,{"success":d}):AJS.$.extend(b,{"success":d})},"refreshSuccess":function(a){this.$.html(a)},"cache":function(){var a={};return{"get":function(b){var c=b.data||"";return a[(b.url+c).replace(/[\?\&]/gi,"")]},"set":function(b,c){var d=b.data||"";a[(b.url+d).replace(/[\?\&]/gi,"")]=c},"reset":function(){a={}}}}(),"show":function(b){return function(d){c.cache&&a.cache.get(a.getAjaxOptions())?(a.refreshSuccess(a.cache.get(a.getAjaxOptions())),b.call(a)):(AJS.$(AJS.$.ajax(a.getAjaxOptions())).throbber({"target":a.$,"end":function(){a.reset()}}),b.call(a),a.iframeShim&&a.iframeShim.hide())}}(a.show),"resetCache":function(){a.cache.reset()}}),a.addCallback("refreshSuccess",function(){a.reset()})}),b},AJS.$.fn.dropDown=function(a,b){return a=(a||"Standard").replace(/^([a-z])/,function(a){return a.toUpperCase()}),AJS.dropDown[a].call(this,b)},AJS.$.fn.dropDown=AJS.deprecate.construct(AJS.$.fn.dropDown,"Dropdown constructor",{"alternativeName":"Dropdown2"}),function(a){function b(a){this.num=0,this.timer=a>0?a:!1}function c(c){if(a.isPlainObject(c.data)||a.isArray(c.data)||"string"==typeof c.data){var e=c.handler,f={"timer":700,"combo":[]};!function(b){"string"==typeof b?f.combo=[b]:a.isArray(b)?f.combo=b:a.extend(f,b),f.combo=a.map(f.combo,function(a){return a.toLowerCase()})}(c.data),c.index=new b(f.timer),c.handler=function(b){if(this===b.target||!/textarea|select|input/i.test(b.target.nodeName)){var g="keypress"!==b.type?a.hotkeys.specialKeys[b.which]:null,h=String.fromCharCode(b.which).toLowerCase(),i="",j={};b.altKey&&"alt"!==g&&(i+="alt+"),b.ctrlKey&&"ctrl"!==g&&(i+="ctrl+"),b.metaKey&&!b.ctrlKey&&"meta"!==g&&(i+="meta+"),b.shiftKey&&"shift"!==g&&(i+="shift+"),b.metaKey&&"["===h&&(h=null),g&&(j[i+g]=!0),h&&(j[i+h]=!0),/shift+/.test(i)&&(j[i.replace("shift+","")+a.hotkeys.shiftNums[g||h]]=!0);var k=c.index,l=f.combo;if(d(l[k.val()],j)){if(k.val()===l.length-1)return k.reset(),e.apply(this,arguments);k.inc()}else k.reset(),d(l[0],j)&&k.inc()}}}}function d(a,b){for(var c=a.split(" "),d=0,e=c.length;e>d;d++)if(b[c[d]])return!0;return!1}a.hotkeys={"version":"0.8","specialKeys":{"8":"backspace","9":"tab","13":"return","16":"shift","17":"ctrl","18":"alt","19":"pause","20":"capslock","27":"esc","32":"space","33":"pageup","34":"pagedown","35":"end","36":"home","37":"left","38":"up","39":"right","40":"down","45":"insert","46":"del","91":"meta","96":"0","97":"1","98":"2","99":"3","100":"4","101":"5","102":"6","103":"7","104":"8","105":"9","106":"*","107":"+","109":"-","110":".","111":"/","112":"f1","113":"f2","114":"f3","115":"f4","116":"f5","117":"f6","118":"f7","119":"f8","120":"f9","121":"f10","122":"f11","123":"f12","144":"numlock","145":"scroll","188":",","190":".","191":"/","224":"meta","219":"[","221":"]"},"keypressKeys":["<",">","?"],"shiftNums":{"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"}},a.each(a.hotkeys.keypressKeys,function(b,c){a.hotkeys.shiftNums[c]=c}),b.prototype.val=function(){return this.num},b.prototype.inc=function(){this.timer&&(clearTimeout(this.timeout),this.timeout=setTimeout(a.proxy(b.prototype.reset,this),this.timer)),this.num++},b.prototype.reset=function(){this.timer&&clearTimeout(this.timeout),this.num=0},a.each(["keydown","keyup","keypress"],function(){a.event.special[this]={"add":c}})}(jQuery),function(a,b){"use strict";var c=-1!==navigator.platform.indexOf("Mac"),d=/^(backspace|tab|r(ight|eturn)|s(hift|pace|croll)|c(trl|apslock)|alt|pa(use|ge(up|down))|e(sc|nd)|home|left|up|d(el|own)|insert|f\d\d?|numlock|meta)/i;a.whenIType=function(e){function f(a){!AJS.popup.current&&p&&p.fire(a)}function g(a){a.preventDefault()}function h(a){var c=a&&a.split?b.trim(a).split(" "):[a];c.forEach(function(a){j(a)})}function i(a){for(var b=a.length;b--;)if(a[b].length>1&&"space"!==a[b])return!0;return!1}function j(a){var c=a instanceof Array?a:k(a.toString()),d=i(c)?"keydown":"keypress";o.push(c),b(document).bind(d,c,f),b(document).bind(d+" keyup",c,g)}function k(a){for(var b=[],c="";a.length;){var e=a.match(/^(ctrl|meta|shift|alt)\+/i),f=a.match(d);e?(c+=e[0],a=a.substring(e[0].length)):f?(b.push(c+f[0]),a=a.substring(f[0].length),c=""):(b.push(c+a[0]),a=a.substring(1),c="")}return b}function l(a){for(var d=b(a),e=d.attr("title")||"",f=o.slice(),g=d.data("kbShortcutAppended")||"",h=!g,i=h?e:e.substring(0,e.length-g.length);f.length;)g=n(f.shift().slice(),g,h),h=!1;c&&(g=g.replace(/Meta/gi,"\u2318").replace(/Shift/gi,"\u21e7")),d.attr("title",i+g),d.data("kbShortcutAppended",g)}function m(a){var c=b(a),d=c.data("kbShortcutAppended");if(d){var e=c.attr("title");c.attr("title",e.replace(d,"")),c.removeData("kbShortcutAppended");
}}function n(a,b,c){return c?b+=" ("+AJS.I18n.getText("aui.keyboard.shortcut.type.x",a.shift()):(b=b.replace(/\)$/,""),b+=AJS.I18n.getText("aui.keyboard.shortcut.or.x",a.shift())),a.forEach(function(a){b+=" "+AJS.I18n.getText("aui.keyboard.shortcut.then.x",a)}),b+=")"}var o=[],p=b.Callbacks();return h(e),a.whenIType.makeShortcut({"executor":p,"bindKeys":h,"addShortcutsToTitle":l,"removeShortcutsFromTitle":m,"keypressHandler":f,"defaultPreventionHandler":g})},a.whenIType.makeShortcut=function(a){function c(a){return function(c,e){e=e||{};var f=e.focusedClass||"focused",g=e.hasOwnProperty("wrapAround")?e.wrapAround:!0,h=e.hasOwnProperty("escToCancel")?e.escToCancel:!0;return d.add(function(){var d=b(c),e=d.filter("."+f),i=0===e.length?void 0:{"transition":!0};h&&b(document).one("keydown",function(a){a.keyCode===AJS.keyCode.ESCAPE&&e&&e.removeClass(f)}),e.length&&e.removeClass(f),e=a(e,d,g),e&&e.length>0&&(e.addClass(f),e.moveTo(i),e.is("a")?e.focus():e.find("a:first").focus())}),this}}var d=a.executor,e=a.bindKeys,f=a.addShortcutsToTitle,g=a.removeShortcutsFromTitle,h=a.keypressHandler,i=a.defaultPreventionHandler,j=[];return{"moveToNextItem":c(function(a,c,d){var e;return d&&0===a.length?c.eq(0):(e=b.inArray(a.get(0),c),e<c.length-1?(e+=1,c.eq(e)):d?c.eq(0):a)}),"moveToPrevItem":c(function(a,c,d){var e;return d&&0===a.length?c.filter(":last"):(e=b.inArray(a.get(0),c),e>0?(e-=1,c.eq(e)):d?c.filter(":last"):a)}),"click":function(a){return j.push(a),f(a),d.add(function(){var c=b(a);c.length>0&&c.click()}),this},"goTo":function(a){return d.add(function(){window.location.href=a}),this},"followLink":function(a){return j.push(a),f(a),d.add(function(){var c=b(a)[0];c&&{"a":!0,"link":!0}[c.nodeName.toLowerCase()]&&(window.location.href=c.href)}),this},"execute":function(a){var b=this;return d.add(function(){a.apply(b,arguments)}),this},"evaluate":function(a){a.call(this)},"moveToAndClick":function(a){return j.push(a),f(a),d.add(function(){var c=b(a);c.length>0&&(c.click(),c.moveTo())}),this},"moveToAndFocus":function(a){return j.push(a),f(a),d.add(function(b){var c=AJS.$(a);c.length>0&&(c.focus(),c.moveTo&&c.moveTo(),c.is(":input")&&b.preventDefault())}),this},"or":function(a){return e(a),this},"unbind":function(){b(document).unbind("keydown keypress",h).unbind("keydown keypress keyup",i);for(var a=0,c=j.length;c>a;a++)g(j[a]);j=[]}}},a.whenIType.fromJSON=function(a,d){var e=[];return a&&b.each(a,function(a,f){var g,h=f.op,i=f.param;if("execute"===h||"evaluate"===h)g=[new Function(i)];else if(/^\[[^\]\[]*,[^\]\[]*\]$/.test(i)){try{g=JSON.parse(i)}catch(j){AJS.error("When using a parameter array, array must be in strict JSON format: "+i)}b.isArray(g)||AJS.error("Badly formatted shortcut parameter. String or JSON Array of parameters required: "+i)}else g=[i];b.each(f.keys,function(){var a=this;d&&c&&(a=b.map(a,function(a){return a.replace(/ctrl/i,"meta")}));var f=AJS.whenIType(a);f[h].apply(f,g),e.push(f)})}),e},b(document).bind("iframeAppended",function(a,c){b(c).load(function(){var a=b(c).contents();a.bind("keyup keydown keypress",function(a){b.browser.safari&&"keypress"===a.type||b(a.target).is(":input")||b.event.trigger(a,arguments,document,!0)})})})}(AJS,AJS.$),function(a,b,c,d){"use strict";function e(b){var c=this;this.element=b,this.$element=a(b),this.index=a("aui-header, .aui-header").index(b),this.$secondaryNav=this.$element.find(".aui-header-secondary .aui-nav").first(),this.menuItems=[],this.totalWidth=0,this.$moreMenu=void 0,this.rightMostNavItemIndex=void 0,this.$applicationLogo=this.$element.find("#logo"),this.moreMenuWidth=0,this.primaryButtonsWidth=0,this.$headerFind=function(){var b=a(c.$element[0].querySelector(".aui-header-primary"));return function(a){return b.find(a)}}()}function f(a){var b=new e(a);return b.init(),b}function g(){a(".aui-header").each(function(){f(this)})}var h=a(window);e.prototype={"init":function(){var b=this;this.element.setAttribute("data-aui-responsive","true"),this.$headerFind(".aui-button").parent("li").each(function(){b.primaryButtonsWidth+=a(this).outerWidth(!0)}),this.$headerFind(".aui-nav > li > a:not(.aui-button)").each(function(){var c=a(this).parent(),d=c.outerWidth(!0);b.totalWidth+=d,b.menuItems.push({"$element":c,"outerWidth":d})}),this.rightMostNavItemIndex=this.menuItems.length-1,h.on("resize",this._resizeHandler=d(function(){b.constructResponsiveDropdown()},100));var c=this.$applicationLogo.find("img");0!==c.length&&(c.attr("data-aui-responsive-header-index",this.index),c.load(function(){b.constructResponsiveDropdown()})),this.constructResponsiveDropdown(),this.$headerFind(".aui-nav").css("width","auto")},"destroy":function(){h.off("resize",this._resizeHandler)},"calculateAvailableWidth":function(){var a=this.$secondaryNav.is(":visible")?this.$secondaryNav.offset().left:this.$element.outerWidth(),b=this.$applicationLogo.offset().left+this.$applicationLogo.outerWidth(!0)+this.primaryButtonsWidth;return a-b},"showResponsiveDropdown":function(){void 0===this.$moreMenu&&(this.$moreMenu=this.createResponsiveDropdownTrigger()),this.$moreMenu.css("display","")},"hideResponsiveDropdown":function(){void 0!==this.$moreMenu&&this.$moreMenu.css("display","none")},"constructResponsiveDropdown":function(){if(this.menuItems.length){var a,b=this.calculateAvailableWidth(this.$element,this.primaryButtonsWidth);if(b>this.totalWidth)this.showAll();else{this.showResponsiveDropdown(),a=b-this.moreMenuWidth;for(var c=-1;a-this.menuItems[c+1].outerWidth>=0;)a-=this.menuItems[c+1].outerWidth,c++;c<this.rightMostNavItemIndex?this.moveToResponsiveDropdown(this.rightMostNavItemIndex-c):this.rightMostNavItemIndex<c&&this.moveOutOfResponsiveDropdown(c-this.rightMostNavItemIndex)}}},"createResponsiveDropdownTrigger":function(){var b=document.createElement("li"),d=document.createElement("aui-dropdown");return d.id="aui-responsive-header-dropdown-"+this.index,d.setAttribute("label",AJS.I18n.getText("aui.words.more")),c.wrap(d).innerHTML='<ul id="aui-responsive-header-dropdown-list-'+this.index+'" role="presentation"></ul>',b.appendChild(d),0===this.primaryButtonsWidth?this.$headerFind(".aui-nav").append(b):this.$headerFind(".aui-nav > li > .aui-button").first().parent().before(b),this.moreMenuWidth=a(b).outerWidth(!0),a(b)},"moveOutOfResponsiveDropdown":function(b){if(!(0>=b)){var c=this.$moreMenu.find("> aui-dropdown > a");c.hasClass("active")&&c.trigger("aui-button-invoke");for(var d=this.rightMostNavItemIndex+1,e=this.rightMostNavItemIndex+b,f=d;e>=f;f++){var g=this.menuItems[f].$element,h=g.children("a"),i=a("#"+h.attr("aria-controls"));g.removeAttr("role"),h.attr("aria-controls")&&(h.removeClass("aui-dropdown2-sub-trigger"),i.removeClass("aui-dropdown2-sub-menu")),g.insertBefore(this.$moreMenu)}this.rightMostNavItemIndex+=b}},"moveToResponsiveDropdown":function(b){if(!(0>=b)){for(var c=this.$moreMenu[0].querySelector("#aui-responsive-header-dropdown-list-"+this.index),d=this.rightMostNavItemIndex,e=this.rightMostNavItemIndex-b+1,f=d;f>=e;f--){var g=this.menuItems[f].$element,h=g.children("a"),i=a("#"+h.attr("aria-controls"));g.attr("role","presentation"),h.attr("aria-controls")&&(h.addClass("aui-dropdown2-sub-trigger"),i.addClass("aui-dropdown2-sub-menu")),c.insertBefore(g[0],c.firstChild)}this.rightMostNavItemIndex-=b}},"showAll":function(){this.moveOutOfResponsiveDropdown(this.menuItems.length-1-this.rightMostNavItemIndex),this.hideResponsiveDropdown()}},a(g),AJS.responsiveheader={},AJS.responsiveheader.setup=AJS.deprecate.fn(g,"AJS.responsiveheader.setup",{"removeInVersion":"6.0.0","sinceVersion":"5.8.0","extraInfo":"No need to manually initialise anymore as this is now a web component."}),b("aui-header",{"type":b.types.TAG,"created":function(b){a(b).find(".aui-banner").addClass("aui-banner-error")},"attached":function(a){a._instance=f(a)},"detached":function(a){a._instance.destroy()},"attributes":{"link":function(a,b){a.querySelector("#logo > a").setAttribute("href",b.newValue)},"responsive":function(a,b){a.querySelector(".aui-header").setAttribute("data-aui-responsive",b.newValue)}},"template":c('<content select="aui-banner"></content>','<nav class="aui-header aui-dropdown2-trigger-group" role="navigation">','<content select=".aui-header-before"></content>','<div class="aui-header-primary">','<h1 id="logo" class="aui-header-logo">','<a href="/">','<content select=".aui-header-logo, .aui-header-logo-device, .aui-header-logo-text"></content>',"</a>","</h1>",'<content select=".aui-header-content"></content>',"</div>",'<content select=".aui-header-secondary"></content>','<content select=".aui-header-after"></content>',"</nav>")})}(AJS.$,window.skate,window.skateTemplateHtml,AJS.debounce),function(a,b){a.FancyFileInput=b(jQuery),"function"==typeof define&&define("aui/internal/fancy-file-input",[],function(){return a.FancyFileInput})}(this,function(a){"use strict";function b(c,d){var e=a(c).data("FancyFileInput");return e?e:(d=a.extend({},b.defaults,d),this.el=c,this.$el=a(c),this.$label=this.createLabel(d.buttonText),this._addLabelText(),this.$clearButton=a("<button>",{"text":this.$label.attr("data-ffi-clearButtonText")||d.clearButtonText,"class":"ffi-clear","type":"button","tabindex":"-1"}),this.multipleFileTextPattern=this.$label.attr("data-ffi-multipleFileTextPattern")||d.multipleFileTextPattern,this._eventNamespace=".ffi",this.CLASSES={"disabled":"is-disabled","focused":"is-focused","active":"is-active","valid":"is-valid","invalid":"is-invalid"},this[this.isDisabled()?"disable":"enable"](),void(this.isFocused=!1))}var c=/^.*[\\\/]/,d=/\{0\}/gi,e=function(){var a=3,b=document.createElement("div"),c=b.getElementsByTagName("i");do b.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->";while(c[0]);return a>4?a:document.documentMode}();return a.fn.fancyFileInput=function(c){return this.each(function(){var d=new b(this,c);a(this).data("FancyFileInput",d)})},b.defaults={"buttonText":"Browse\u2026","clearButtonText":"Clear","multipleFileTextPattern":"{0} files"},b.prototype._addLabelText=function(){var b=a('label[for="'+this.el.id+'"]');b.length&&this.$el.attr("aria-label",b.text())},b.prototype.createLabel=function(b){var c=this.$el.parent(".ffi[data-ffi-button-text]");return c.length||(c=this.$el.wrap(a("<label>",{"class":"ffi","data-ffi-button-text":b})).parent()),c},b.prototype.isDisabled=function(){return this.$el.is(":disabled")},b.prototype.formatMultipleFileText=function(a){return this.multipleFileTextPattern.replace(d,a)},b.prototype.bindEvents=function(){this.$el.on("invalid"+this._eventNamespace,a.proxy(this.checkValidity,this)).on("change"+this._eventNamespace,a.proxy(this.change,this)).on("keydown"+this._eventNamespace,a.proxy(this.keydown,this)).on("mousedown"+this._eventNamespace,a.proxy(this.mousedown,this)).on("mouseup"+this._eventNamespace,a.proxy(this.mouseup,this)).on("focus"+this._eventNamespace,a.proxy(this.focus,this)).on("blur"+this._eventNamespace,a.proxy(this.blur,this)),this.$clearButton.on("click"+this._eventNamespace,a.proxy(this.clear,this))},b.prototype.unbindEvents=function(){this.$el.off(this._eventNamespace),this.$clearButton.off(this._eventNamespace)},b.prototype.fireEvent=function(a){this.$el.trigger(a+this._eventNamespace)},b.prototype.enable=function(){this.bindEvents(),this.$el.prop("disabled",!1),this.$label.removeClass(this.CLASSES.disabled)},b.prototype.disable=function(){this.unbindEvents(),this.$el.prop("disabled",!0),this.$label.addClass(this.CLASSES.disabled)},b.prototype.clear=function(){return this.$el.wrap("<form>").closest("form").get(0).reset(),this.$el.unwrap(),this.el.value="",this.change(),!1},b.prototype.focus=function(){var a=this;this.$label.addClass(this.CLASSES.focused),e&&!this.isFocused&&(this.isFocused=!0,setTimeout(function(){a.$el.blur(),a.$el.focus()},0))},b.prototype.blur=function(){e&&this.isFocused||(this.$label.removeClass(this.CLASSES.focused),this.isFocused=!1)},b.prototype.mousedown=function(){this.$label.addClass(this.CLASSES.active)},b.prototype.mouseup=function(){this.$label.removeClass(this.CLASSES.active)},b.prototype.keydown=function(a){var b=a.which,c=8,d=9,f=46;if((b===c||b===f)&&(this.clear(),a.preventDefault()),e&&b===d){var g=this;this.isFocused=!1,this.$el.prop("disabled",!0),setTimeout(function(){g.$el.prop("disabled",!1).blur()},0)}},b.prototype.checkValidity=function(){if(this.el.required){var a=this.$el.is(":invalid");this.$label.toggleClass(this.CLASSES.invalid,a).toggleClass(this.CLASSES.valid,!a)}},b.prototype.change=function(){var a,b="";this.checkValidity(),a=this.el.multiple&&this.el.files.length>1?this.formatMultipleFileText(this.el.files.length):this.el.value,a.length?(b=a.replace(c,""),this.$clearButton.appendTo(this.$label)):this.$clearButton.detach(),this.$el.focus(),this.setFieldText(b),this.fireEvent("value-changed")},b.prototype.setFieldText=function(a){var b="data-ffi-value";a.length?(this.$label.attr(b,a),this.fireEvent("value-added")):(this.$label.removeAttr(b),this.fireEvent("value-cleared"))},b});