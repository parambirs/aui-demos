{"version":3,"sources":["js/aui/cookie.js"],"names":[],"mappings":"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","file":"js/aui/cookie.js","sourcesContent":["'use strict';\n\nimport * as deprecate from './internal/deprecation';\nimport globalize from './internal/globalize';\n\nvar COOKIE_NAME = 'AJS.conglomerate.cookie';\nvar UNESCAPE_COOKIE_REGEX = /(\\\\|^\"|\"$)/g;\nvar CONSECUTIVE_PIPE_CHARS_REGEX = /\\|\\|+/g;\nvar ANY_QUOTE_REGEX = /\"/g;\nvar REGEX_SPECIAL_CHARS = /[.*+?|^$()[\\]{\\\\]/g;\n\nfunction regexEscape (str) {\n    return str.replace(REGEX_SPECIAL_CHARS, '\\\\$&');\n}\n\nfunction getValueFromConglomerate (name, cookieValue) {\n    // A null cookieValue is just the first time through so create it.\n    cookieValue = cookieValue || '';\n    var reg = new RegExp(regexEscape(name) + '=([^|]+)'),\n        res = cookieValue.match(reg);\n    return res && res[1];\n}\n\n// Either append or replace the value in the cookie string/\nfunction addOrAppendToValue (name, value, cookieValue) {\n    // A cookie name follows after any amount of white space mixed with any amount of '|' characters.\n    // A cookie value is preceded by '=', then anything except for '|'.\n    var reg = new RegExp('(\\\\s|\\\\|)*\\\\b' + regexEscape(name) + '=[^|]*[|]*');\n\n    cookieValue = cookieValue || '';\n    cookieValue = cookieValue.replace(reg, '|');\n\n    if (value !== '') {\n        var pair = name + '=' + value;\n        if (cookieValue.length + pair.length < 4020) {\n            cookieValue += '|' + pair;\n        }\n    }\n\n    return cookieValue.replace(CONSECUTIVE_PIPE_CHARS_REGEX, '|');\n}\n\nfunction unescapeCookieValue (name) {\n    return name.replace(UNESCAPE_COOKIE_REGEX, '');\n}\n\nfunction getCookieValue (name) {\n    var reg = new RegExp('\\\\b' + regexEscape(name) + '=((?:[^\\\\\\\\;]+|\\\\\\\\.)*)(?:;|$)');\n    var res = document.cookie.match(reg);\n    return res && unescapeCookieValue(res[1]);\n}\n\nfunction saveCookie (name, value, days) {\n    var ex = '';\n    var d;\n    var quotedValue = '\"' + value.replace(ANY_QUOTE_REGEX, '\\\\\"') + '\"';\n\n    if (days) {\n        d = new Date();\n        d.setTime(+d + days * 24 * 60 * 60 * 1000);\n        ex = '; expires=' + d.toGMTString();\n    }\n\n    document.cookie = name + '=' + quotedValue + ex + ';path=/';\n}\n\n/**\n * Save a cookie.\n * @param name {String} name of cookie\n * @param value {String} value of cookie\n * @param expires {Number} number of days before cookie expires\n */\nfunction save (name, value, expires) {\n    var cookieValue = getCookieValue(COOKIE_NAME);\n    cookieValue = addOrAppendToValue(name, value, cookieValue);\n    saveCookie(COOKIE_NAME, cookieValue, expires || 365);\n}\n\n/**\n * Get the value of a cookie.\n * @param name {String} name of cookie to read\n * @param defaultValue {String} the default value of the cookie to return if not found\n */\nfunction read (name, defaultValue) {\n    var cookieValue = getCookieValue(COOKIE_NAME);\n    var value = getValueFromConglomerate(name, cookieValue);\n    if (value != null) {\n        return value;\n    }\n    return defaultValue;\n}\n\n/**\n * Remove the given cookie.\n * @param name {String} the name of the cookie to remove\n */\nfunction erase (name) {\n    save(name, '');\n}\n\nvar cookie = {\n    erase: erase,\n    read: read,\n    save: save\n};\n\nglobalize('cookie', cookie);\nglobalize('Cookie', cookie);\n\ndeprecate.prop(AJS, 'Cookie', {\n    alternativeName: 'cookie',\n    sinceVersion: '5.8.0'\n});\n\nexport {\n    erase,\n    read,\n    save\n};\n"],"sourceRoot":"/source/"}