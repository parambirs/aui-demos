{"version":3,"sources":["js/aui/dialog.js"],"names":[],"mappings":"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","file":"js/aui/dialog.js","sourcesContent":["// can't \"use strict\"\n\nimport $ from './jquery';\nimport * as logger from './internal/log';\nimport * as deprecate from './internal/deprecation';\nimport { trigger } from './event';\nimport { dim, undim } from './blanket';\nimport { enable } from './forms';\nimport createElement from './create-element';\nimport globalize from './internal/globalize';\n\n/**\n * Creates a generic popup that will be displayed in the center of the screen with a\n * grey blanket in the background.\n * Usage:\n * <pre>\n * createPopup({\n *     width: 800,\n *     height: 400,\n *     id: \"my-dialog\"\n * });\n * </pre>\n * @param options {object} [optional] Permitted options and defaults are as follows:\n * width (800), height (600), keypressListener (closes dialog on ESC).\n*/\nfunction createPopup (options) {\n    var defaults = {\n        width: 800,\n        height: 600,\n        closeOnOutsideClick: false,\n        keypressListener: function (e) {\n            if (e.keyCode === 27 && popup.is(':visible')) {\n                res.hide();\n            }\n        }\n    };\n    // for backwards-compatibility\n    if (typeof options != 'object') {\n        options = {\n            width: arguments[0],\n            height: arguments[1],\n            id: arguments[2]\n        };\n        options = $.extend({}, options, arguments[3]);\n    }\n    options = $.extend({}, defaults, options);\n    var popup = createElement('div').addClass('aui-popup');\n\n    if (options.id) {\n        popup.attr('id', options.id);\n    }\n    //find the highest z-index on the page to ensure any new popup that is shown is shown on top\n    var highestZIndex = 3000;\n    $('.aui-dialog').each(function () {\n        var currentPopup = $(this);\n        highestZIndex = (currentPopup.css('z-index') > highestZIndex) ? currentPopup.css('z-index') : highestZIndex;\n    });\n\n    var applySize = (function _applySize (width, height) {\n        options.width = (width = (width || options.width));\n        options.height = (height = (height || options.height));\n\n        popup.css({\n            marginTop: -Math.round(height / 2) + 'px',\n            marginLeft: -Math.round(width / 2) + 'px',\n            width: width,\n            height: height,\n            'z-index': parseInt(highestZIndex,10) + 2  //+ 2 so that the shadow can be shown on +1 (underneath the popup but above everything else)\n        });\n        return _applySize;\n    })(options.width, options.height);\n\n    $('body').append(popup);\n\n    popup.hide();\n    enable(popup);\n\n    /**\n     * Popup object\n     * @class Popup\n     * @static\n    */\n\n    //blanket for reference further down\n    var blanket = $('.aui-blanket'),\n        focusItem = function (selector, element) {\n            var item = $(selector, element);\n            if (item.length) {\n                item.focus();\n                return true;\n            }\n            return false;\n        },\n        // we try and place focus, in the configured element or by looking for the first input\n        // in page body, then button panel and finally page menu.\n        focusDialog = function (element) {\n            if ($('.dialog-page-body', element).find(':focus').length !== 0) {\n                return;\n            }\n            if (options.focusSelector) {\n                return focusItem(options.focusSelector, element);\n            }\n            var defaultFocusSelector = ':input:visible:enabled:first';\n            if (focusItem(defaultFocusSelector, $('.dialog-page-body', element)))\n                return;\n            if (focusItem(defaultFocusSelector, $('.dialog-button-panel', element)))\n                return;\n\n            focusItem(defaultFocusSelector, $('.dialog-page-menu', element));\n        };\n\n    var res = {\n\n        changeSize: function (w, h) {\n            if ((w && w != options.width) || (h && h != options.height)) {\n                applySize(w, h);\n            }\n            this.show();\n        },\n\n        /**\n         * Shows the popup\n         * @method show\n        */\n        show: function () {\n\n            var show = function () {\n                $(document)\n                    .off('keydown', options.keypressListener)\n                    .on('keydown', options.keypressListener);\n                dim();\n                blanket = $('.aui-blanket');\n                if (blanket.size() != 0 && options.closeOnOutsideClick){\n                    blanket.click(function () {\n                        if (popup.is(':visible')){\n                            res.hide();\n                        }\n                    });\n                }\n                popup.show();\n\n                createPopup.current = this;\n                focusDialog(popup);\n                $(document).trigger('showLayer', ['popup', this]);\n            };\n            show.call(this);\n            this.show = show;\n        },\n        /**\n         * Hides the popup.\n         * @method hide\n        */\n        hide: function () {\n            $(document).unbind('keydown', options.keypressListener);\n            blanket.unbind();\n            this.element.hide();\n\n            //only undim if no other dialogs are visible\n            if ($('.aui-dialog:visible').size() == 0) {\n                undim();\n            }\n\n            // AUI-1059: remove focus from the active element when dialog is hidden\n            var activeElement = document.activeElement;\n            if (this.element.has(activeElement).length) {\n                activeElement.blur();\n            }\n\n            $(document).trigger('hideLayer', ['popup', this]);\n            createPopup.current = null;\n            this.enable();\n        },\n        /**\n         * jQuery object, representing popup DOM element\n         * @property element\n        */\n        element: popup,\n        /**\n         * Removes popup elements from the DOM\n         * @method remove\n        */\n        remove: function () {\n            popup.remove();\n            this.element = null;\n        },\n        /**\n         * disables the popup\n         * @method disable\n        */\n        disable: function () {\n            if (!this.disabled){\n                this.popupBlanket = $(\"<div class='dialog-blanket'> </div>\").css({\n                    height: popup.height(),\n                    width: popup.width()\n                });\n                popup.append(this.popupBlanket);\n                this.disabled = true;\n            }\n        },\n        /**\n         * enables the popup if it is disabled\n         * @method enable\n        */\n        enable: function () {\n            if (this.disabled) {\n                this.disabled = false;\n                this.popupBlanket.remove();\n                this.popupBlanket = null;\n            }\n        }\n    };\n\n    return res;\n};\n\n// Scoping function\nvar Dialog = (function () {\n    /**\n     * @class Button\n     * @constructor Button\n     * @param page {number} page id\n     * @param label {string} button label\n     * @param onclick {function} [optional] click event handler\n     * @param className {string} [optional] class name\n     * @private\n    */\n    function Button(page, label, onclick, className) {\n        if (!page.buttonpanel) {\n            page.addButtonPanel();\n        }\n        this.page = page;\n        this.onclick = onclick;\n        this._onclick = function (e) {\n            return onclick.call(this, page.dialog, page, e) === true;\n        };\n        this.item = createElement('button', label).addClass('button-panel-button');\n        if (className) {\n            this.item.addClass(className);\n        }\n        if (typeof onclick == 'function') {\n            this.item.click(this._onclick);\n        }\n        page.buttonpanel.append(this.item);\n        this.id = page.button.length;\n        page.button[this.id] = this;\n    }\n\n    /**\n     * @class Link\n     * @constructor Link\n     * @param page {number} page id\n     * @param label {string} button label\n     * @param onclick {function} [optional] click event handler\n     * @param className {string} [optional] class name\n     * @private\n    */\n    function Link(page, label, onclick, className, url) {\n        if (!page.buttonpanel) {\n            page.addButtonPanel();\n        }\n\n        //if no url is given use # as default\n        if (!url){\n            url = '#';\n        }\n\n        this.page = page;\n        this.onclick = onclick;\n        this._onclick = function (e) {\n            return onclick.call(this, page.dialog, page, e) === true;\n        };\n        this.item = createElement('a', label).attr('href', url).addClass('button-panel-link');\n        if (className) {\n            this.item.addClass(className);\n        }\n        if (typeof onclick == 'function') {\n            this.item.click(this._onclick);\n        }\n        page.buttonpanel.append(this.item);\n        this.id = page.button.length;\n        page.button[this.id] = this;\n    }\n\n    function itemMove (leftOrRight, target) {\n        var dir = leftOrRight == 'left'? -1 : 1;\n        return function (step) {\n            var dtarget = this.page[target];\n            if (this.id != ((dir == 1) ? dtarget.length - 1 : 0)) {\n                dir *= (step || 1);\n                dtarget[this.id + dir].item[(dir < 0 ? 'before' : 'after')](this.item);\n                dtarget.splice(this.id, 1);\n                dtarget.splice(this.id + dir, 0, this);\n                for (var i = 0, ii = dtarget.length; i < ii; i++) {\n                    if (target == 'panel' && this.page.curtab == dtarget[i].id) {\n                        this.page.curtab = i;\n                    }\n                    dtarget[i].id = i;\n                }\n            }\n            return this;\n        };\n    }\n    function itemRemove(target) {\n        return function () {\n            this.page[target].splice(this.id, 1);\n            for (var i = 0, ii = this.page[target].length; i < ii; i++) {\n                this.page[target][i].id = i;\n            }\n            this.item.remove();\n        };\n    }\n    /**\n     * Moves item left in the hierarchy\n     * @method moveUp\n     * @method moveLeft\n     * @param step {number} how many items to move, default is 1\n     * @return {object} button\n    */\n    Button.prototype.moveUp = Button.prototype.moveLeft = itemMove('left', 'button');\n    /**\n     * Moves item right in the hierarchy\n     * @method moveDown\n     * @method moveRight\n     * @param step {number} how many items to move, default is 1\n     * @return {object} button\n    */\n    Button.prototype.moveDown = Button.prototype.moveRight = itemMove('right', 'button');\n    /**\n     * Removes item\n     * @method remove\n    */\n    Button.prototype.remove = itemRemove('button');\n\n    /**\n     * Getter and setter for label\n     * @method label\n     * @param label {string} [optional] label of the button\n     * @return {string} label, if nothing is passed in\n     * @return {object} jQuery button object, if label is passed in\n    */\n    Button.prototype.html = function (label) {\n        return this.item.html(label);\n    };\n    /**\n     * Getter and setter of onclick event handler\n     * @method onclick\n     * @param onclick {function} [optional] new event handler, that is going to replace the old one\n     * @return {function} existing event handler if new one is undefined\n    */\n    Button.prototype.onclick = function (onclick) {\n        if (typeof onclick == 'undefined') {\n            return this.onclick;\n        } else {\n            this.item.unbind('click', this._onclick);\n            this._onclick = function (e) {\n                return onclick.call(this, page.dialog, page, e) === true;\n            };\n            if (typeof onclick == 'function') {\n                this.item.click(this._onclick);\n            }\n        }\n    };\n\n    var DEFAULT_PADDING = 20;\n\n    /**\n     * Class for panels\n     * @class Panel\n     * @constructor\n     * @param page {number} page id\n     * @param title {string} panel title\n     * @param reference {string} or {object} jQuery object or selector for the contents of the Panel\n     * @param className {string} [optional] HTML class name\n     * @param panelButtonId {string} the unique id that will be put on the button element for this panel.\n     * @private\n    */\n    var Panel = function (page, title, reference, className, panelButtonId) {\n        if (!(reference instanceof $)) {\n            reference = $(reference);\n        }\n\n        this.dialog = page.dialog;\n        this.page = page;\n        this.id = page.panel.length;\n        this.button = createElement('button').html(title).addClass('item-button');\n\n        if (panelButtonId) {\n            this.button[0].id = panelButtonId;\n        }\n\n        this.item = createElement('li').append(this.button).addClass('page-menu-item');\n        this.body = createElement('div').append(reference).addClass('dialog-panel-body').css('height', page.dialog.height + 'px');\n        this.padding = DEFAULT_PADDING;\n        if (className) {\n            this.body.addClass(className);\n        }\n        var i = page.panel.length,\n            tab = this;\n        page.menu.append(this.item);\n        page.body.append(this.body);\n        page.panel[i] = this;\n        var onclick = function () {\n            var cur;\n            if (page.curtab + 1) {\n                cur = page.panel[page.curtab];\n                cur.body.hide();\n                cur.item.removeClass('selected');\n                (typeof cur.onblur == 'function') && cur.onblur();\n            }\n            page.curtab = tab.id;\n            tab.body.show();\n            tab.item.addClass('selected');\n            (typeof tab.onselect == 'function') && tab.onselect();\n            (typeof page.ontabchange == 'function') && page.ontabchange(tab, cur);\n        };\n        if (!this.button.click) {\n            logger.log('atlassian-dialog:Panel:constructor - this.button.click false');\n            this.button.onclick = onclick;\n        }\n        else {\n            this.button.click(onclick);\n        }\n        onclick();\n        if (i == 0) {\n            page.menu.css('display', 'none'); // don't use jQuery hide()\n        } else {\n            page.menu.show();\n        }\n    };\n    /**\n     * Selects current panel\n     * @method select\n    */\n    Panel.prototype.select = function () {\n        this.button.click();\n    };\n    /**\n     * Moves item left in the hierarchy\n     * @method moveUp\n     * @method moveLeft\n     * @param step {number} how many items to move, default is 1\n     * @return {object} panel\n    */\n    Panel.prototype.moveUp = Panel.prototype.moveLeft = itemMove('left', 'panel');\n    /**\n     * Moves item right in the hierarchy\n     * @method moveDown\n     * @method moveRight\n     * @param step {number} how many items to move, default is 1\n     * @return {object} panel\n    */\n    Panel.prototype.moveDown = Panel.prototype.moveRight = itemMove('right', 'panel');\n    /**\n     * Removes item\n     * @method remove\n    */\n    Panel.prototype.remove = itemRemove('panel');\n    /**\n     * Getter and setter of inner HTML of the panel\n     * @method html\n     * @param html {string} HTML source to set up\n     * @return {object} panel\n     * @return {string} current HTML source\n    */\n    Panel.prototype.html = function (html) {\n        if (html) {\n            this.body.html(html);\n            return this;\n        } else {\n            return this.body.html();\n        }\n    };\n    /**\n     * This method gives you ability to overwrite default padding value. Use it with caution.\n     * @method setPadding\n     * @param padding {number} padding in pixels\n     * @return {object} panel\n     * @see DEFAULT_PADDING\n    */\n    Panel.prototype.setPadding = function (padding) {\n        if (!isNaN(+padding)) {\n            this.body.css('padding', +padding);\n            this.padding = +padding;\n            this.page.recalcSize();\n        }\n        return this;\n    };\n\n    var HEADER_HEIGHT = 56;\n    var BUTTONS_HEIGHT = 51;\n    var MIN_DIALOG_VERTICAL_BUFFER = 50;\n\n    /**\n     * Class for pages\n     * @class Page\n     * @constructor\n     * @param dialog {object} dialog object\n     * @param className {string} [optional] HTML class name\n     * @private\n    */\n    var Page = function (dialog, className) {\n        this.dialog = dialog;\n        this.id = dialog.page.length;\n        this.element = createElement('div').addClass('dialog-components');\n        this.body = createElement('div').addClass('dialog-page-body');\n        this.menu = createElement('ul').addClass('dialog-page-menu').css('height', dialog.height + 'px');\n        this.body.append(this.menu);\n        this.curtab;\n        this.panel = [];\n        this.button = [];\n        if (className) {\n            this.body.addClass(className);\n        }\n        dialog.popup.element.append(this.element.append(this.menu).append(this.body));\n        dialog.page[dialog.page.length] = this;\n    };\n\n    /**\n     * Size updater for contents of the page. For internal use\n     * @method recalcSize\n    */\n    Page.prototype.recalcSize = function () {\n        var headerHeight = this.header ? HEADER_HEIGHT : 0;\n        var buttonHeight = this.buttonpanel ? BUTTONS_HEIGHT : 0;\n        for (var i = this.panel.length; i--;) {\n            var dialogComponentsHeight = this.dialog.height - headerHeight - buttonHeight;\n            this.panel[i].body.css('height', dialogComponentsHeight);\n            this.menu.css('height', dialogComponentsHeight);\n        }\n    };\n\n    /**\n     * Adds a button panel to the bottom of dialog\n     * @method addButtonPanel\n     */\n    Page.prototype.addButtonPanel = function () {\n        this.buttonpanel = createElement('div').addClass('dialog-button-panel');\n        this.element.append(this.buttonpanel);\n    };\n\n    /**\n     * Method for adding new panel to the page\n     * @method addPanel\n     * @param title {string} panel title\n     * @param reference {string} or {object} jQuery object or selector for the contents of the Panel\n     * @param className {string} [optional] HTML class name\n     * @param panelButtonId {string} [optional] The unique id for the panel's button.\n     * @return {object} the page\n    */\n    Page.prototype.addPanel = function (title, reference, className, panelButtonId) {\n        new Panel(this, title, reference, className, panelButtonId);\n        this.recalcSize();\n        return this;\n    };\n    /**\n     * Method for adding header to the page\n     * @method addHeader\n     * @param title {string} panel title\n     * @param className {string} [optional] CSS class name\n     * @return {object} the page\n    */\n    Page.prototype.addHeader = function (title, className) {\n        if (this.header) {\n            this.header.remove();\n        }\n        this.header =  createElement('h2').text(title || '').addClass('dialog-title');\n        className && this.header.addClass(className);\n        this.element.prepend(this.header);\n        this.recalcSize();\n        return this;\n    };\n    /**\n     * Method for adding new button to the page\n     * @method addButton\n     * @param label {string} button label\n     * @param onclick {function} [optional] click event handler\n     * @param className {string} [optional] class name\n     * @return {object} the page\n    */\n    Page.prototype.addButton = function (label, onclick, className) {\n        new Button(this, label, onclick, className);\n        this.recalcSize();\n        return this;\n    };\n    /**\n     * Method for adding new link to the page\n     * @method addLink\n     * @param label {string} button label\n     * @param onclick {function} [optional] click event handler\n     * @param className {string} [optional] class name\n     * @return {object} the page\n    */\n    Page.prototype.addLink = function (label, onclick, className, url) {\n        new Link(this, label, onclick, className, url);\n        this.recalcSize();\n        return this;\n    };\n\n    /**\n     * Selects corresponding panel\n     * @method gotoPanel\n     * @param panel {object} panel object\n     * @param panel {number} id of the panel\n    */\n    Page.prototype.gotoPanel = function (panel) {\n        this.panel[panel.id || panel].select();\n    };\n    /**\n     * Returns current panel on the page\n     * @method getCurrentPanel\n     * @return panel {object} the panel\n    */\n    Page.prototype.getCurrentPanel = function () {\n        return this.panel[this.curtab];\n    };\n    /**\n     * Hides the page\n     * @method hide\n    */\n    Page.prototype.hide = function () {\n        this.element.hide();\n    };\n    /**\n     * Shows the page, if it was hidden\n     * @method show\n    */\n    Page.prototype.show = function () {\n        this.element.show();\n    };\n    /**\n     * Removes the page\n     * @method remove\n    */\n    Page.prototype.remove = function () {\n        this.element.remove();\n    };\n\n\n\n    /**\n     * Constructor for a Dialog. A Dialog is a popup which consists of Pages, where each Page can consist of Panels,\n     * Buttons and a Header. The dialog must be constructed in page order as it has a current page state. For example,\n     * calling addButton() will add a button to the 'current' page.\n     * <p>\n     * By default, a new Dialog will have one page. If there are multiple Panels on a Page, a\n     * menu is displayed on the left side of the dialog.\n     * </p>\n     * Usage:\n     * <pre>\n     * var dialog = new Dialog(860, 530);\n     * dialog.addHeader(\"Insert Macro\")\n     * .addPanel(\"All\", \"&lt;p&gt;&lt;/p&gt;\")\n     * .addPanel(\"Some\", \"&lt;p&gt;&lt;/p&gt;\")\n     * .addButton(\"Next\", function (dialog) {dialog.nextPage();})\n     * .addButton(\"Cancel\", function (dialog) {dialog.hide();});\n     *\n     * dialog.addPage()\n     * .addButton(\"Cancel\", function (dialog) {dialog.hide();});\n     *\n     * somebutton.click(function () {dialog.show();});\n     * </pre>\n     * @class Dialog\n     * @constructor\n     * @param width {number} dialog width in pixels, or an object containing the Dialog parameters\n     * @param height {number} dialog height in pixels\n     * @param id {number} [optional] dialog id\n    */\n    function Dialog (width, height, id) {\n        var options = {};\n        if (!+width) {\n            options = Object(width);\n            width = options.width;\n            height = options.height;\n            id = options.id;\n        }\n        this.height = height || 480;\n        this.width = width || 640;\n        this.id = id;\n        options = $.extend({}, options, {\n            width: this.width,\n            height: this.height,\n            id: this.id\n        });\n        this.popup = createPopup(options);\n\n        this.popup.element.addClass('aui-dialog');\n        this.page = [];\n        this.curpage = 0;\n\n        new Page(this);\n    };\n\n\n    /**\n     * Method for adding header to the current page\n     * @method addHeader\n     * @param title {string} panel title\n     * @param className {string} [optional] HTML class name\n     * @return {object} the dialog\n    */\n    Dialog.prototype.addHeader = function (title, className) {\n        this.page[this.curpage].addHeader(title, className);\n        return this;\n    };\n    /**\n     * Method for adding new button to the current page\n     * @method addButton\n     * @param label {string} button label\n     * @param onclick {function} [optional] click event handler\n     * @param className {string} [optional] class name\n     * @return {object} the dialog\n    */\n    Dialog.prototype.addButton = function (label, onclick, className) {\n        this.page[this.curpage].addButton(label, onclick, className);\n        return this;\n    };\n\n    /**\n     * Method for adding new link to the current page\n     * @method addButton\n     * @param label {string} link label\n     * @param onclick {function} [optional] click event handler\n     * @param className {string} [optional] class name\n     * @return {object} the dialog\n    */\n    Dialog.prototype.addLink = function (label, onclick, className, url) {\n        this.page[this.curpage].addLink(label, onclick, className, url);\n        return this;\n    };\n\n    /**\n    * Method for adding a submit button to the current page\n    * @method addSubmit\n    * @param label {string} link label\n    * @param onclick {function} [optional] click event handler\n    * @return {object} the dialog\n    */\n    Dialog.prototype.addSubmit = function (label, onclick) {\n        this.page[this.curpage].addButton(label, onclick, 'button-panel-submit-button');\n        return this;\n    };\n\n    /**\n    * Method for adding a cancel link to the current page\n    * @method addCancel\n    * @param label {string} link label\n    * @param onclick {function} [optional] click event handler\n    * @return {object} the dialog\n    */\n    Dialog.prototype.addCancel = function (label, onclick) {\n        this.page[this.curpage].addLink(label, onclick, 'button-panel-cancel-link');\n        return this;\n    };\n\n\n    /**\n     * Method for adding new button panel to the current page\n     * @return {object} the dialog\n    */\n    Dialog.prototype.addButtonPanel = function () {\n        this.page[this.curpage].addButtonPanel();\n        return this;\n    };\n\n\n    /**\n     * Method for adding new panel to the current page.\n     * @method addPanel\n     * @param title {string} panel title\n     * @param reference {string} or {object} jQuery object or selector for the contents of the Panel\n     * @param className {string} [optional] HTML class name\n     * @param panelButtonId {String} [optional] The unique id for the panel's button.\n     * @return {object} the dialog\n    */\n    Dialog.prototype.addPanel = function (title, reference, className, panelButtonId) {\n        this.page[this.curpage].addPanel(title, reference, className, panelButtonId);\n        return this;\n    };\n    /**\n     * Adds a new page to the dialog and sets the new page as the current page\n     * @method addPage\n     * @param className {string} [optional] HTML class name\n     * @return {object} the dialog\n    */\n    Dialog.prototype.addPage = function (className) {\n        new Page(this, className);\n        this.page[this.curpage].hide();\n        this.curpage = this.page.length - 1;\n        return this;\n    };\n    /**\n     * Making next page in hierarchy visible and active\n     * @method nextPage\n     * @return {object} the dialog\n    */\n    Dialog.prototype.nextPage = function () {\n        this.page[this.curpage++].hide();\n        if (this.curpage >= this.page.length) {\n            this.curpage = 0;\n        }\n        this.page[this.curpage].show();\n        return this;\n    };\n    /**\n     * Making previous page in hierarchy visible and active\n     * @method prevPage\n     * @return {object} the dialog\n    */\n    Dialog.prototype.prevPage = function () {\n        this.page[this.curpage--].hide();\n        if (this.curpage < 0) {\n            this.curpage = this.page.length - 1;\n        }\n        this.page[this.curpage].show();\n        return this;\n    };\n    /**\n     * Making specified page visible and active\n     * @method gotoPage\n     * @param num {number} page id\n     * @return {object} the dialog\n    */\n    Dialog.prototype.gotoPage = function (num) {\n        this.page[this.curpage].hide();\n        this.curpage = num;\n        if (this.curpage < 0) {\n            this.curpage = this.page.length - 1;\n        } else if (this.curpage >= this.page.length) {\n            this.curpage = 0;\n        }\n        this.page[this.curpage].show();\n        return this;\n    };\n    /**\n     * Returns specified panel at the current page\n     * @method getPanel\n     * @param pageorpanelId {number} page id or panel id\n     * @param panelId {number} panel id\n     * @return {object} the internal Panel object\n    */\n    Dialog.prototype.getPanel = function (pageorpanelId, panelId) {\n        var pageid = (panelId == null) ? this.curpage : pageorpanelId;\n        if (panelId == null) {\n            panelId = pageorpanelId;\n        }\n        return this.page[pageid].panel[panelId];\n    };\n    /**\n     * Returns specified page\n     * @method getPage\n     * @param pageid {number} page id\n     * @return {object} the internal Page Object\n    */\n    Dialog.prototype.getPage = function (pageid) {\n        return this.page[pageid];\n    };\n    /**\n     * Returns current panel at the current page\n     * @method getCurrentPanel\n     * @return {object} the internal Panel object\n    */\n    Dialog.prototype.getCurrentPanel = function () {\n        return this.page[this.curpage].getCurrentPanel();\n    };\n\n    /**\n     * Selects corresponding panel\n     * @method gotoPanel\n     * @param pageorpanel {object} panel object or page object\n     * @param panel {object} panel object\n     * @param panel {number} id of the panel\n    */\n    Dialog.prototype.gotoPanel = function (pageorpanel, panel) {\n        if (panel != null) {\n            var pageid = pageorpanel.id || pageorpanel;\n            this.gotoPage(pageid);\n        }\n        this.page[this.curpage].gotoPanel(typeof panel == 'undefined' ? pageorpanel : panel);\n    };\n\n    /**\n     * Shows the dialog, if it is not visible\n     * @method show\n     * @return {object} the dialog\n    */\n    Dialog.prototype.show = function () {\n        this.popup.show();\n        trigger('show.dialog', {dialog: this});\n        return this;\n    };\n    /**\n     * Hides the dialog, if it was visible\n     * @method hide\n     * @return {object} the dialog\n    */\n    Dialog.prototype.hide = function () {\n        this.popup.hide();\n        trigger('hide.dialog', {dialog: this});\n        return this;\n    };\n    /**\n     * Removes the dialog elements from the DOM\n     * @method remove\n    */\n    Dialog.prototype.remove = function () {\n        this.popup.hide();\n        this.popup.remove();\n        trigger('remove.dialog', {dialog: this});\n    };\n    /**\n     * Disables the dialog if enabled\n     * @method disable\n    */\n    Dialog.prototype.disable = function () {\n        this.popup.disable();\n        return this;\n    };\n    /**\n     * Enables the dialog if disabled\n     * @method disable\n    */\n    Dialog.prototype.enable = function () {\n        this.popup.enable();\n        return this;\n    };\n    /**\n     * Gets set of items depending on query\n     * @method get\n     * @param query {string} query to search for panels, pages, headers or buttons\n     * e.g.\n     *      '#Name' will find all dialog components with the given name such as panels and buttons, etc\n     *      'panel#Name' will find only panels with the given name\n     *      'panel#\"Foo bar\"' will find only panels with given name\n     *      'panel:3' will find the third panel\n     */\n    Dialog.prototype.get = function (query) {\n        var coll = [],\n            dialog = this;\n        var nameExp = '#([^\"][^ ]*|\"[^\"]*\")';     // a name is a hash followed by either a bare word or quoted string\n        var indexExp = ':(\\\\d+)';                 // an index is a colon followed by some digits\n        var typeExp = 'page|panel|button|header'; // one of the allowed types\n        var selectorExp = '(?:' +                 // a selector is either ...\n            '(' + typeExp + ')(?:' + nameExp + '|' + indexExp + ')?' + // a type optionally followed by either #name or :index\n            '|' + nameExp +                       // or just a #name\n            ')';\n        var queryRE = new RegExp('(?:^|,)' +      // a comma or at the start of the line\n            '\\\\s*' + selectorExp +                // optional space and a selector\n            '(?:\\\\s+' + selectorExp + ')?' +      // optionally, followed by some space and a second selector\n            '\\\\s*(?=,|$)', 'ig');                 // followed by, but not including, a comma or the end of the string\n        (query + '').replace(queryRE, function (all, name, title, id, justtitle, name2, title2, id2, justtitle2) {\n            name = name && name.toLowerCase();\n            var pages = [];\n            if (name == 'page' && dialog.page[id]) {\n                pages.push(dialog.page[id]);\n                name = name2;\n                name = name && name.toLowerCase();\n                title = title2;\n                id = id2;\n                justtitle = justtitle2;\n            } else {\n                pages = dialog.page;\n            }\n            title = title && (title + '').replace(/\"/g, '');\n            title2 = title2 && (title2 + '').replace(/\"/g, '');\n            justtitle = justtitle && (justtitle + '').replace(/\"/g, '');\n            justtitle2 = justtitle2 && (justtitle2 + '').replace(/\"/g, '');\n            if (name || justtitle) {\n                for (var i = pages.length; i--;) {\n                    if (justtitle || (name == 'panel' && (title || (!title && id == null)))) {\n                        for (var j = pages[i].panel.length; j--;) {\n                            if (pages[i].panel[j].button.html() == justtitle || pages[i].panel[j].button.html() == title || (name == 'panel' && !title && id == null)) {\n                                coll.push(pages[i].panel[j]);\n                            }\n                        }\n                    }\n                    if (justtitle || (name == 'button' && (title || (!title && id == null)))) {\n                        for (var j = pages[i].button.length; j--;) {\n                            if (pages[i].button[j].item.html() == justtitle || pages[i].button[j].item.html() == title || (name == 'button' && !title && id == null)) {\n                                coll.push(pages[i].button[j]);\n                            }\n                        }\n                    }\n                    if (pages[i][name] && pages[i][name][id]) {\n                        coll.push(pages[i][name][id]);\n                    }\n                    if (name == 'header' && pages[i].header) {\n                        coll.push(pages[i].header);\n                    }\n                }\n            } else {\n                coll = coll.concat(pages);\n            }\n        });\n        var res = {\n            length: coll.length\n        };\n        for (var i = coll.length; i--;) {\n            res[i] = coll[i];\n            for (var method in coll[i]) {\n                if (!(method in res)) {\n                    (function (m) {\n                        res[m] = function () {\n                            for (var j = this.length; j--;) {\n                                if (typeof this[j][m] == 'function') {\n                                    this[j][m].apply(this[j], arguments);\n                                }\n                            }\n                        };\n                    })(method);\n                }\n            }\n        }\n        return res;\n    };\n\n    /**\n     * Updates height of panels, to contain content without the need for scroll bars.\n     *\n     * @method updateHeight\n     */\n    Dialog.prototype.updateHeight = function () {\n        var height = 0;\n        var maxDialogHeight = $(window).height() - HEADER_HEIGHT - BUTTONS_HEIGHT - (MIN_DIALOG_VERTICAL_BUFFER * 2);\n        for (var i = 0; this.getPanel(i); i++) {\n            if (this.getPanel(i).body.css({height: 'auto', display: 'block'}).outerHeight() > height) {\n                height = Math.min(maxDialogHeight, this.getPanel(i).body.outerHeight());\n            }\n            if (i !== this.page[this.curpage].curtab) {\n                this.getPanel(i).body.css({display:'none'});\n            }\n        }\n        for (i = 0; this.getPanel(i); i++) {\n            this.getPanel(i).body.css({height: height || this.height});\n        }\n        this.page[0].menu.height(height);\n        this.height = height + HEADER_HEIGHT + BUTTONS_HEIGHT + 1;\n        this.popup.changeSize(undefined, this.height);\n    };\n\n    /**\n     * Returns whether the dialog has been resized to it's maximum height (has been capped by the viewport height and vertical buffer).\n     *\n     * @method isMaximised\n     */\n    Dialog.prototype.isMaximised = function () {\n        return this.popup.element.outerHeight() >= $(window).height() - (MIN_DIALOG_VERTICAL_BUFFER * 2);\n    };\n\n    /**\n     * Returns the current panel.\n     * @deprecated Since 3.0.1 Use getCurrentPanel() instead.\n     */\n    Dialog.prototype.getCurPanel = function () {\n        return this.getPanel(this.page[this.curpage].curtab);\n    };\n\n    /**\n     * Returns the current button panel.\n     * @deprecated Since 3.0.1 Use get() instead.\n     */\n    Dialog.prototype.getCurPanelButton = function () {\n        return this.getCurPanel().button;\n    };\n\n    return Dialog;\n\n})();\n\nDialog = deprecate.construct(Dialog, 'Dialog constructor', {\n    alternativeName: 'Dialog2'\n});\n\ncreatePopup = deprecate.construct(createPopup, 'Dialog popup constructor', {\n    alternatveName: 'Dialog2'\n});\n\nglobalize('Dialog', Dialog);\nglobalize('popup', createPopup);\n\nexport {\n    Dialog,\n    createPopup as popup\n};\n"],"sourceRoot":"/source/"}