{"version":3,"sources":["js/aui/expander.js"],"names":[],"mappings":"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","file":"js/aui/expander.js","sourcesContent":["'use strict';\n\nimport $ from './jquery';\n\nvar $document = $(document),\n\n//convenience function because this needs to be run for all the events.\ngetExpanderProperties = function (event) {\n    var properties = {};\n\n    properties.$trigger = $(event.currentTarget);\n    properties.$content = $document.find('#' + properties.$trigger.attr('aria-controls'));\n    properties.triggerIsParent = properties.$content.parent().filter(properties.$trigger).length !== 0;\n    properties.$shortContent = properties.triggerIsParent ? properties.$trigger.find('.aui-expander-short-content') : null;\n    properties.height = properties.$content.css('min-height');\n    properties.isCollapsible = properties.$trigger.data('collapsible') !== false;\n    properties.replaceText = properties.$trigger.attr('data-replace-text'); //can't use .data here because it doesn't update after the first call\n    properties.replaceSelector = properties.$trigger.data('replace-selector');\n\n    return properties;\n},\nreplaceText = function (properties) {\n    if (properties.replaceText) {\n        var $replaceElement = properties.replaceSelector ?\n        properties.$trigger.find(properties.replaceSelector) :\n            properties.$trigger;\n\n        properties.$trigger.attr('data-replace-text', $replaceElement.text());\n        $replaceElement.text(properties.replaceText);\n    }\n};\n//events that the expander listens to\nvar EXPANDER_EVENTS = {\n    'aui-expander-invoke': function (event) {\n        var $trigger = $(event.currentTarget);\n        var $content = $document.find('#' + $trigger.attr('aria-controls'));\n        var isCollapsible = $trigger.data('collapsible') !== false;\n\n        //determine if content should be expanded or collapsed\n        if ($content.attr('aria-expanded') === 'true' && isCollapsible) {\n            $trigger.trigger('aui-expander-collapse');\n        } else {\n            $trigger.trigger('aui-expander-expand');\n        }\n    },\n\n    'aui-expander-expand': function (event) {\n        var properties = getExpanderProperties(event);\n\n        properties.$content.attr('aria-expanded', 'true');\n        properties.$trigger.attr('aria-expanded', 'true');\n\n        if (properties.$content.outerHeight() > 0) {\n            properties.$content.attr('aria-hidden', 'false');\n        }\n\n        //handle replace text\n        replaceText(properties);\n\n        //if the trigger is the parent also hide the short-content (default)\n        if (properties.triggerIsParent) {\n            properties.$shortContent.hide();\n        }\n        properties.$trigger.trigger('aui-expander-expanded');\n\n    },\n\n    'aui-expander-collapse': function (event) {\n        var properties = getExpanderProperties(event);\n\n        //handle replace text\n        replaceText(properties);\n\n        //collapse the expander\n        properties.$content.attr('aria-expanded', 'false');\n        properties.$trigger.attr('aria-expanded', 'false');\n\n        //if the trigger is the parent also hide the short-content (default)\n        if (properties.triggerIsParent) {\n            properties.$shortContent.show();\n        }\n\n        //handle the height option\n        if (properties.$content.outerHeight() === 0) {\n            properties.$content.attr('aria-hidden', 'true');\n        }\n\n        properties.$trigger.trigger('aui-expander-collapsed');\n    },\n\n    'click.aui-expander': function (event) {\n        var $target = $(event.currentTarget);\n        $target.trigger('aui-expander-invoke', event.currentTarget);\n    }\n};\n\n//delegate events to the triggers on the page\n$document.on(EXPANDER_EVENTS, '.aui-expander-trigger');\n"],"sourceRoot":"/source/"}