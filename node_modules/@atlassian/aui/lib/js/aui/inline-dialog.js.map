{"version":3,"sources":["js/aui/inline-dialog.js"],"names":[],"mappings":"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","file":"js/aui/inline-dialog.js","sourcesContent":["/*global Raphael: true */\n/*jshint quotmark:false, eqeqeq:false, strict:false */\n\n'use strict';\n\nimport $ from './jquery';\nimport * as deprecate from './internal/deprecation';\nimport * as logger from './internal/log';\nimport createElement from './create-element';\nimport globalize from './internal/globalize';\n\n/**\n * Creates a new inline dialog.\n *\n * @param items jQuery object - the items that trigger the display of this popup when the user mouses over.\n * @param identifier A unique identifier for this popup. This should be unique across all popups on the page and a valid CSS class.\n * @param url The URL to retrieve popup contents.\n * @param options Custom options to change default behaviour. See InlineDialog.opts for default values and valid options.\n */\nfunction InlineDialog (items, identifier, url, options) {\n    options = options || [];\n\n    if (options.hasOwnProperty('getArrowAttributes')) {\n        getArrowAttributesDeprecationLogger();\n    }\n\n    if (options.hasOwnProperty('getArrowPath')) {\n        getArrowPathDeprecationLogger();\n        if (options.hasOwnProperty('gravity')) {\n            getArrowPathWithGravityDeprecationLogger();\n        }\n    }\n\n    if (options.hasOwnProperty('onTop')) {\n        onTopDeprecationLogger();\n        if (options.onTop && options.gravity === undefined) {\n            options.gravity = 's';\n        }\n    }\n\n    // attempt to generate a random identifier if it doesn't exist\n    if (typeof identifier === 'undefined') {\n        identifier = String(Math.random()).replace('.', '');\n\n        // if the generated supplied identifier already exists when combined with the prefixes we'll be using, then bail\n        if ($('#inline-dialog-' + identifier + ', #arrow-' + identifier + ', #inline-dialog-shim-' + identifier).length) {\n            throw 'GENERATED_IDENTIFIER_NOT_UNIQUE';\n        }\n\n    }\n\n    var opts = $.extend(false, InlineDialog.opts, options);\n    if (opts.gravity === 'w') {\n        // TODO Once support for gravity: 'e' is added, it should also\n        //      transpose the defaults for offsetX and offsetY.\n        opts.offsetX = options.offsetX === undefined ? 10 : options.offsetX;\n        opts.offsetY = options.offsetY === undefined ? 0 : options.offsetY;\n    }\n    var renderAsSVG = function () {\n        return window.Raphael && options && (options.getArrowPath || options.getArrowAttributes);\n    };\n\n    var hash;\n    var hideDelayTimer;\n    var showTimer;\n    var beingShown = false;\n    var shouldShow = false;\n    var contentLoaded = false;\n    var mousePosition;\n    var targetPosition;\n    var popup  = $('<div id=\"inline-dialog-' + identifier +\n        '\" class=\"aui-inline-dialog\"><div class=\"aui-inline-dialog-contents contents\"></div><div id=\"arrow-' +\n        identifier + '\" class=\"aui-inline-dialog-arrow arrow\"></div></div>');\n\n    var arrow = $('#arrow-' + identifier, popup);\n    var contents = popup.find('.contents');\n\n    if (!renderAsSVG()) {\n        popup.find('.aui-inline-dialog-arrow').addClass('aui-css-arrow');\n    }\n\n    if (!opts.displayShadow) {\n        contents.addClass('aui-inline-dialog-no-shadow');\n    }\n\n    if (opts.autoWidth) {\n        contents.addClass('aui-inline-dialog-auto-width');\n    } else {\n        contents.width(opts.width);\n    }\n\n    contents.on({\n        'mouseenter': function () {\n            clearTimeout(hideDelayTimer);\n            popup.unbind('mouseenter');\n        },\n        'mouseleave': function () {\n            hidePopup();\n        }\n    });\n\n    var getHash = function () {\n        if (!hash) {\n            hash = {\n                popup: popup,\n                hide: function () {\n                    hidePopup(0);\n                },\n                id: identifier,\n                show: function () {\n                    showPopup();\n                },\n                persistent: opts.persistent ? true : false,\n                reset: function () {\n\n                    function drawPopup (popup, positions) {\n                        //Position the popup using the left and right parameters\n                        popup.css(positions.popupCss);\n\n                        if (renderAsSVG()) {\n                            //special adjustment for downards raphael arrow\n                            if (positions.gravity === 's'){\n                                positions.arrowCss.top -= $.browser.msie ? 10 : 9;\n                            }\n\n                            if (!popup.arrowCanvas) {\n                                popup.arrowCanvas = Raphael('arrow-' + identifier, 16, 16);  //create canvas using arrow element\n                            }\n                            var getArrowPath = opts.getArrowPath;\n                            var arrowPath = $.isFunction(getArrowPath) ?\n                                    getArrowPath(positions) :\n                                    getArrowPath;\n                            //draw the arrow\n                            popup.arrowCanvas\n                                .path(arrowPath)\n                                .attr(opts.getArrowAttributes());\n\n                        } else {\n                            arrow.removeClass('aui-bottom-arrow aui-left-arrow aui-right-arrow');\n                            if (positions.gravity === 's' && !arrow.hasClass('aui-bottom-arrow')) {\n                                arrow.addClass('aui-bottom-arrow');\n                            } else if (positions.gravity === 'n') {\n                                // Default styles are for 'n' gravity.\n                            } else if (positions.gravity === 'w') {\n                                arrow.addClass('aui-left-arrow');\n                            } else if (positions.gravity === 'e') {\n                                arrow.addClass('aui-right-arrow');\n                            }\n                        }\n\n\n                        arrow.css(positions.arrowCss);\n                    }\n\n                    //DRAW POPUP\n                    var viewportHeight = $(window).height();\n                    var popupMaxHeight = Math.round(viewportHeight * 0.75);\n                    popup.children('.aui-inline-dialog-contents')\n                        .css('max-height', popupMaxHeight);\n\n                    var positions = opts.calculatePositions(popup, targetPosition, mousePosition, opts);\n                    if (positions.hasOwnProperty('displayAbove')) {\n                        displayAboveDeprecationLogger();\n                        positions.gravity = positions.displayAbove ? 's' : 'n';\n                    }\n\n                    drawPopup(popup, positions);\n\n                    // reset position of popup box\n                    popup.fadeIn(opts.fadeTime, function () {\n                        // once the animation is complete, set the tracker variables\n                        // beingShown = false; // is this necessary? Maybe only the shouldShow will have to be reset?\n                    });\n\n                    if ($.browser.msie && ~~($.browser.version) < 10) {\n                        // iframeShim, prepend if it doesnt exist\n                        var jQueryCache = $('#inline-dialog-shim-' + identifier);\n                        if (!jQueryCache.length) {\n                            $(popup).prepend($('<iframe class = \"inline-dialog-shim\" id=\"inline-dialog-shim-' + identifier + '\" frameBorder=\"0\" src=\"javascript:false;\"></iframe>'));\n                        }\n                        // adjust height and width of shim according to the popup\n                        jQueryCache.css({\n                            width: contents.outerWidth(),\n                            height: contents.outerHeight()\n                        });\n                    }\n                }\n            };\n        }\n        return hash;\n    };\n\n    var showPopup = function () {\n        if (popup.is(':visible')) {\n            return;\n        }\n        showTimer = setTimeout(function () {\n            if (!contentLoaded || !shouldShow) {\n                return;\n            }\n            opts.addActiveClass && $(items).addClass('active');\n            beingShown = true;\n            if (!opts.persistent) {\n                bindHideEvents();\n            }\n            InlineDialog.current = getHash();\n            $(document).trigger('showLayer', ['inlineDialog', getHash()]);\n            // retrieve the position of the click target. The offsets might be different for different types of targets and therefore\n            // either have to be customisable or we will have to be smarter about calculating the padding and elements around it\n\n            getHash().reset();\n\n        }, opts.showDelay);\n    };\n\n    var hidePopup = function (delay) {\n        // do not auto hide the popup if persistent is set as true\n        if (typeof delay === 'undefined' && opts.persistent) {\n            return;\n        }\n        if (typeof popup.get(0)._datePickerPopup !== 'undefined') {\n            // AUI-2696 - This inline dialog is host to a date picker... so we shouldn't close it.\n            return;\n        }\n\n        shouldShow = false;\n        // only exectute the below if the popup is currently being shown\n        // and the arbitrator callback gives us the green light\n        if (beingShown && opts.preHideCallback.call(popup[0].popup)) {\n            delay = (delay == null) ? opts.hideDelay : delay;\n            clearTimeout(hideDelayTimer);\n            clearTimeout(showTimer);\n            // store the timer so that it can be cleared in the mouseenter if required\n            //disable auto-hide if user passes null for hideDelay\n            if (delay != null) {\n                hideDelayTimer = setTimeout(function () {\n                    unbindHideEvents();\n                    opts.addActiveClass && $(items).removeClass('active');\n                    popup.fadeOut(opts.fadeTime, function () {\n                        opts.hideCallback.call(popup[0].popup);\n                    });\n                    //If there's a raphael arrow remove it properly\n                    if (popup.arrowCanvas){\n                        popup.arrowCanvas.remove();\n                        popup.arrowCanvas = null;\n                    }\n                    beingShown = false;\n                    shouldShow = false;\n                    $(document).trigger('hideLayer', ['inlineDialog', getHash()]);\n                    InlineDialog.current = null;\n                    if (!opts.cacheContent) {\n                        //if not caching the content, then reset the\n                        //flags to false so as to reload the content\n                        //on next mouse hover.\n                        contentLoaded = false;\n                        contentLoading = false;\n                    }\n\n                }, delay);\n            }\n\n        }\n    };\n\n    // the trigger is the jquery element that is triggering the popup (i.e., the element that the mousemove event is bound to)\n    var initPopup = function (e, trigger) {\n        var $trigger = $(trigger);\n\n        opts.upfrontCallback.call({\n            popup: popup,\n            hide: function () {\n                hidePopup(0);\n            },\n            id: identifier,\n            show: function () {\n                showPopup();\n            }\n        });\n\n        popup.each(function () {\n            if (typeof this.popup !== 'undefined') {\n                this.popup.hide();\n            }\n        });\n\n        //Close all other popups if neccessary\n        if (opts.closeOthers) {\n            $('.aui-inline-dialog').each(function () {\n                !this.popup.persistent && this.popup.hide();\n            });\n        }\n\n        //handle programmatic showing where there is no event\n        targetPosition = {target: $trigger};\n        if (!e) {\n            mousePosition = {x: $trigger.offset().left, y: $trigger.offset().top};\n        } else {\n            mousePosition = {x: e.pageX, y: e.pageY};\n        }\n\n\n\n        if (!beingShown) {\n            clearTimeout(showTimer);\n        }\n        shouldShow = true;\n        var doShowPopup = function () {\n            contentLoading = false;\n            contentLoaded = true;\n            opts.initCallback.call({\n                popup: popup,\n                hide: function () {\n                    hidePopup(0);\n                },\n                id: identifier,\n                show: function () {\n                    showPopup();\n                }\n            });\n            showPopup();\n        };\n        // lazy load popup contents\n        if (!contentLoading) {\n            contentLoading = true;\n            if ($.isFunction(url)) {\n                // If the passed in URL is a function, execute it. Otherwise simply load the content.\n                url(contents, trigger, doShowPopup);\n            } else {\n                //Retrive response from server\n                $.get(url, function (data, status, xhr) {\n                    //Load HTML contents into the popup\n                    contents.html(opts.responseHandler(data, status, xhr));\n                    //Show the popup\n                    contentLoaded = true;\n                    opts.initCallback.call({\n                        popup: popup,\n                        hide: function () {\n                            hidePopup(0);\n                        },\n                        id: identifier,\n                        show: function () {\n                            showPopup();\n                        }\n                    });\n                    showPopup();\n                });\n            }\n        }\n        // stops the hide event if we move from the trigger to the popup element\n        clearTimeout(hideDelayTimer);\n        // don't trigger the animation again if we're being shown\n        if (!beingShown) {\n            showPopup();\n        }\n        return false;\n    };\n\n    popup[0].popup = getHash();\n\n    var contentLoading = false;\n    var added  = false;\n    var appendPopup = function () {\n        if (!added) {\n            $(opts.container).append(popup);\n            added = true;\n        }\n    };\n    var $items = $(items);\n\n    if (opts.onHover) {\n        if (opts.useLiveEvents) {\n            // We're using .on() to emulate the behaviour of .live() here. on() requires the jQuery object to have\n            // a selector - this is actually how .live() is implemented in jQuery 1.7+.\n            // Note that .selector is deleted in jQuery 1.9+.\n            // This means that jQuery objects created by selection eg $(\".my-class-selector\") will work, but\n            // object created by DOM parsing eg $(\"<div class='.my-class'></div>\") will not work.\n            // Ideally we should throw an error if the $items has no selector but that is backwards incompatible,\n            // so we warn and do a no-op - this emulates the behaviour of live() but has the added warning.\n            if ($items.selector) {\n                $(document).on('mouseenter', $items.selector, function (e) {\n                    appendPopup();\n                    initPopup(e, this);\n                }).on('mouseleave', $items.selector, function () {\n                    hidePopup();\n                });\n            }\n            else {\n                logger.log('Warning: inline dialog trigger elements must have a jQuery selector when the useLiveEvents option is enabled.');\n            }\n        } else {\n            $items.on({\n                'mouseenter': function (e) {\n                    appendPopup();\n                    initPopup(e,this);\n                },\n                'mouseleave': function () {\n                    hidePopup();\n                }\n            });\n        }\n    } else {\n        if (!opts.noBind) {   //Check if the noBind option is turned on\n            if (opts.useLiveEvents) {\n                // See above for why we filter by .selector\n                if ($items.selector) {\n                    $(document).on('click', $items.selector, function (e) {\n                        appendPopup();\n                        if (shouldCloseOnTriggerClick()) {\n                            popup.hide();\n                        } else {\n                            initPopup(e,this);\n                        }\n                        return false;\n                    }).on('mouseleave', $items.selector, function () {\n                        hidePopup();\n                    });\n                }\n                else {\n                    logger.log('Warning: inline dialog trigger elements must have a jQuery selector when the useLiveEvents option is enabled.');\n                }\n            } else {\n                $items.on('click', function (e) {\n                    appendPopup();\n                    if (shouldCloseOnTriggerClick()) {\n                        popup.hide();\n                    } else {\n                        initPopup(e,this);\n                    }\n                    return false;\n                }).on('mouseleave', function () {\n                    hidePopup();\n                });\n            }\n        }\n    }\n\n    var shouldCloseOnTriggerClick = function () {\n        return beingShown && opts.closeOnTriggerClick;\n    };\n\n    var bindHideEvents = function () {\n        bindHideOnExternalClick();\n        bindHideOnEscPressed();\n    };\n\n    var unbindHideEvents = function () {\n        unbindHideOnExternalClick();\n        unbindHideOnEscPressed();\n    };\n\n    // Be defensive and make sure that we haven't already bound the event\n    var hasBoundOnExternalClick = false;\n    var externalClickNamespace = identifier + '.inline-dialog-check';\n\n    /**\n     * Catch click events on the body to see if the click target occurs outside of this popup\n     * If it does, the popup will be hidden\n     */\n    var bindHideOnExternalClick = function () {\n        if (!hasBoundOnExternalClick) {\n            $('body').bind('click.' + externalClickNamespace, function (e) {\n                var $target = $(e.target);\n                // hide the popup if the target of the event is not in the dialog\n                if ($target.closest('#inline-dialog-' + identifier + ' .contents').length === 0) {\n                    hidePopup(0);\n                }\n            });\n            hasBoundOnExternalClick = true;\n        }\n    };\n\n    var unbindHideOnExternalClick = function () {\n        if (hasBoundOnExternalClick) {\n            $('body').unbind('click.' + externalClickNamespace);\n        }\n        hasBoundOnExternalClick = false;\n    };\n\n    var onKeydown = function (e) {\n        if (e.keyCode === 27) {\n            hidePopup(0);\n        }\n    };\n\n    var bindHideOnEscPressed = function () {\n        $(document).on('keydown', onKeydown);\n    };\n\n    var unbindHideOnEscPressed = function () {\n        $(document).off('keydown', onKeydown);\n    };\n\n    /**\n     * Show the inline dialog.\n     * @method show\n     */\n    popup.show = function (e, trigger) {\n        if (e) {\n            e.stopPropagation();\n        }\n        appendPopup();\n        if (opts.noBind && !(items && items.length)) {\n            initPopup(e, trigger === undefined ? e.target : trigger);\n        } else {\n            initPopup(e, items);\n        }\n    };\n    /**\n     * Hide the inline dialog.\n     * @method hide\n     */\n    popup.hide = function () {\n        hidePopup(0);\n    };\n    /**\n     * Repositions the inline dialog if being shown.\n     * @method refresh\n     */\n    popup.refresh = function () {\n        if (beingShown) {\n            getHash().reset();\n        }\n    };\n\n    popup.getOptions = function () {\n        return opts;\n    };\n\n    return popup;\n}\n\nfunction dimensionsOf(el) {\n    var $el = $(el);\n    var offset = $.extend({left: 0, top: 0}, $el.offset());\n    return {\n        left: offset.left,\n        top: offset.top,\n        width: $el.outerWidth(),\n        height: $el.outerHeight()\n    };\n}\n\nfunction getDimensions(popup, targetPosition, mousePosition, opts) {\n    var offsetX = $.isFunction(opts.offsetX) ? opts.offsetX(popup, targetPosition, mousePosition, opts) : opts.offsetX;\n    var offsetY = $.isFunction(opts.offsetY) ? opts.offsetY(popup, targetPosition, mousePosition, opts) : opts.offsetY;\n    var arrowOffsetX = $.isFunction(opts.arrowOffsetX) ? opts.arrowOffsetX(popup, targetPosition, mousePosition, opts) : opts.arrowOffsetX;\n    var arrowOffsetY = $.isFunction(opts.arrowOffsetY) ? opts.arrowOffsetY(popup, targetPosition, mousePosition, opts) : opts.arrowOffsetY;\n\n    // Support positioning inside a scroll container other than <body>\n    var isConstrainedScroll = opts.container.toLowerCase() !== 'body';\n    var $scrollContainer = $(opts.container);\n    var $scrollWindow = isConstrainedScroll ?\n        $(opts.container).parent() :\n        $(window);\n    var scrollContainerOffset = isConstrainedScroll ?\n        $scrollContainer.offset() : {left: 0, top: 0};\n    var scrollWindowOffset = isConstrainedScroll ?\n        $scrollWindow.offset() : {left: 0, top: 0};\n\n    var trigger = targetPosition.target;\n    var triggerOffset = trigger.offset();\n    // Support SVG elements as triggers\n    // TODO Should calculateNorthSouthPositions also try getBBox()?\n    var triggerBBox = trigger[0].getBBox && trigger[0].getBBox();\n\n    return {\n        // determines how close to the edge the dialog needs to be before it is considered offscreen\n        screenPadding: 10,\n        // Min distance arrow needs to be from the edge of the dialog\n        arrowMargin: 5,\n        window: {\n            top: scrollWindowOffset.top,\n            left: scrollWindowOffset.left,\n            scrollTop: $scrollWindow.scrollTop(),\n            scrollLeft: $scrollWindow.scrollLeft(),\n            width: $scrollWindow.width(),\n            height: $scrollWindow.height()\n        },\n        scrollContainer: {\n            width: $scrollContainer.width(),\n            height: $scrollContainer.height()\n        },\n        // Position of the trigger is relative to the scroll container\n        trigger: {\n            top: triggerOffset.top - scrollContainerOffset.top,\n            left: triggerOffset.left - scrollContainerOffset.left,\n            width: triggerBBox ? triggerBBox.width : trigger.outerWidth(),\n            height: triggerBBox ? triggerBBox.height : trigger.outerHeight()\n        },\n        dialog: {\n            width: popup.width(),\n            height: popup.height(),\n            offset: {\n                top: offsetY,\n                left: offsetX\n            }\n        },\n        arrow: {\n            height: popup.find('.arrow').outerHeight(),\n            offset: {\n                top: arrowOffsetY,\n                left: arrowOffsetX\n            }\n        }\n    };\n}\n\nfunction calculateWestPositions(popup, targetPosition, mousePosition, opts) {\n    var dimensions = getDimensions(popup, targetPosition, mousePosition, opts);\n    var screenPadding = dimensions.screenPadding;\n    var win = dimensions.window;\n    var trigger = dimensions.trigger;\n    var dialog = dimensions.dialog;\n    var arrow = dimensions.arrow;\n    var scrollContainer = dimensions.scrollContainer;\n\n    var triggerScrollOffset = {\n        top: trigger.top - win.scrollTop,\n        left: trigger.left - win.scrollLeft\n    };\n\n    // Halves - because the browser doesn't do sub-pixel positioning, we need to consistently floor\n    // all decimal values or you can get 1px jumps in arrow positioning when the dialog's height changes.\n    var halfTriggerHeight = Math.floor(trigger.height / 2);\n    var halfPopupHeight = Math.floor(dialog.height / 2);\n    var halfArrowHeight = Math.floor(arrow.height / 2);\n\n    // Figure out where to position the dialog, preferring the right (gravity: 'w').\n    var spaceOnLeft = triggerScrollOffset.left - dialog.offset.left - screenPadding;\n\n    // This implementation may not be suitable for horizontally scrolling containers\n    var spaceOnRight = scrollContainer.width - triggerScrollOffset.left - trigger.width - dialog.offset.left - screenPadding;\n\n    var enoughSpaceOnLeft = spaceOnLeft >= dialog.width;\n    var enoughSpaceOnRight = spaceOnRight >= dialog.width;\n    var gravity = !enoughSpaceOnRight && enoughSpaceOnLeft ? 'e' : 'w';\n\n    // Screen padding needs to be adjusted if the arrow would extend into it\n    var arrowScreenTop = triggerScrollOffset.top + halfTriggerHeight - halfArrowHeight;\n    var arrowScreenBottom = win.height - arrowScreenTop - arrow.height;\n    screenPadding = Math.min(screenPadding, arrowScreenTop - dimensions.arrowMargin);\n    screenPadding = Math.min(screenPadding, arrowScreenBottom - dimensions.arrowMargin);\n\n    // Figure out if the dialog needs to be adjusted up or down to fit on the screen\n    var middleOfTrigger = triggerScrollOffset.top + halfTriggerHeight;\n    var spaceAboveMiddleOfTrigger = Math.max(middleOfTrigger - screenPadding, 0);\n    var spaceBelowMiddleOfTrigger = Math.max(win.height - middleOfTrigger - screenPadding, 0);\n\n    var isOverflowingAbove = halfPopupHeight - dialog.offset.top > spaceAboveMiddleOfTrigger;\n    var isOverflowingBelow = halfPopupHeight + dialog.offset.top > spaceBelowMiddleOfTrigger;\n\n    var popupCss;\n    var arrowCss;\n    if (isOverflowingAbove) {\n        popupCss = {\n            top: win.scrollTop + screenPadding,\n            left: gravity === 'w' ?\n                trigger.left + trigger.width + dialog.offset.left :\n                trigger.left - dialog.width - dialog.offset.left\n        };\n        arrowCss = {\n            top: (trigger.top + halfTriggerHeight) - (popupCss.top + halfArrowHeight)\n        };\n    } else if (isOverflowingBelow) {\n        popupCss = {\n            top: win.scrollTop + win.height - dialog.height - screenPadding,\n            left: gravity === 'w' ?\n                trigger.left + trigger.width + dialog.offset.left :\n                trigger.left - dialog.width - dialog.offset.left\n        };\n        arrowCss = {\n            top: (trigger.top + halfTriggerHeight) - (popupCss.top + halfArrowHeight)\n        };\n    } else {\n        popupCss = {\n            top: trigger.top + halfTriggerHeight - halfPopupHeight + dialog.offset.top,\n            left: gravity === 'w' ?\n                trigger.left + trigger.width + dialog.offset.left :\n                trigger.left - dialog.width - dialog.offset.left\n        };\n        arrowCss = {\n            top: halfPopupHeight - halfArrowHeight + arrow.offset.top\n        };\n    }\n\n    return {\n        gravity: gravity,\n        popupCss: popupCss,\n        arrowCss: arrowCss\n    };\n}\n\nfunction calculateNorthSouthPositions(popup, targetPosition, mousePosition, opts) {\n    var offsetX = $.isFunction(opts.offsetX) ? opts.offsetX(popup, targetPosition, mousePosition, opts) : opts.offsetX;\n    var offsetY = $.isFunction(opts.offsetY) ? opts.offsetY(popup, targetPosition, mousePosition, opts) : opts.offsetY;\n    var arrowOffsetX = $.isFunction(opts.arrowOffsetX) ? opts.arrowOffsetX(popup, targetPosition, mousePosition, opts) : opts.arrowOffsetX;\n    var arrowOffsetY = $.isFunction(opts.arrowOffsetY) ? opts.arrowOffsetY(popup, targetPosition, mousePosition, opts) : opts.arrowOffsetY;\n\n    var viewportDimensions = dimensionsOf(window);\n    var targetDimensions = dimensionsOf(targetPosition.target);\n    var popupDimensions = dimensionsOf(popup);\n    var arrowDimensions = dimensionsOf(popup.find('.aui-inline-dialog-arrow'));\n\n    var middleOfTrigger = targetDimensions.left + targetDimensions.width / 2; //The absolute x position of the middle of the Trigger\n    var bottomOfViewablePage = (window.pageYOffset || document.documentElement.scrollTop) + viewportDimensions.height;\n    var SCREEN_PADDING = 10; //determines how close to the edge the dialog needs to be before it is considered offscreen\n\n    // Set popup's position (within the viewport)\n    popupDimensions.top = targetDimensions.top + targetDimensions.height + ~~offsetY;\n    popupDimensions.left = targetDimensions.left + ~~offsetX;\n\n    // Calculate if the popup would render off the side of the viewport\n    var diff = viewportDimensions.width - (popupDimensions.left + popupDimensions.width + SCREEN_PADDING);\n\n    // Set arrow's position (within the popup)\n    arrowDimensions.left = middleOfTrigger - popupDimensions.left + ~~arrowOffsetX;\n    // TODO arrowDimensions.top should also use arrowOffsetY.\n    arrowDimensions.top = -(arrowDimensions.height / 2);\n\n    // Check whether the popup should display above or below the trigger\n    var enoughRoomAbove = targetDimensions.top > popupDimensions.height;\n    var enoughRoomBelow = (popupDimensions.top + popupDimensions.height) < bottomOfViewablePage;\n    var displayAbove = (!enoughRoomBelow && enoughRoomAbove) || (enoughRoomAbove && opts.gravity === 's');\n\n    if (displayAbove) {\n        popupDimensions.top = targetDimensions.top - popupDimensions.height - (arrowDimensions.height / 2);\n        arrowDimensions.top = popupDimensions.height;\n    }\n\n    // Check if the popup should show up relative to the mouse\n    if (opts.isRelativeToMouse){\n        if (diff < 0){\n            popupDimensions.right = SCREEN_PADDING;\n            popupDimensions.left = 'auto';\n            // TODO Why doesn't arrowDimentions.left here use arrowOffsetX?\n            arrowDimensions.left = mousePosition.x - (viewportDimensions.width - popupDimensions.width);\n        }else {\n            popupDimensions.left = mousePosition.x - 20;\n            // TODO Why doesn't arrowDimentions.left here use arrowOffsetX?\n            arrowDimensions.left = mousePosition.x - popupDimensions.left;\n        }\n    }else {\n        if (diff < 0){\n            popupDimensions.right = SCREEN_PADDING;\n            popupDimensions.left = 'auto';\n\n            var popupRightEdge = viewportDimensions.width - popupDimensions.right;\n            var popupLeftEdge = popupRightEdge - popupDimensions.width;\n\n            //arrow's position must be relative to the popup's position and not of the screen.\n            arrowDimensions.right = 'auto';\n            // TODO Why doesn't arrowDimentions.left here use arrowOffsetX?\n            arrowDimensions.left = middleOfTrigger - popupLeftEdge - arrowDimensions.width / 2;\n        } else if (popupDimensions.width <= targetDimensions.width / 2){\n            // TODO Why doesn't arrowDimentions.left here use arrowOffsetX?\n            arrowDimensions.left = popupDimensions.width / 2;\n            popupDimensions.left = middleOfTrigger - popupDimensions.width / 2;\n        }\n    }\n    return {\n        gravity: displayAbove ? 's' : 'n',\n        displayAbove: displayAbove,  // Replaced with gravity but remains for backward compatibility.\n        popupCss: {\n            left: popupDimensions.left,\n            top: popupDimensions.top,\n            right: popupDimensions.right\n        },\n        arrowCss: {\n            left: arrowDimensions.left,\n            top: arrowDimensions.top,\n            right: arrowDimensions.right\n        }\n    };\n}\n\n\nInlineDialog.opts = {\n    onTop: false,\n    responseHandler: function (data, status, xhr) {\n        //assume data is html\n        return data;\n    },\n    closeOthers: true,\n    isRelativeToMouse: false,\n    addActiveClass: true, // if false, signifies that the triggers should not have the \"active\" class applied\n    onHover: false,\n    useLiveEvents: false,\n    noBind: false,\n    fadeTime: 100,\n    persistent: false,\n    hideDelay: 10000,\n    showDelay: 0,\n    width: 300,\n    offsetX: 0,\n    offsetY: 10,\n    arrowOffsetX: 0,\n    arrowOffsetY: 0,\n    container: 'body',\n    cacheContent: true,\n    displayShadow: true,\n    autoWidth: false,\n    gravity: 'n',\n    closeOnTriggerClick: false,\n    preHideCallback: function () {\n        return true;\n    },\n    hideCallback: function () {}, // if defined, this method will be exected after the popup has been faded out.\n    initCallback: function () {}, // A function called after the popup contents are loaded. `this` will be the popup jQuery object, and the first argument is the popup identifier.\n    upfrontCallback: function () {}, // A function called before the popup contents are loaded. `this` will be the popup jQuery object, and the first argument is the popup identifier.\n    /**\n     * Returns an object with the following attributes:\n     *      popupCss css attributes to apply on the popup element\n     *      arrowCss css attributes to apply on the arrow element\n     *\n     * @param popup\n     * @param targetPosition position of the target element\n     * @param mousePosition current mouse position\n     * @param opts options\n     */\n    calculatePositions: function (popup, targetPosition, mousePosition, opts) {\n        opts = opts || {};\n        var algorithm = opts.gravity === 'w'? calculateWestPositions : calculateNorthSouthPositions;\n        return algorithm(popup, targetPosition, mousePosition, opts)\n    },\n    getArrowPath: function (positions) {\n        if (positions.gravity === 's') {\n            return 'M0,8L8,16,16,8';\n        } else {\n            return 'M0,8L8,0,16,8';\n        }\n    },\n    getArrowAttributes: function () {\n        return {\n            fill: '#fff',\n            stroke: '#ccc'\n        };\n    }\n};\n\n\n// Deprecations\n// ------------\n\nInlineDialog = deprecate.construct(InlineDialog, 'Inline dialog constructor', {\n    alternativeName: 'inline dialog 2'\n});\n\nvar displayAboveDeprecationLogger = deprecate.getMessageLogger('displayAbove', '[remove version]', {\n    alternativeName: 'gravity',\n    extraInfo: 'See https://ecosystem.atlassian.net/browse/AUI-2197.'\n});\n\nvar onTopDeprecationLogger = deprecate.getMessageLogger('onTop', '[remove version]', {\n    alternativeName: 'gravity',\n    extraInfo: 'See https://ecosystem.atlassian.net/browse/AUI-2197.'\n});\n\nvar getArrowAttributesDeprecationLogger = deprecate.getMessageLogger('getArrowAttributes', '[remove version]', {\n    extraInfo: 'See https://ecosystem.atlassian.net/browse/AUI-1362.'\n});\n\nvar getArrowPathDeprecationLogger = deprecate.getMessageLogger('getArrowPath', '[remove version]', {\n    extraInfo: 'See https://ecosystem.atlassian.net/browse/AUI-1362.'\n});\n\nvar getArrowPathWithGravityDeprecationLogger = deprecate.getMessageLogger('getArrowPath does not support gravity', '[remove version]', {\n    extraInfo: 'See https://ecosystem.atlassian.net/browse/AUI-2197.'\n});\n\n\n// Exporting\n// ---------\n\nglobalize('InlineDialog', InlineDialog);\n\nexport default InlineDialog;\n"],"sourceRoot":"/source/"}