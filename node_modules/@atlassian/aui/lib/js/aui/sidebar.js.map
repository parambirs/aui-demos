{"version":3,"sources":["js/aui/sidebar.js"],"names":[],"mappings":"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","file":"js/aui/sidebar.js","sourcesContent":["'use strict';\n\nimport $ from './jquery';\nimport '../../js-vendor/jquery/jquery.tipsy';\nimport '../../js-vendor/raf/raf';\nimport './i18n';\nimport * as deprecate from './internal/deprecation';\nimport globalize from './internal/globalize';\nimport hasTouch from './internal/has-touch';\nimport isInput from './internal/is-input';\nimport mediaQuery from './internal/mediaQuery';\nimport skate from './internal/skate';\nimport uid from './unique-id';\nimport whenIType from './when-i-type';\nimport widget from './internal/widget';\n\nvar SUPPORTS_TRANSITIONS = (typeof document.documentElement.style['transition'] !== 'undefined') ||\n    (typeof document.documentElement.style['webkitTransition'] !== 'undefined');\n\nfunction sidebarOffset(sidebar) {\n    return sidebar.offset().top;\n}\n\nfunction Sidebar(selector) {\n    this.$el = $(selector);\n    if (!this.$el.length) {\n        return;\n    }\n    this.$body = $('body');\n    this.$wrapper = this.$el.children('.aui-sidebar-wrapper');\n\n    // Sidebar users should add class=\"aui-page-sidebar\" to the\n    // <body> in the rendered markup (to prevent any potential flicker),\n    // so we add it just in case they forgot.\n    this.$body.addClass('aui-page-sidebar');\n\n    this._previousScrollTop = null;\n    this._previousViewportHeight = null;\n    this._previousViewportWidth = null;\n    this._previousOffsetTop = null;\n\n    this.submenus = new SubmenuManager();\n\n    initializeHandlers(this);\n    constructAllSubmenus(this);\n}\n\nvar FORCE_COLLAPSE_WIDTH = 1240;\nvar EVENT_PREFIX = '_aui-internal-sidebar-';\n\nSidebar.prototype.on = function () {\n    var events = arguments[0];\n    var args = Array.prototype.slice.call(arguments, 1);\n    var namespacedEvents = $.map(events.split(' '), function (event) {\n        return EVENT_PREFIX + event;\n    }).join(' ');\n    this.$el.on.apply(this.$el, [namespacedEvents].concat(args));\n    return this;\n};\n\nSidebar.prototype.setHeight = function (scrollTop, viewportHeight, headerHeight) {\n    var visibleHeaderHeight = Math.max(0, headerHeight - scrollTop);\n    this.$wrapper.height(viewportHeight - visibleHeaderHeight);\n    return this;\n};\n\nSidebar.prototype.setPosition = function (scrollTop) {\n    scrollTop = scrollTop || window.pageYOffset;\n    this.$wrapper.toggleClass('aui-is-docked', scrollTop > sidebarOffset(this.$el));\n    return this;\n};\n\nSidebar.prototype.setCollapsedState = function (viewportWidth) {\n    // Reflow behaviour is implemented as a state machine (hence all\n    // state transitions are enumerated). The rest of the state machine,\n    // e.g., entering the expanded narrow (fly-out) state, is implemented\n    // by the toggle() method.\n    var transition = {collapsed: {}, expanded: {}};\n    transition.collapsed.narrow = {\n        narrow: $.noop,\n        wide: function (s) {\n            s._expand(viewportWidth, true);\n        }\n    };\n    transition.collapsed.wide = {\n        narrow: $.noop,  // Becomes collapsed narrow (no visual change).\n        wide: $.noop\n    };\n    transition.expanded.narrow = {\n        narrow: $.noop,\n        wide: function (s) {\n            s.$body.removeClass('aui-sidebar-collapsed');\n            s.$el.removeClass('aui-sidebar-fly-out');\n        }\n    };\n    transition.expanded.wide = {\n        narrow: function (s) {\n            s._collapse(true);\n        },\n        wide: $.noop\n    };\n\n    var collapseState = this.isCollapsed() ? 'collapsed' : 'expanded';\n    var oldSize = this.isViewportNarrow(this._previousViewportWidth) ? 'narrow' : 'wide';\n    var newSize = this.isViewportNarrow(viewportWidth) ? 'narrow' : 'wide';\n    transition[collapseState][oldSize][newSize](this);\n    return this;\n};\n\nSidebar.prototype._collapse = function (isResponsive) {\n    if (this.isCollapsed()) {\n        return this;\n    }\n\n    var startEvent = $.Event(EVENT_PREFIX + 'collapse-start', {isResponsive: isResponsive});\n    this.$el.trigger(startEvent);\n    if (startEvent.isDefaultPrevented()) {\n        return this;\n    }\n\n    this.$body.addClass('aui-sidebar-collapsed');\n    this.$el.attr('aria-expanded', 'false');\n    this.$el.removeClass('aui-sidebar-fly-out');\n    this.$el.find(this.submenuTriggersSelector).attr('tabindex', 0);\n    $(this.inlineDialogSelector).attr('responds-to', 'hover');\n\n    if (!this.isAnimated()) {\n        this.$el.trigger($.Event(EVENT_PREFIX + 'collapse-end', {isResponsive: isResponsive}));\n    }\n    return this;\n};\n\nSidebar.prototype.collapse = function () {\n    return this._collapse(false);\n};\n\nSidebar.prototype._expand = function (viewportWidth, isResponsive) {\n    var startEvent = $.Event(EVENT_PREFIX + 'expand-start', {isResponsive: isResponsive});\n    this.$el.trigger(startEvent);\n    if (startEvent.isDefaultPrevented()) {\n        return this;\n    }\n\n    var isViewportNarrow = this.isViewportNarrow(viewportWidth);\n    this.$el.attr('aria-expanded', 'true');\n    this.$body.toggleClass('aui-sidebar-collapsed', isViewportNarrow);\n    this.$el.toggleClass('aui-sidebar-fly-out', isViewportNarrow);\n    this.$el.find(this.submenuTriggersSelector).removeAttr('tabindex');\n    $(this.inlineDialogSelector).removeAttr('responds-to');\n\n    if (!this.isAnimated()) {\n        this.$el.trigger($.Event(EVENT_PREFIX + 'expand-end', {isResponsive: isResponsive}));\n    }\n    return this;\n};\n\nSidebar.prototype.expand = function () {\n    if (this.isCollapsed()) {\n        this._expand(this._previousViewportWidth, false);\n    }\n    return this;\n};\n\nSidebar.prototype.isAnimated = function () {\n    return SUPPORTS_TRANSITIONS && this.$el.hasClass('aui-is-animated');\n};\n\nSidebar.prototype.isCollapsed = function () {\n    return this.$el.attr('aria-expanded') === 'false';\n};\n\nSidebar.prototype.isViewportNarrow = function (viewportWidth) {\n    viewportWidth = viewportWidth === undefined ? this._previousViewportWidth : viewportWidth;\n    return viewportWidth < FORCE_COLLAPSE_WIDTH;\n};\n\nSidebar.prototype._removeAllTooltips = function () {\n    // tooltips are orphaned when sidebar is expanded, so if there are any visible on the page we remove them all.\n    // Can't scope it to the Sidebar (this) because the tooltip div is a direct child of <body>\n    $(this.tooltipSelector).remove();\n};\n\nSidebar.prototype.reflow = function (scrollTop, viewportHeight, viewportWidth, scrollHeight) {\n    scrollTop = scrollTop === undefined ? window.pageYOffset : scrollTop;\n    viewportHeight = viewportHeight === undefined ? document.documentElement.clientHeight : viewportHeight;\n    scrollHeight = scrollHeight === undefined ? document.documentElement.scrollHeight: scrollHeight;\n    viewportWidth = viewportWidth === undefined ? window.innerWidth :viewportWidth;\n\n    // Header height needs to be checked because in Stash it changes when the CSS \"transform: translate3d\" is changed.\n    // If you called reflow() after this change then nothing happened because the scrollTop and viewportHeight hadn't changed.\n    var offsetTop = sidebarOffset(this.$el);\n    var isInitialPageLoad = this._previousViewportWidth === null;\n\n    if (!(scrollTop === this._previousScrollTop && viewportHeight === this._previousViewportHeight && offsetTop === this._previousOffsetTop)) {\n        if (this.isCollapsed() && !isInitialPageLoad && scrollTop !== this._previousScrollTop) {\n            // hide submenu and tooltips on scroll\n            hideAllSubmenus();\n            this._removeAllTooltips();\n        }\n\n        var isTouch = this.$body.hasClass('aui-page-sidebar-touch');\n        var isTrackpadBounce = scrollTop !== this._previousScrollTop && (scrollTop < 0 || scrollTop + viewportHeight > scrollHeight);\n        if (!isTouch && (isInitialPageLoad || !isTrackpadBounce)) {\n            this.setHeight(scrollTop, viewportHeight, offsetTop);\n            this.setPosition(scrollTop);\n        }\n    }\n\n    var isResponsive = this.$el.attr('data-aui-responsive') !== 'false';\n    if (isResponsive) {\n        if (isInitialPageLoad) {\n            if (!this.isCollapsed() && this.isViewportNarrow(viewportWidth)) {\n                var isAnimated = this.isAnimated();\n                if (isAnimated) {\n                    this.$el.removeClass('aui-is-animated');\n                }\n                // This will trigger the \"collapse\" event before non-sidebar\n                // JS code has a chance to bind listeners; they'll need to\n                // check isCollapsed() if they care about the value at that\n                // time.\n                this.collapse();\n                if (isAnimated) {\n                    // We must trigger a CSS reflow (by accessing\n                    // offsetHeight) otherwise the transition still runs.\n                    // jshint expr:true\n                    this.$el[0].offsetHeight;\n                    this.$el.addClass('aui-is-animated');\n                }\n            }\n        } else if (viewportWidth !== this._previousViewportWidth) {\n            this.setCollapsedState(viewportWidth);\n        }\n    } else {\n        var isFlyOut = !this.isCollapsed() && this.isViewportNarrow(viewportWidth);\n        this.$el.toggleClass('aui-sidebar-fly-out', isFlyOut);\n    }\n\n    this._previousScrollTop = scrollTop;\n    this._previousViewportHeight = viewportHeight;\n    this._previousViewportWidth = viewportWidth;\n    this._previousOffsetTop = offsetTop;\n    return this;\n};\n\nSidebar.prototype.toggle = function () {\n    if (this.isCollapsed()) {\n        this.expand();\n        this._removeAllTooltips();\n    } else {\n        this.collapse();\n    }\n    return this;\n};\n\n/**\n * Returns a jQuery selector string for the trigger elements when the\n * sidebar is in a collapsed state, useful for delegated event binding.\n *\n * When using this selector in event handlers, the element (\"this\") will\n * either be an <a> (when the trigger was a tier-one menu item) or an\n * element with class \"aui-sidebar-group\" (for non-tier-one items).\n *\n * For delegated event binding you should bind to $el and check the value\n * of isCollapsed(), e.g.,\n *\n *     sidebar.$el.on('click', sidebar.collapsedTriggersSelector, function (e) {\n     *         if (!sidebar.isCollapsed()) {\n     *             return;\n     *         }\n     *     });\n *\n * @returns string\n */\nSidebar.prototype.submenuTriggersSelector = '.aui-sidebar-group:not(.aui-sidebar-group-tier-one)';\n\nSidebar.prototype.collapsedTriggersSelector = [\n    Sidebar.prototype.submenuTriggersSelector,\n    '.aui-sidebar-group.aui-sidebar-group-tier-one > .aui-nav > li > a',\n    '.aui-sidebar-footer > .aui-sidebar-settings-button'\n].join(', ');\n\nSidebar.prototype.toggleSelector = '.aui-sidebar-footer > .aui-sidebar-toggle';\n\nSidebar.prototype.tooltipSelector = '.aui-sidebar-section-tooltip';\n\nSidebar.prototype.inlineDialogClass = 'aui-sidebar-submenu-dialog';\nSidebar.prototype.inlineDialogSelector = '.' + Sidebar.prototype.inlineDialogClass;\n\nfunction getAllSubmenuDialogs() {\n    return document.querySelectorAll(Sidebar.prototype.inlineDialogSelector);\n}\n\nfunction SubmenuManager () {\n    this.inlineDialog = null;\n}\n\nSubmenuManager.prototype.submenu = function ($trigger) {\n    sidebarSubmenuDeprecationLogger();\n    return getSubmenu($trigger);\n};\n\nSubmenuManager.prototype.hasSubmenu = function ($trigger) {\n    sidebarSubmenuDeprecationLogger();\n    return hasSubmenu($trigger);\n};\n\nSubmenuManager.prototype.submenuHeadingHeight = function () {\n    sidebarSubmenuDeprecationLogger();\n    return 34;\n};\n\nSubmenuManager.prototype.isShowing = function () {\n    sidebarSubmenuDeprecationLogger();\n    return Sidebar.prototype.isSubmenuVisible();\n};\n\nSubmenuManager.prototype.show = function (e, trigger) {\n    sidebarSubmenuDeprecationLogger();\n    showSubmenu(trigger);\n};\n\nSubmenuManager.prototype.hide = function () {\n    sidebarSubmenuDeprecationLogger();\n    hideAllSubmenus();\n};\n\nSubmenuManager.prototype.inlineDialogShowHandler = function () {\n    sidebarSubmenuDeprecationLogger();\n};\nSubmenuManager.prototype.inlineDialogHideHandler = function () {\n    sidebarSubmenuDeprecationLogger();\n};\nSubmenuManager.prototype.moveSubmenuToInlineDialog = function () {\n    sidebarSubmenuDeprecationLogger();\n};\nSubmenuManager.prototype.restoreSubmenu = function () {\n    sidebarSubmenuDeprecationLogger();\n};\n\nSidebar.prototype.getVisibleSubmenus = function () {\n    return Array.prototype.filter.call(getAllSubmenuDialogs(), function (inlineDialog2) {\n        return inlineDialog2.open;\n    });\n};\n\nSidebar.prototype.isSubmenuVisible = function () {\n    return this.getVisibleSubmenus().length > 0;\n};\n\nfunction getSubmenu($trigger) {\n    return $trigger.is('a') ? $trigger.next('.aui-nav') : $trigger.children('.aui-nav, hr');\n}\n\nfunction getSubmenuInlineDialog(trigger) {\n    var inlineDialogId = trigger.getAttribute('aria-controls');\n    return document.getElementById(inlineDialogId);\n}\n\nfunction hasSubmenu($trigger) {\n    return getSubmenu($trigger).length !== 0;\n}\n\nfunction hideAllSubmenus() {\n    var allSubmenuDialogs = getAllSubmenuDialogs();\n    Array.prototype.forEach.call(allSubmenuDialogs, function (inlineDialog2) {\n        inlineDialog2.open = false;\n    });\n}\n\nfunction showSubmenu(trigger) {\n    getSubmenuInlineDialog(trigger).open = true;\n}\n\nfunction constructSubmenu(sidebar, $trigger) {\n    if ($trigger.data('_aui-sidebar-submenu-constructed')) {\n        return;\n    } else {\n        $trigger.data('_aui-sidebar-submenu-constructed', true)\n    }\n\n    var submenuInlineDialog = document.createElement('aui-inline-dialog');\n\n    var uniqueId = uid('sidebar-submenu');\n\n    $trigger.attr('aria-controls', uniqueId);\n    $trigger.attr('data-aui-trigger', '');\n    skate.init($trigger); //Trigger doesn't listen to attribute modification\n\n    submenuInlineDialog.setAttribute('id', uniqueId);\n    submenuInlineDialog.setAttribute('alignment', 'right top');\n    submenuInlineDialog.setAttribute('aria-hidden', 'true');\n    if (sidebar.isCollapsed()) {\n        submenuInlineDialog.setAttribute('responds-to', 'hover');\n    }\n\n    $(submenuInlineDialog).addClass(Sidebar.prototype.inlineDialogClass);\n\n    document.body.appendChild(submenuInlineDialog);\n    skate.init(submenuInlineDialog); //Needed so that sidebar.submenus.isShowing() will work on page load\n\n    addHandlersToSubmenuInlineDialog(sidebar, $trigger, submenuInlineDialog);\n\n    return submenuInlineDialog;\n}\n\nfunction addHandlersToSubmenuInlineDialog(sidebar, $trigger, submenuInlineDialog) {\n    submenuInlineDialog.addEventListener('aui-layer-show', function (e) {\n        if (!sidebar.isCollapsed()) {\n            e.preventDefault();\n            return;\n        }\n        inlineDialogShowHandler($trigger, submenuInlineDialog);\n    });\n\n    submenuInlineDialog.addEventListener('aui-layer-hide', function () {\n        inlineDialogHideHandler($trigger);\n    });\n}\n\nfunction inlineDialogShowHandler($trigger, submenuInlineDialog) {\n    $trigger.addClass('active');\n    submenuInlineDialog.innerHTML = SUBMENU_INLINE_DIALOG_CONTENTS_HTML;\n    var title = $trigger.is('a') ? $trigger.text() : $trigger.children('.aui-nav-heading').text();\n\n    var $container = $(submenuInlineDialog).find('.aui-navgroup-inner');\n    $container.children('.aui-nav-heading')\n        .attr('title', title)\n        .children('strong')\n        .text(title);\n\n    var $submenu = getSubmenu($trigger);\n    cloneExpander($submenu).appendTo($container);\n\n    /**\n     * Workaround to show all contents in the expander.\n     * This function should come from the expander component.\n     */\n    function cloneExpander(element) {\n        var $clone = AJS.clone(element);\n        if ($clone.hasClass('aui-expander-content')) {\n            $clone.find('.aui-expander-cutoff').remove();\n            $clone.removeClass('aui-expander-content');\n        }\n        return $clone;\n    }\n}\n\nvar SUBMENU_INLINE_DIALOG_CONTENTS_HTML =\n    '<div class=\"aui-inline-dialog-contents\">' +\n    '<div class=\"aui-sidebar-submenu\" >' +\n    '<div class=\"aui-navgroup aui-navgroup-vertical\">' +\n    '<div class=\"aui-navgroup-inner\">' +\n    '<div class=\"aui-nav-heading\"><strong></strong></div>' +\n    '</div>' +\n    '</div>' +\n    '</div>' +\n    '</div>';\n\nfunction inlineDialogHideHandler($trigger) {\n    $trigger.removeClass('active');\n\n}\n\nfunction constructAllSubmenus(sidebar) {\n    $(sidebar.collapsedTriggersSelector).each(function () {\n        var $trigger = $(this);\n        if (hasSubmenu($trigger)) {\n            constructSubmenu(sidebar, $trigger);\n        }\n    });\n}\n\nvar tipsyOpts = {\n    trigger: 'manual',\n    gravity: 'w',\n    className: 'aui-sidebar-section-tooltip',\n    title: function () {\n        var $item = $(this);\n        if ($item.is('a')) {\n            return $item.attr('title') || $item.find('.aui-nav-item-label').text() || $item.data('tooltip');\n        } else {\n            return $item.children('.aui-nav').attr('title') || $item.children('.aui-nav-heading').text();\n        }\n    }\n};\n\nfunction showTipsy($trigger) {\n    $trigger.tipsy(tipsyOpts).tipsy('show');\n    var $tip = $trigger.data('tipsy') && $trigger.data('tipsy').$tip;\n    if ($tip) { // if .aui-sidebar-group does not have a title to display\n        // Remove \"opacity\" inline style from Tipsy to allow the our own styles and transitions to be applied\n        $tip.css({'opacity': ''}).addClass('tooltip-shown');\n    }\n}\n\nfunction hideTipsy($trigger) {\n    var $tip = $trigger.data('tipsy') && $trigger.data('tipsy').$tip;\n    if ($tip) {\n        var durationStr = $tip.css('transition-duration');\n\n        if (durationStr) {\n            // can be denominated in either s or ms\n            var timeoutMs = (durationStr.indexOf('ms') >= 0) ?\n                parseInt(durationStr.substring(0, durationStr.length - 2), 10) :\n                1000 * parseInt(durationStr.substring(0, durationStr.length - 1), 10);\n\n            // use a timeout because the transitionend event is not reliable (yet),\n            // more details here: https://bitbucket.atlassian.net/browse/BB-11599\n            // an example of this at http://labs.silverorange.com/files/webkit-bug/\n            // further caveats here: https://developer.mozilla.org/en-US/docs/Web/Events/transitionend\n            // \"In the case where a transition is removed before completion,\n            // such as if the transition-property is removed, then the event will not fire.\"\n            setTimeout(function () {\n                $trigger.tipsy('hide');\n            }, timeoutMs);\n        }\n\n        $tip.removeClass('tooltip-shown');\n    }\n}\n\nfunction initializeHandlers(sidebar) {\n    var $sidebar = $('.aui-sidebar');\n    if (!$sidebar.length) {\n        return;\n    }\n\n    // AUI-2542: only enter touch mode on small screen touchable devices\n    if (hasTouch && mediaQuery('only screen and (max-device-width:1024px)')) {\n        $('body').addClass('aui-page-sidebar-touch');\n    }\n\n    var pendingReflow = null;\n    $(window).on('scroll resize', function () {\n        if (pendingReflow === null) {\n            pendingReflow = requestAnimationFrame(function () {\n                sidebar.reflow();\n                pendingReflow = null;\n            });\n        }\n    });\n    sidebar.reflow();\n\n    if (sidebar.isAnimated()) {\n        sidebar.$el.on('transitionend webkitTransitionEnd', function () {\n            sidebar.$el.trigger($.Event(EVENT_PREFIX + (sidebar.isCollapsed() ? 'collapse-end' : 'expand-end')));\n        });\n    }\n\n    sidebar.$el.on('click', '.aui-sidebar-toggle', function (e) {\n        e.preventDefault();\n        sidebar.toggle();\n    });\n\n    $('.aui-page-panel').click(function (e) {\n        if (!sidebar.isCollapsed() && sidebar.isViewportNarrow()) {\n            sidebar.collapse();\n        }\n    });\n\n    var toggleShortcutHandler = function (e) {\n        if (e.which === AJS.keyCode.LEFT_SQUARE_BRACKET && !isInput(e.target)) {\n            sidebar.toggle();\n        }\n    };\n\n    //We use keypress because it captures the actual character that was typed and not the physical key that was pressed.\n    //This accounts for other keyboard layouts\n\n    $(document).on('keypress', toggleShortcutHandler);\n\n    sidebar._remove = function () {\n        this.$el.remove();\n        this._removeAllTooltips();\n        $(this.inlineDialogSelector).remove();\n        $(document).off('keypress', toggleShortcutHandler);\n    };\n\n    sidebar.$el.on('touchend', function (e) {\n        if (sidebar.isCollapsed()) {\n            sidebar.expand();\n            e.preventDefault();\n        }\n    });\n\n    sidebar.$el.on('mouseenter focus', sidebar.collapsedTriggersSelector, function (e) {\n        if (!sidebar.isCollapsed()) {\n            return;\n        }\n\n        var $trigger = $(this);\n\n        if (!hasSubmenu($trigger)) {\n            showTipsy($trigger);\n        }\n    });\n\n    sidebar.$el.on('click blur mouseleave', sidebar.collapsedTriggersSelector, function (e) {\n        if (!sidebar.isCollapsed()) {\n            return;\n        }\n        hideTipsy($(this));\n    });\n\n    sidebar.$el.on('mouseenter focus', sidebar.toggleSelector, function () {\n        var $trigger = $(this);\n        if (sidebar.isCollapsed()) {\n            $trigger.data('tooltip', AJS.I18n.getText('aui.sidebar.expand.tooltip'));\n        } else {\n            $trigger.data('tooltip', AJS.I18n.getText('aui.sidebar.collapse.tooltip'));\n        }\n        showTipsy($trigger);\n    });\n\n    sidebar.$el.on('click blur mouseleave', sidebar.toggleSelector, function () {\n        hideTipsy($(this));\n    });\n\n\n    function isNormalTab(e) {\n        return e.keyCode === AJS.keyCode.TAB && !e.shiftKey && !e.altKey;\n    }\n\n    function isShiftTab(e) {\n        return e.keyCode === AJS.keyCode.TAB && e.shiftKey;\n    }\n\n    function isFirstSubmenuItem(item, $submenuDialog) {\n        return item === $submenuDialog.find(':aui-tabbable')[0];\n    }\n\n    function isLastSubmenuItem(item, $submenuDialog) {\n        return item === $submenuDialog.find(':aui-tabbable').last()[0];\n    }\n\n    /**\n     * Force to focus on the first tabbable item in inline dialog.\n     * Reason: inline dialog will be hidden as soon as the trigger is out of focus (onBlur event)\n     * This function should come directly from inline dialog component.\n     */\n    function focusFirstItemOfInlineDialog($inlineDialog) {\n        $inlineDialog.attr('persistent', '');\n        // don't use :aui-tabbable:first as it will select the first tabbable item in EACH nav group\n        $inlineDialog.find(':aui-tabbable').first().focus();\n        // workaround on IE:\n        // delay the persistence of inline dialog to make sure onBlur event was triggered first\n        setTimeout(function () {\n            $inlineDialog.removeAttr('persistent');\n        }, 100);\n    }\n\n    sidebar.$el.on('keydown', sidebar.collapsedTriggersSelector, function (e) {\n        if (sidebar.isCollapsed()) {\n            var triggerEl = e.target;\n            var submenuInlineDialog = getSubmenuInlineDialog(triggerEl);\n            if (!submenuInlineDialog) {\n                return;\n            }\n\n            var $submenuInlineDialog = $(submenuInlineDialog);\n\n            if (isNormalTab(e) && submenuInlineDialog.open) {\n                e.preventDefault();\n                focusFirstItemOfInlineDialog($submenuInlineDialog);\n\n                $submenuInlineDialog.on('keydown', function (e) {\n                    if (isShiftTab(e) && isFirstSubmenuItem(e.target, $submenuInlineDialog) || isNormalTab(e) && isLastSubmenuItem(e.target, $submenuInlineDialog)) {\n                        triggerEl.focus();\n                        // unbind event and close submenu as the focus is out of the submenu\n                        $(this).off('keydown');\n                        hideAllSubmenus();\n                    }\n                });\n            }\n        }\n    });\n}\nvar sidebar = widget('sidebar', Sidebar);\n\n$(function () {\n    sidebar('.aui-sidebar');\n});\n\nvar sidebarSubmenuDeprecationLogger = AJS.deprecate.getMessageLogger('Sidebar.submenus', {\n    removeInVersion: '6.0',\n    sinceVersion: '5.8'\n});\n\nglobalize('sidebar', sidebar);\n\nexport default sidebar;\n"],"sourceRoot":"/source/"}