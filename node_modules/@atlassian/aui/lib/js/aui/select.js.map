{"version":3,"sources":["js/aui/select.js"],"names":[],"mappings":"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","file":"js/aui/select.js","sourcesContent":["'use strict';\n\nimport $ from './jquery';\nimport './i18n';\nimport Option from './internal/select/option';\nimport amdify from './internal/amdify';\nimport CustomEvent from './polyfills/custom-event';\nimport globalize from './internal/globalize';\nimport keyCode from './key-code';\nimport ProgressiveDataSet from './progressive-data-set';\nimport skate from './internal/skate';\nimport state from './internal/state';\nimport SuggestionModel from './internal/select/suggestion-model';\nimport SuggestionsModel from './internal/select/suggestions-model';\nimport SuggestionsView from './internal/select/suggestions-view';\nimport template from './internal/select/template';\nimport uniqueId from './unique-id';\nimport { INPUT_SUFFIX } from './internal/constants';\n\nvar DESELECTED = -1;\nvar NO_HIGHLIGHT = -1;\nvar DEFAULT_SS_PDS_SIZE = 20;\n\nfunction clearElementImage(element) {\n    element._input.removeAttribute('style');\n    $(element._input).removeClass('aui-select-has-inline-image');\n}\n\nfunction deselect(element) {\n    element._select.selectedIndex = DESELECTED;\n    clearElementImage(element);\n}\n\nfunction hasResults(element) {\n    return element._suggestionModel.getNumberOfResults();\n}\n\nfunction waitForAssistive (callback) {\n    setTimeout(callback, 50);\n}\n\nfunction setBusyState (element) {\n    if (!element._button.isBusy()) {\n        element._button.busy();\n        element._input.setAttribute('aria-busy', 'true');\n        element._dropdown.setAttribute('aria-busy', 'true');\n    }\n}\n\nfunction setIdleState (element) {\n    element._button.idle();\n    element._input.setAttribute('aria-busy', 'false');\n    element._dropdown.setAttribute('aria-busy', 'false');\n}\n\nfunction matchPrefix (model, query) {\n    var value = model.get('label').toLowerCase();\n    return value.indexOf(query.toLowerCase()) === 0;\n}\n\nfunction hideDropdown (element) {\n    element._suggestionsView.hide();\n    element._input.setAttribute('aria-expanded', 'false');\n}\n\nfunction setInitialVisualState (element) {\n    var initialHighlightedItem = hasResults(element) ? 0 : NO_HIGHLIGHT;\n\n    element._suggestionModel.highlight(initialHighlightedItem);\n\n    hideDropdown(element);\n}\n\nfunction setElementImage (element, imageSource) {\n    $(element._input).addClass('aui-select-has-inline-image');\n    element._input.setAttribute('style', 'background-image: url(' + imageSource + ')');\n}\n\nfunction suggest (element, autoHighlight, query) {\n    element._autoHighlight = autoHighlight;\n\n    if (query === undefined) {\n        query = element._input.value;\n    }\n\n    element._progressiveDataSet.query(query);\n}\n\nfunction setInputImageToHighlightedSuggestion (element) {\n    var imageSource = (element._suggestionModel.highlighted() && element._suggestionModel.highlighted().get('img-src'));\n    if (imageSource) {\n        setElementImage(element, imageSource);\n    }\n}\n\nfunction setValueAndDisplayFromModel (element, model) {\n    if (!model) {\n        return;\n    }\n\n    var option = document.createElement('option');\n    var select = element._select;\n    var value = model.get('value') || model.get('label');\n\n    option.setAttribute('selected', 'true');\n    option.setAttribute('value', value);\n    option.textContent = model.getLabel();\n\n    // Sync element value.\n    element._input.value = option.textContent;\n\n    select.innerHTML = '';\n    select.options.add(option);\n    select.dispatchEvent(new CustomEvent('change', {bubbles: true}));\n}\n\nfunction clearValue (element) {\n    element._input.value = '';\n    element._select.innerHTML = '';\n}\n\nfunction selectHighlightedSuggestion (element) {\n    setValueAndDisplayFromModel(element, element._suggestionModel.highlighted());\n    setInputImageToHighlightedSuggestion(element);\n    setInitialVisualState(element);\n}\n\nfunction convertOptionToModel (option) {\n    return new SuggestionModel(option.serialize());\n}\n\nfunction convertOptionsToModels (element) {\n    var models = [];\n\n    for (var i = 0; i < element._datalist.children.length; i++) {\n        var option = element._datalist.children[i];\n        models.push(convertOptionToModel(option));\n    }\n\n    return models;\n}\n\nfunction clearAndSet (element, data) {\n    element._suggestionModel.set();\n    element._suggestionModel.set(data.results);\n}\n\nfunction getActiveId (select) {\n    var active = select._dropdown.querySelector('.aui-select-active');\n    return active && active.id;\n}\n\nfunction getIndexInResults (id, results) {\n    var resultsIds = $.map(results, function (result) {\n        return result.id;\n    });\n\n    return resultsIds.indexOf(id);\n}\n\nfunction createNewValueModel (element) {\n    var option = new Option();\n    option.setAttribute('value', element._input.value);\n    var newValueSuggestionModel = convertOptionToModel(option);\n    newValueSuggestionModel.set('new-value', true);\n    return newValueSuggestionModel;\n}\n\nfunction initialiseProgressiveDataSet (element) {\n    element._progressiveDataSet = new ProgressiveDataSet(convertOptionsToModels(element), {\n        model: SuggestionModel,\n        matcher: matchPrefix,\n        queryEndpoint: element._queryEndpoint,\n        maxResults: DEFAULT_SS_PDS_SIZE\n    });\n\n    element._isSync = element._queryEndpoint ? false : true;\n\n    // Progressive data set should indicate whether or not it is busy when processing any async requests.\n    // Check if there's any active queries left, if so: set spinner and state to busy, else set to idle and remove\n    // the spinner.\n    element._progressiveDataSet.on('activity', function () {\n        if (element._progressiveDataSet.activeQueryCount && !element._isSync) {\n            setBusyState(element);\n            state(element).set('should-flag-new-suggestions', false);\n        } else {\n            setIdleState(element);\n            state(element).set('should-flag-new-suggestions', true);\n        }\n    });\n\n    // Progressive data set doesn't do anything if the query is empty so we\n    // must manually convert all data list options into models.\n    //\n    // Otherwise progressive data set can do everything else for us:\n    // 1. Sync matching\n    // 2. Async fetching and matching\n    element._progressiveDataSet.on('respond', function (data) {\n        var optionToHighlight;\n\n        // This means that a query was made before the input was cleared and\n        // we should cancel the response.\n        if (data.query && !element._input.value) {\n            return;\n        }\n\n        if (state(element).get('should-cancel-response')) {\n            if (!element._progressiveDataSet.activeQueryCount) {\n                state(element).set('should-cancel-response', false);\n            }\n\n            return;\n        }\n\n        if (!data.query) {\n            data.results = convertOptionsToModels(element);\n        }\n\n        var isInputExactMatch = getIndexInResults(element._input.value, data.results) !== -1;\n        var isInputEmpty = !element._input.value;\n\n        if (element.hasAttribute('can-create-values') && !isInputExactMatch && !isInputEmpty) {\n            data.results.push(createNewValueModel(element));\n        }\n\n        if (!state(element).get('should-include-selected')) {\n            var indexOfValueInResults = getIndexInResults(element.value, data.results);\n\n            if (indexOfValueInResults >= 0) {\n                data.results.splice(indexOfValueInResults, 1);\n            }\n        }\n\n        clearAndSet(element, data);\n        optionToHighlight = element._suggestionModel.highlighted() || data.results[0];\n\n        if (element._autoHighlight) {\n            element._suggestionModel.setHighlighted(optionToHighlight);\n            waitForAssistive(function () {\n                element._input.setAttribute('aria-activedescendant', getActiveId(element));\n            });\n        }\n\n        element._input.setAttribute('aria-expanded', 'true');\n\n        // If the response is async (append operation), has elements to append and has a highlighted element, we need to update the status.\n        if (!element._isSync && element._suggestionsView.getActive() && state(element).get('should-flag-new-suggestions')) {\n            element.querySelector('.aui-select-status').innerHTML = AJS.I18n.getText('aui.select.new.suggestions');\n        }\n\n        element._suggestionsView.show();\n\n        if (element._autoHighlight) {\n            waitForAssistive(function () {\n                element._input.setAttribute('aria-activedescendant', getActiveId(element));\n            });\n        }\n    });\n}\n\nfunction associateDropdownAndTrigger (element) {\n    element._dropdown.id = element._listId;\n    element.querySelector('button').setAttribute('aria-controls', element._listId);\n}\n\nfunction bindHighlightMouseover (element) {\n    $(element._dropdown).on('mouseover', 'li', function (e) {\n        if (hasResults(element)) {\n            element._suggestionModel.highlight($(e.target).index());\n        }\n    });\n}\n\nfunction bindSelectMousedown (element) {\n    $(element._dropdown).on('mousedown', 'li', function (e) {\n        if (hasResults(element)) {\n            element._suggestionModel.highlight($(e.target).index());\n            selectHighlightedSuggestion(element);\n            element._suggestionsView.hide();\n            element._input.removeAttribute('aria-activedescendant');\n        } else {\n            return false;\n        }\n    });\n}\n\nfunction initialiseValue (element) {\n    var option = element._datalist.querySelector('aui-option[selected]');\n\n    if (option) {\n        setValueAndDisplayFromModel(element, convertOptionToModel(option));\n    }\n}\n\nfunction isQueryInProgress (element) {\n    return element._progressiveDataSet.activeQueryCount > 0;\n}\n\nfunction focusInHandler (element) {\n    //if there is a selected value the single select should do an empty\n    //search and return everything\n    var searchValue = element.value ? '' : element._input.value;\n    var isInputEmpty = element._input.value === '';\n    state(element).set('should-include-selected', isInputEmpty);\n    suggest(element, true, searchValue);\n}\n\nfunction cancelInProgressQueries (element) {\n    if (isQueryInProgress(element)) {\n        state(element).set('should-cancel-response', true);\n    }\n}\n\nfunction handleInvalidInputOnFocusOut (element) {\n    var selectCanBeEmpty = !element.hasAttribute('no-empty-values');\n    var selectionIsEmpty = !element._input.value;\n    var selectionNotExact = element._input.value !== element.value;\n    var selectionNotValid = selectionIsEmpty || selectionNotExact;\n\n    if (selectionNotValid) {\n        if (selectCanBeEmpty) {\n            deselect(element);\n        } else {\n            element._input.value = element.value;\n        }\n    }\n}\n\nfunction handleHighlightOnFocusOut(element) {\n    // Forget the highlighted suggestion.\n    element._suggestionModel.highlight(NO_HIGHLIGHT);\n}\n\nfunction focusOutHandler (element) {\n    cancelInProgressQueries(element);\n    handleInvalidInputOnFocusOut(element);\n    handleHighlightOnFocusOut(element);\n    hideDropdown(element);\n}\n\nfunction handleTabOut (element) {\n    var isSuggestionViewVisible = element._suggestionsView.isVisible();\n    if (isSuggestionViewVisible) {\n        selectHighlightedSuggestion(element);\n    }\n}\n\nlet select = skate('aui-select', {\n    template: template,\n    created: function (element) {\n        element._listId = uniqueId();\n        element._input = element.querySelector('input');\n        element._select = element.querySelector('select');\n        element._dropdown = element.querySelector('.aui-popover');\n        element._datalist = element.querySelector('datalist');\n        element._button = element.querySelector('button');\n        element._suggestionsView = new SuggestionsView(element._dropdown, element._input);\n        element._suggestionModel = new SuggestionsModel();\n\n        element._suggestionModel.onChange = function (oldSuggestions) {\n            var suggestionsToAdd = [];\n\n            element._suggestionModel._suggestions.forEach(function (newSuggestion) {\n                var inArray = oldSuggestions.some(function (oldSuggestion) {\n                    return newSuggestion.id === oldSuggestion.id;\n                });\n\n                if (!inArray) {\n                    suggestionsToAdd.push(newSuggestion);\n                }\n            });\n\n            element._suggestionsView.render(suggestionsToAdd, oldSuggestions.length, element._listId);\n        };\n\n        element._suggestionModel.onHighlightChange = function () {\n            var active = element._suggestionModel.highlightedIndex();\n            element._suggestionsView.setActive(active);\n            element._input.setAttribute('aria-activedescendant', getActiveId(element));\n        };\n    },\n\n    attached: function (element) {\n        skate.init(element);\n        initialiseProgressiveDataSet(element);\n        associateDropdownAndTrigger(element);\n        element._input.setAttribute('aria-controls', element._listId);\n        element.setAttribute('tabindex', '-1');\n        bindHighlightMouseover(element);\n        bindSelectMousedown(element);\n        initialiseValue(element);\n        setInitialVisualState(element);\n        setInputImageToHighlightedSuggestion(element);\n    },\n\n    attributes: {\n        id(element, data) {\n            if (element.id) {\n                element.querySelector('input').id = data.newValue + INPUT_SUFFIX;\n            }\n        },\n\n        name(element, data) {\n            element.querySelector('select').setAttribute('name', data.newValue);\n        },\n\n        placeholder(element, data) {\n            element.querySelector('input').setAttribute('placeholder', data.newValue);\n        },\n\n        src(element, data) {\n            element._queryEndpoint = data.newValue;\n        }\n    },\n\n    events: {\n        'blur input': function (element) {\n            focusOutHandler(element);\n        },\n\n        'mousedown button': function (element) {\n            if (document.activeElement === element._input && element._dropdown.getAttribute('aria-hidden') === 'false') {\n                state(element).set('prevent-open-on-button-click', true);\n            }\n        },\n\n        'click input': function (element) {\n            focusInHandler(element);\n        },\n\n        'click button': function (element) {\n            var data = state(element);\n\n            if (data.get('prevent-open-on-button-click')) {\n                data.set('prevent-open-on-button-click', false);\n            } else {\n                element.focus();\n            }\n        },\n\n        input: function (element) {\n            if (!element._input.value) {\n                hideDropdown(element);\n            } else {\n                state(element).set('should-include-selected', true);\n                suggest(element, true);\n            }\n        },\n\n        'keydown input': function (element, e) {\n            var currentValue = element._input.value;\n            var handled = false;\n\n            if (e.keyCode === keyCode.ESCAPE) {\n                cancelInProgressQueries(element);\n                hideDropdown(element);\n                return;\n            }\n\n            var isSuggestionViewVisible = element._suggestionsView.isVisible();\n\n            if (isSuggestionViewVisible && hasResults(element)) {\n                if (e.keyCode === keyCode.ENTER) {\n                    cancelInProgressQueries(element);\n                    selectHighlightedSuggestion(element);\n                    e.preventDefault();\n                } else if (e.keyCode === keyCode.TAB) {\n                    handleTabOut(element);\n                    handled = true;\n                } else if (e.keyCode === keyCode.UP) {\n                    element._suggestionModel.highlightPrevious();\n                    e.preventDefault();\n                } else if (e.keyCode === keyCode.DOWN) {\n                    element._suggestionModel.highlightNext();\n                    e.preventDefault();\n                }\n            } else if (e.keyCode === keyCode.UP || e.keyCode === keyCode.DOWN) {\n                focusInHandler(element);\n                e.preventDefault();\n            }\n\n            handled = handled || e.defaultPrevented;\n            setTimeout(function emulateCrossBrowserInputEvent () {\n                if (element._input.value !== currentValue && !handled) {\n                    element.dispatchEvent(new CustomEvent('input', {bubbles: true}));\n                }\n            }, 0);\n        }\n    },\n\n    prototype: {\n        get value () {\n            var selected = this._select.options[this._select.selectedIndex];\n            return selected ? selected.value : '';\n        },\n\n        set value (value) {\n            if (value === '') {\n                clearValue(this);\n            } else if (value) {\n                var data = this._progressiveDataSet;\n                var model = data.findWhere({\n                    value: value\n                }) || data.findWhere({\n                    label: value\n                });\n\n                // Create a new value if allowed and the value doesn't exist.\n                if (!model && this.hasAttribute('can-create-values')) {\n                    model = new SuggestionModel({value: value, label: value});\n                }\n\n                setValueAndDisplayFromModel(this, model);\n            }\n            return this;\n        },\n\n        get displayValue () {\n            return this._input.value;\n        },\n\n        blur: function () {\n            this._input.blur();\n            focusOutHandler(this);\n            return this;\n        },\n\n        focus: function () {\n            this._input.focus();\n            focusInHandler(this);\n            return this;\n        }\n    }\n});\n\namdify('aui/select', select);\nglobalize('select', select);\nexport default select;\n"],"sourceRoot":"/source/"}